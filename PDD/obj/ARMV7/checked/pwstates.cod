; Listing generated by Microsoft (R) Optimizing Compiler Version 17.00.50727.114 

	TTL	C:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
	THUMB

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	IMPORT	|__security_push_cookie|
	IMPORT	|__security_pop_cookie|
	IMPORT	|__GSHandlerCheck|
	IMPORT	|StringCchVPrintfW|
	IMPORT	|StringCchLengthW|
	IMPORT	|CeLogData|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$CeLogMsg| DCD imagerel |$LN8@CeLogMsg|
	DCD	imagerel |$unwind2$CeLogMsg|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$CeLogMsg| DCD 0x44b00032
	DCD	0x1e889e8
	DCD	0x400a8fb
	DCD	0x8801e8ff
	DCD	0xff05ef00
	DCD	imagerel |__GSHandlerCheck|
	DCD	0xffffffe5
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\celog.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |CeLogMsg| PROC

; 1208 : {

  00000		 |$LN8@CeLogMsg|
  00000	b40f		 push        {r0-r3}
  00002	e92d 4800	 push        {r11,lr}
  00006	46eb		 mov         r11,sp
  00008	f000 f800	 bl          __security_push_cookie
  0000c	f2ad 2d24	 subw        sp,sp,#0x224
  00010		 |$M6|
  00010	4602		 mov         r2,r0

; 1209 :     va_list arglist;
; 1210 :     WCHAR   szTemp[MAX_PATH];
; 1211 :     size_t  cchLen;
; 1212 :     HRESULT hr;
; 1213 : 
; 1214 :     // Compose a single string using the input args
; 1215 :     va_start(arglist, szFormat);
; 1216 :     hr = StringCchVPrintfW(szTemp, MAX_PATH, szFormat, arglist);

  00012	a806		 add         r0,sp,#0x18
  00014	ab8d		 add         r3,sp,#0x234
  00016	f44f 7182	 mov         r1,#0x104
  0001a	928c		 str         r2,[sp,#0x230]
  0001c	f000 f800	 bl          StringCchVPrintfW

; 1217 :     if (SUCCEEDED(hr)) {

  00020	2800		 cmp         r0,#0
  00022	db17		 blt         |$LN1@CeLogMsg|

; 1218 :         hr = StringCchLengthW(szTemp, MAX_PATH, &cchLen);

  00024	aa04		 add         r2,sp,#0x10
  00026	a806		 add         r0,sp,#0x18
  00028	f44f 7182	 mov         r1,#0x104
  0002c	f000 f800	 bl          StringCchLengthW

; 1219 :         if (SUCCEEDED(hr)) {

  00030	2800		 cmp         r0,#0
  00032	db0f		 blt         |$LN1@CeLogMsg|

; 1220 :             CeLogData(TRUE, CELID_RAW_WCHAR, szTemp, (WORD)((cchLen + 1) * sizeof(WCHAR)),
; 1221 :                       0, CELZONE_ALWAYSON, 0, FALSE);

  00034	f04f 4380	 mov         r3,#0x40000000
  00038	9301		 str         r3,[sp,#4]
  0003a	9b04		 ldr         r3,[sp,#0x10]
  0003c	2200		 movs        r2,#0
  0003e	9203		 str         r2,[sp,#0xC]
  00040	3301		 adds        r3,#1
  00042	005b		 lsls        r3,r3,#1
  00044	9202		 str         r2,[sp,#8]
  00046	9200		 str         r2,[sp]
  00048	aa06		 add         r2,sp,#0x18
  0004a	214a		 movs        r1,#0x4A
  0004c	b29b		 uxth        r3,r3
  0004e	2001		 movs        r0,#1
  00050	f000 f800	 bl          CeLogData
  00054		 |$LN1@CeLogMsg|
  00054		 |$M9|

; 1222 :         }
; 1223 :     }
; 1224 : }

  00054	f20d 2d24	 addw        sp,sp,#0x224
  00058	f000 f800	 bl          __security_pop_cookie
  0005c	f85d bb04	 pop         {r11}
  00060	f85d fb14	 ldr         pc,[sp],#0x14
  00064		 |$M7|

			 ENDP  ; |CeLogMsg|

	EXPORT	|?DisableBacklightTimeout@PowerStateManager@@QAAXXZ| ; PowerStateManager::DisableBacklightTimeout
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?DisableBacklightTimeout@PowerStateManager@@QAAXXZ| PROC ; PowerStateManager::DisableBacklightTimeout

; 202  : 		m_dwCurBacklightTimeout = INFINITE;

  00000	f06f 0300	 mvn         r3,#0
  00004	f8c0 3288	 str         r3,[r0,#0x288]
  00008		 |$M4|

; 203  : 	};

  00008	4770		 bx          lr

			 ENDP  ; |?DisableBacklightTimeout@PowerStateManager@@QAAXXZ|, PowerStateManager::DisableBacklightTimeout

	EXPORT	|?DisableUserIdleTimeout@PowerStateManager@@QAAXXZ| ; PowerStateManager::DisableUserIdleTimeout
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?DisableUserIdleTimeout@PowerStateManager@@QAAXXZ| PROC ; PowerStateManager::DisableUserIdleTimeout

; 206  : 		m_dwCurUserIdleTimeout = INFINITE;

  00000	f06f 0300	 mvn         r3,#0
  00004	f8c0 328c	 str         r3,[r0,#0x28C]
  00008		 |$M4|

; 207  : 	};

  00008	4770		 bx          lr

			 ENDP  ; |?DisableUserIdleTimeout@PowerStateManager@@QAAXXZ|, PowerStateManager::DisableUserIdleTimeout

	EXPORT	|?DisableResumingSuspendTimeout@PowerStateManager@@QAAXXZ| ; PowerStateManager::DisableResumingSuspendTimeout
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?DisableResumingSuspendTimeout@PowerStateManager@@QAAXXZ| PROC ; PowerStateManager::DisableResumingSuspendTimeout

; 214  : 		m_dwCurResumingSuspendTimeout = INFINITE;

  00000	f06f 0300	 mvn         r3,#0
  00004	f8c0 3284	 str         r3,[r0,#0x284]
  00008		 |$M4|

; 215  : 	};

  00008	4770		 bx          lr

			 ENDP  ; |?DisableResumingSuspendTimeout@PowerStateManager@@QAAXXZ|, PowerStateManager::DisableResumingSuspendTimeout

	EXPORT	|?ClearUnattendedRefCount@PowerStateManager@@QAAXXZ| ; PowerStateManager::ClearUnattendedRefCount
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?ClearUnattendedRefCount@PowerStateManager@@QAAXXZ| PROC ; PowerStateManager::ClearUnattendedRefCount

; 234  : 		m_dwUnattendedModeRef = 0;

  00000	2300		 movs        r3,#0
  00002	f8c0 3290	 str         r3,[r0,#0x290]
  00006		 |$M4|

; 235  :     }

  00006	4770		 bx          lr

			 ENDP  ; |?ClearUnattendedRefCount@PowerStateManager@@QAAXXZ|, PowerStateManager::ClearUnattendedRefCount

	EXPORT	|?GetUnattendedRefCount@PowerStateManager@@QAAKXZ| ; PowerStateManager::GetUnattendedRefCount
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?GetUnattendedRefCount@PowerStateManager@@QAAKXZ| PROC ; PowerStateManager::GetUnattendedRefCount

; 253  : 		return m_dwUnattendedModeRef;

  00000	f8d0 0290	 ldr         r0,[r0,#0x290]
  00004		 |$M4|

; 254  :     }

  00004	4770		 bx          lr

			 ENDP  ; |?GetUnattendedRefCount@PowerStateManager@@QAAKXZ|, PowerStateManager::GetUnattendedRefCount

	EXPORT	|?GetUserActivityTimer@PowerStateManager@@QAAPAU_ActivityTimer_tag@@XZ| ; PowerStateManager::GetUserActivityTimer
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?GetUserActivityTimer@PowerStateManager@@QAAPAU_ActivityTimer_tag@@XZ| PROC ; PowerStateManager::GetUserActivityTimer

; 261  : 		return m_pUserActivity;

  00000	f8d0 0258	 ldr         r0,[r0,#0x258]
  00004		 |$M4|

; 262  :     }

  00004	4770		 bx          lr

			 ENDP  ; |?GetUserActivityTimer@PowerStateManager@@QAAPAU_ActivityTimer_tag@@XZ|, PowerStateManager::GetUserActivityTimer

	EXPORT	|?EnterState@PowerState@@UAAXXZ|	; PowerState::EnterState
	EXPORT	|?Init@PowerState@@UAAHXZ|		; PowerState::Init
	EXPORT	|?WaitForEvent@PowerState@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| ; PowerState::WaitForEvent
	EXPORT	|?DefaultEventHandle@PowerState@@UAA?AW4PLATFORM_ACTIVITY_STATE@@W4PLATFORM_ACTIVITY_EVENT@@@Z| ; PowerState::DefaultEventHandle
	EXPORT	|?StateValidateRegistry@PowerState@@UAAKKK@Z| ; PowerState::StateValidateRegistry
	EXPORT	|?GetLastNewState@PowerState@@UAA?AW4PLATFORM_ACTIVITY_STATE@@XZ| ; PowerState::GetLastNewState
	EXPORT	|?SetSystemAPIState@PowerState@@UAA?AW4PLATFORM_ACTIVITY_STATE@@W42@@Z| ; PowerState::SetSystemAPIState
	EXPORT	|?AppsCanRequestState@PowerState@@UAAHXZ| ; PowerState::AppsCanRequestState
	EXPORT	|?MsgQueueEvent@PowerState@@MAA?AW4PLATFORM_ACTIVITY_EVENT@@XZ| ; PowerState::MsgQueueEvent
	EXPORT	|??_7PowerState@@6B@| [ DATA ]		; PowerState::`vftable'
	EXPORT	|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1IK@BFGOIDAJ@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@| [ DATA ] ; `string'
	EXPORT	|??0PowerState@@QAA@PAVPowerStateManager@@PAV0@@Z| ; PowerState::PowerState
	IMPORT	|memset|
	IMPORT	|??_EPowerState@@UAAPAXI@Z|, WEAK |??_GPowerState@@UAAPAXI@Z| ; PowerState::`vector deleting destructor', PowerState::`scalar deleting destructor'
	IMPORT	|_purecall|
	IMPORT	|CreateEventW|
	IMPORT	|NKDbgPrintfW|

  00008			 AREA	 |.pdata|, PDATA
|$pdata1$??0PowerState@@QAA@PAVPowerStateManager@@PAV0@@Z| DCD imagerel |$LN14@PowerState|
	DCD	0x3160ad

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1IK@BFGOIDAJ@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@| DCB "c"
	DCB	0x0, ":", 0x0, "\\", 0x0, "w", 0x0, "i", 0x0, "n", 0x0, "c"
	DCB	0x0, "e", 0x0, "8", 0x0, "0", 0x0, "0", 0x0, "\\", 0x0, "p"
	DCB	0x0, "l", 0x0, "a", 0x0, "t", 0x0, "f", 0x0, "o", 0x0, "r"
	DCB	0x0, "m", 0x0, "\\", 0x0, "r", 0x0, "r", 0x0, "m", 0x0, "_"
	DCB	0x0, "p", 0x0, "p", 0x0, "c", 0x0, "_", 0x0, "w", 0x0, "i"
	DCB	0x0, "n", 0x0, "d", 0x0, "o", 0x0, "w", 0x0, "s", 0x0, "\\"
	DCB	0x0, "s", 0x0, "r", 0x0, "c", 0x0, "\\", 0x0, "d", 0x0, "r"
	DCB	0x0, "i", 0x0, "v", 0x0, "e", 0x0, "r", 0x0, "s", 0x0, "\\"
	DCB	0x0, "p", 0x0, "m", 0x0, "\\", 0x0, "p", 0x0, "d", 0x0, "d"
	DCB	0x0, "\\", 0x0, "p", 0x0, "w", 0x0, "s", 0x0, "t", 0x0, "a"
	DCB	0x0, "t", 0x0, "e", 0x0, "s", 0x0, ".", 0x0, "c", 0x0, "p"
	DCB	0x0, "p", 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@| DCB "U", 0x0
	DCB	"n", 0x0, "k", 0x0, "n", 0x0, "o", 0x0, "w", 0x0, "n", 0x0
	DCB	0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "D", 0x0, "E", 0x0, "B"
	DCB	0x0, "U", 0x0, "G", 0x0, "C", 0x0, "H", 0x0, "K", 0x0, " "
	DCB	0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d"
	DCB	0x0, " ", 0x0, "i", 0x0, "n", 0x0, " ", 0x0, "f", 0x0, "i"
	DCB	0x0, "l", 0x0, "e", 0x0, " ", 0x0, "%", 0x0, "s", 0x0, " "
	DCB	0x0, "a", 0x0, "t", 0x0, " ", 0x0, "l", 0x0, "i", 0x0, "n"
	DCB	0x0, "e", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, " ", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_7PowerState@@6B@| DCD |??_EPowerState@@UAAPAXI@Z|	; PowerState::`vftable'
	DCD	|?EnterState@PowerState@@UAAXXZ|
	DCD	|?Init@PowerState@@UAAHXZ|
	DCD	|?WaitForEvent@PowerState@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|
	DCD	|?DefaultEventHandle@PowerState@@UAA?AW4PLATFORM_ACTIVITY_STATE@@W4PLATFORM_ACTIVITY_EVENT@@@Z|
	DCD	|_purecall|
	DCD	|_purecall|
	DCD	|?StateValidateRegistry@PowerState@@UAAKKK@Z|
	DCD	|?GetLastNewState@PowerState@@UAA?AW4PLATFORM_ACTIVITY_STATE@@XZ|
	DCD	|?SetSystemAPIState@PowerState@@UAA?AW4PLATFORM_ACTIVITY_STATE@@W42@@Z|
	DCD	|?AppsCanRequestState@PowerState@@UAAHXZ|
	DCD	|?MsgQueueEvent@PowerState@@MAA?AW4PLATFORM_ACTIVITY_EVENT@@XZ|
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00064			 AREA	 |.text|, CODE, THUMB

  00064		 |??0PowerState@@QAA@PAVPowerStateManager@@PAV0@@Z| PROC ; PowerState::PowerState

; 99   : {

  00064		 |$LN14@PowerState|
  00064	e92d 4830	 push        {r4,r5,r11,lr}
  00068	f20d 0b08	 addw        r11,sp,#8
  0006c		 |$M12|
  0006c	4b16		 ldr         r3,|$LN20@PowerState| ; =|??_7PowerState@@6B@|
  0006e	4605		 mov         r5,r0
  00070	616a		 str         r2,[r5,#0x14]
  00072	460c		 mov         r4,r1

; 100  : 	memset (m_dwEventArray, 0, sizeof (m_dwEventArray));

  00074	f44f 7280	 mov         r2,#0x100
  00078	3018		 adds        r0,r0,#0x18
  0007a	2100		 movs        r1,#0
  0007c	602b		 str         r3,[r5]
  0007e	60ac		 str         r4,[r5,#8]
  00080	f000 f800	 bl          memset

; 101  : 	m_hUnsignaledHandle = CreateEvent (NULL, FALSE, FALSE, NULL);

  00084	2300		 movs        r3,#0
  00086	2200		 movs        r2,#0
  00088	2100		 movs        r1,#0
  0008a	2000		 movs        r0,#0
  0008c	f000 f800	 bl          CreateEventW
  00090	60e8		 str         r0,[r5,#0xC]

; 102  : 	PREFAST_ASSERT (pPwrStateMgr != NULL);

  00092	b934		 cbnz        r4,|$LN7@PowerState|
  00094	4a0b		 ldr         r2,|$LN19@PowerState| ; =|??_C@_1IK@BFGOIDAJ@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00096	490a		 ldr         r1,|$LN18@PowerState| ; =|??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  00098	4808		 ldr         r0,|$LN17@PowerState| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  0009a	2366		 movs        r3,#0x66
  0009c	f000 f800	 bl          NKDbgPrintfW
  000a0	defe		 __debugbreak
  000a2		 |$LN7@PowerState|

; 103  : 
; 104  : 	m_dwNumOfEvent = PM_BASE_TOTAL_EVENT;

  000a2	2308		 movs        r3,#8
  000a4	612b		 str         r3,[r5,#0x10]
  000a6	462a		 mov         r2,r5
  000a8	2108		 movs        r1,#8
  000aa		 |$LL3@PowerState|

; 105  : 	for (DWORD dwIndex = 0; dwIndex < PM_BASE_TOTAL_EVENT; dwIndex++)
; 106  : 	{
; 107  : 		m_dwEventArray[dwIndex] = m_hUnsignaledHandle;

  000aa	68eb		 ldr         r3,[r5,#0xC]
  000ac	6193		 str         r3,[r2,#0x18]
  000ae	3204		 adds        r2,#4
  000b0	3901		 subs        r1,#1
  000b2	d1fa		 bne         |$LL3@PowerState|

; 108  : 	}
; 109  : }

  000b4	4628		 mov         r0,r5
  000b6		 |$M15|
  000b6	e8bd 8830	 pop         {r4,r5,r11,pc}
  000ba		 |$LN21@PowerState|
  000ba		 |$M22|
  000ba	defe		 __debugbreak
  000bc		 |$LN16@PowerState|
  000bc		 |$LN17@PowerState|
  000bc	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  000c0		 |$LN18@PowerState|
  000c0	0000 0000	 DCD         |??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  000c4		 |$LN19@PowerState|
  000c4	0000 0000	 DCD         |??_C@_1IK@BFGOIDAJ@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  000c8		 |$LN20@PowerState|
  000c8	0000 0000	 DCD         |??_7PowerState@@6B@|
  000cc		 |$M13|

			 ENDP  ; |??0PowerState@@QAA@PAVPowerStateManager@@PAV0@@Z|, PowerState::PowerState

	EXPORT	|??1PowerState@@UAA@XZ|			; PowerState::~PowerState
	IMPORT	|CloseHandle|
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  000cc			 AREA	 |.text|, CODE, THUMB

  000cc		 |??1PowerState@@UAA@XZ| PROC		; PowerState::~PowerState

; 112  : {

  000cc	4b03		 ldr         r3,|$LN8@PowerState| ; =|??_7PowerState@@6B@|
  000ce	6003		 str         r3,[r0]

; 113  : 	if (m_hUnsignaledHandle != NULL)

  000d0	68c0		 ldr         r0,[r0,#0xC]
  000d2	b108		 cbz         r0,|$LN1@PowerState|
  000d4		 |$M5|

; 114  : 		CloseHandle (m_hUnsignaledHandle);

  000d4	f000 9000	 b           CloseHandle
  000d8		 |$LN1@PowerState|
  000d8		 |$M6|

; 115  : }

  000d8	4770		 bx          lr
  000da		 |$LN9@PowerState|
  000da		 |$M10|
  000da	defe		 __debugbreak
  000dc		 |$LN7@PowerState|
  000dc		 |$LN8@PowerState|
  000dc	0000 0000	 DCD         |??_7PowerState@@6B@|

			 ENDP  ; |??1PowerState@@UAA@XZ|, PowerState::~PowerState

	IMPORT	|GetTickCount|
	IMPORT	|WaitForMultipleObjects|

  00010			 AREA	 |.pdata|, PDATA
|$pdata1$?WaitForEvent@PowerState@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| DCD imagerel |$LN46@WaitForEve|
	DCD	0xfd3461f1
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  000e0			 AREA	 |.text|, CODE, THUMB

  000e0		 |?WaitForEvent@PowerState@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| PROC ; PowerState::WaitForEvent

; 267  : {

  000e0		 |$LN46@WaitForEve|
  000e0	e92d 49f8	 push        {r3-r8,r11,lr}
  000e4	f20d 0b18	 addw        r11,sp,#0x18
  000e8		 |$M44|
  000e8	4605		 mov         r5,r0

; 268  : 	DWORD dwNumOfEvent = m_dwNumOfEvent;

  000ea	692c		 ldr         r4,[r5,#0x10]
  000ec	4688		 mov         r8,r1

; 269  : 
; 270  : 	if (dwNumOfExternEvent != 0 && pExternEventArray != NULL)

  000ee	b16a		 cbz         r2,|$LN18@WaitForEve|
  000f0	b163		 cbz         r3,|$LN18@WaitForEve|
  000f2	eb00 0084	 add         r0,r0,r4,lsl #2
  000f6		 |$LL20@WaitForEve|

; 271  : 	{
; 272  : 		for (; dwNumOfExternEvent != 0 && dwNumOfEvent < MAX_EVENT_ARRAY; dwNumOfEvent++)

  000f6	2c40		 cmp         r4,#0x40
  000f8	d208		 bcs         |$LN18@WaitForEve|

; 273  : 			if (*pExternEventArray != NULL)

  000fa	f853 6b04	 ldr         r6,[r3],#4
  000fe	b316		 cbz         r6,|$LN17@WaitForEve|

; 274  : 			{
; 275  : 				m_dwEventArray[dwNumOfEvent] = *pExternEventArray;

  00100	6186		 str         r6,[r0,#0x18]

; 276  : 				pExternEventArray++;
; 277  : 				dwNumOfExternEvent--;

  00102	3a01		 subs        r2,#1
  00104	3004		 adds        r0,#4
  00106	3401		 adds        r4,#1
  00108	2a00		 cmp         r2,#0
  0010a	d1f4		 bne         |$LL20@WaitForEve|
  0010c		 |$LN18@WaitForEve|

; 283  : 			}
; 284  : 	}
; 285  : 	DWORD dwTicksElapsed = GetTickCount ();

  0010c	f000 f800	 bl          GetTickCount
  00110	4607		 mov         r7,r0

; 286  : 	DWORD dwReturn =
; 287  : 		WaitForMultipleObjects (min (dwNumOfEvent, MAX_EVENT_ARRAY), m_dwEventArray, FALSE,
; 288  : 								dwTimeouts);

  00112	2c40		 cmp         r4,#0x40
  00114	d300		 bcc         |$LN27@WaitForEve|
  00116	2440		 movs        r4,#0x40
  00118		 |$LN27@WaitForEve|
  00118	f115 0118	 adds        r1,r5,#0x18
  0011c	4643		 mov         r3,r8
  0011e	2200		 movs        r2,#0
  00120	4620		 mov         r0,r4
  00122	f000 f800	 bl          WaitForMultipleObjects
  00126	4606		 mov         r6,r0

; 289  : 	dwTicksElapsed = GetTickCount () - dwTicksElapsed;

  00128	f000 f800	 bl          GetTickCount

; 290  : 
; 291  :     // We don't need update time because SetSystemPowerState was called:
; 292  : 	if ((dwReturn - WAIT_OBJECT_0) != PM_SYSTEM_API_EVENT)	

  0012c	2e06		 cmp         r6,#6
  0012e	d005		 beq         |$LN15@WaitForEve|

; 293  : 		m_pPwrStateMgr->SubtractTimeout (dwTicksElapsed);

  00130	68ab		 ldr         r3,[r5,#8]
  00132	1bc1		 subs        r1,r0,r7
  00134	4618		 mov         r0,r3
  00136	681b		 ldr         r3,[r3]
  00138	699b		 ldr         r3,[r3,#0x18]
  0013a	4798		 blx         r3
  0013c		 |$LN15@WaitForEve|

; 294  : 
; 295  : 	if (dwReturn == WAIT_TIMEOUT)

  0013c	f5b6 7f81	 cmp         r6,#0x102
  00140	d10b		 bne         |$LN14@WaitForEve|

; 296  : 		return Timeout;

  00142	2407		 movs        r4,#7
  00144	e045		 b           |$LN9@WaitForEve|
  00146		 |$LN17@WaitForEve|

; 278  : 			}
; 279  : 			else
; 280  : 			{
; 281  : 				ASSERT (FALSE);

  00146	4a26		 ldr         r2,|$LN51@WaitForEve| ; =|??_C@_1IK@BFGOIDAJ@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00148	4924		 ldr         r1,|$LN50@WaitForEve| ; =|??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  0014a	4823		 ldr         r0,|$LN49@WaitForEve| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  0014c	f240 1319	 mov         r3,#0x119
  00150	f000 f800	 bl          NKDbgPrintfW
  00154	defe		 __debugbreak

; 282  : 				return NoActivity;

  00156	2400		 movs        r4,#0
  00158	e03b		 b           |$LN9@WaitForEve|
  0015a		 |$LN14@WaitForEve|

; 297  : 	else if (dwReturn >= WAIT_OBJECT_0 + m_dwNumOfEvent)

  0015a	692b		 ldr         r3,[r5,#0x10]
  0015c	429e		 cmp         r6,r3
  0015e	d303		 bcc         |$LN12@WaitForEve|

; 298  : 	{   // Externed Event:
; 299  : 		return (PLATFORM_ACTIVITY_EVENT) (ExternedEvent + dwReturn - (WAIT_OBJECT_0 + m_dwNumOfEvent));

  00160	1af2		 subs        r2,r6,r3
  00162	f502 5480	 add         r4,r2,#0x1000
  00166	e034		 b           |$LN9@WaitForEve|
  00168		 |$LN12@WaitForEve|

; 300  : 	}
; 301  : 	else
; 302  : 	{
; 303  : 		PLATFORM_ACTIVITY_EVENT platEvent = NoActivity;

  00168	2400		 movs        r4,#0

; 304  : 
; 305  : 		switch (dwReturn - WAIT_OBJECT_0)

  0016a	2e07		 cmp         r6,#7
  0016c	d831		 bhi         |$LN9@WaitForEve|
  0016e	e8df f006	 tbb         [pc,r6]
  00172		 |$LN35@WaitForEve|
  00172		 |$LN34@WaitForEve|
  00172		 |$LN36@WaitForEve|
  00172	04		 DCB         0x4
  00173		 |$LN37@WaitForEve|
  00173	06		 DCB         0x6
  00174		 |$LN38@WaitForEve|
  00174	08		 DCB         0x8
  00175		 |$LN39@WaitForEve|
  00175	0e		 DCB         0xe
  00176		 |$LN40@WaitForEve|
  00176	10		 DCB         0x10
  00177		 |$LN41@WaitForEve|
  00177	18		 DCB         0x18
  00178		 |$LN42@WaitForEve|
  00178	26		 DCB         0x26
  00179		 |$LN43@WaitForEve|
  00179	28		 DCB         0x28
  0017a		 |$LN8@WaitForEve|

; 306  : 		{
; 307  : 		  case PM_SHUTDOWN_EVENT:
; 308  : 			  platEvent = PmShutDown;

  0017a	240d		 movs        r4,#0xD

; 309  : 			  break;

  0017c	e029		 b           |$LN9@WaitForEve|
  0017e		 |$LN7@WaitForEve|

; 310  : 		  case PM_RELOAD_ACTIVITY_TIMEOUTS_EVENT:
; 311  : 			  platEvent = PmReloadActivityTimeouts;

  0017e	240e		 movs        r4,#0xE

; 312  : 			  break;

  00180	e027		 b           |$LN9@WaitForEve|
  00182		 |$LN6@WaitForEve|

; 313  : 		  case PM_MSGQUEUE_EVENT:
; 314  : 			  platEvent = MsgQueueEvent ();

  00182	682b		 ldr         r3,[r5]
  00184	4628		 mov         r0,r5
  00186	6adb		 ldr         r3,[r3,#0x2C]
  00188	4798		 blx         r3
  0018a	4604		 mov         r4,r0

; 315  : 			  break;

  0018c	e021		 b           |$LN9@WaitForEve|
  0018e		 |$LN5@WaitForEve|

; 316  : 		  case PM_RESTART_TIMER_EVENT:
; 317  : 			  platEvent = RestartTimeouts;

  0018e	2408		 movs        r4,#8

; 318  : 			  break;

  00190	e01f		 b           |$LN9@WaitForEve|
  00192		 |$LN4@WaitForEve|

; 319  : 		  case PM_SYSTEM_TIMEIDLE_RESET:
; 320  : 			  m_pPwrStateMgr->ResetSystemIdleTimeTimeout (TRUE);

  00192	68ab		 ldr         r3,[r5,#8]
  00194	2101		 movs        r1,#1
  00196	4618		 mov         r0,r3
  00198	681b		 ldr         r3,[r3]
  0019a	695b		 ldr         r3,[r3,#0x14]
  0019c	4798		 blx         r3

; 321  : 			  platEvent = SystemActivity;

  0019e	2403		 movs        r4,#3

; 322  : 			  break;

  001a0	e017		 b           |$LN9@WaitForEve|
  001a2		 |$LN3@WaitForEve|

; 323  : 		  case PM_USER_ACTIVITY_EVENT:
; 324  : 			  m_pPwrStateMgr->ResetUserIdleTimeout (TRUE);

  001a2	68ab		 ldr         r3,[r5,#8]
  001a4	2101		 movs        r1,#1
  001a6	4618		 mov         r0,r3
  001a8	681b		 ldr         r3,[r3]
  001aa	691b		 ldr         r3,[r3,#0x10]
  001ac	4798		 blx         r3

; 325  : 			  m_pPwrStateMgr->ResetSystemIdleTimeTimeout (TRUE);

  001ae	68ab		 ldr         r3,[r5,#8]
  001b0	2101		 movs        r1,#1
  001b2	4618		 mov         r0,r3
  001b4	681b		 ldr         r3,[r3]
  001b6	695b		 ldr         r3,[r3,#0x14]
  001b8	4798		 blx         r3

; 326  : 			  platEvent = UserActivity;

  001ba	2401		 movs        r4,#1

; 327  :               RETAILMSG(0,(L"USER_ACTIVITY_EVENT triggered!")); //Gard
; 328  : 			  break;

  001bc	e009		 b           |$LN9@WaitForEve|
  001be		 |$LN2@WaitForEve|

; 329  : 		  case PM_SYSTEM_API_EVENT:
; 330  : 			  platEvent = SystemPowerStateAPI;

  001be	240c		 movs        r4,#0xC

; 331  : 			  break;

  001c0	e007		 b           |$LN9@WaitForEve|
  001c2		 |$LN1@WaitForEve|

; 332  : 		  case PM_BOOTPHASE2_EVENT:	// This event only signal once.
; 333  : 			  platEvent = BootPhaseChanged;
; 334  : 			  m_dwEventArray[PM_BOOTPHASE2_EVENT] = m_hUnsignaledHandle;

  001c2	68eb		 ldr         r3,[r5,#0xC]
  001c4	2411		 movs        r4,#0x11
  001c6	636b		 str         r3,[r5,#0x34]

; 335  : 			  m_pPwrStateMgr->DisablePhase2Event ();

  001c8	68ab		 ldr         r3,[r5,#8]
  001ca	4618		 mov         r0,r3
  001cc	681b		 ldr         r3,[r3]
  001ce	6a1b		 ldr         r3,[r3,#0x20]
  001d0	4798		 blx         r3
  001d2		 |$LN9@WaitForEve|

; 336  : 			  break;
; 337  : 		}
; 338  : 		return platEvent;
; 339  : 	}
; 340  : }

  001d2	4620		 mov         r0,r4
  001d4		 |$M47|
  001d4	e8bd 89f8	 pop         {r3-r8,r11,pc}
  001d8		 |$LN48@WaitForEve|
  001d8		 |$LN49@WaitForEve|
  001d8	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  001dc		 |$LN50@WaitForEve|
  001dc	0000 0000	 DCD         |??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  001e0		 |$LN51@WaitForEve|
  001e0	0000 0000	 DCD         |??_C@_1IK@BFGOIDAJ@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  001e4		 |$M45|

			 ENDP  ; |?WaitForEvent@PowerState@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|, PowerState::WaitForEvent

; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  001e4			 AREA	 |.text|, CODE, THUMB

  001e4		 |?DefaultEventHandle@PowerState@@UAA?AW4PLATFORM_ACTIVITY_STATE@@W4PLATFORM_ACTIVITY_EVENT@@@Z| PROC ; PowerState::DefaultEventHandle

; 344  : {

  001e4	4603		 mov         r3,r0

; 345  : 	switch (platActivityEvent)

  001e6	2910		 cmp         r1,#0x10
  001e8	d101		 bne         |$LN3@DefaultEve|

; 346  : 	{
; 347  : 	  case AppButtonPressed:
; 348  : 		  m_LastNewState = On;

  001ea	2200		 movs        r2,#0
  001ec	605a		 str         r2,[r3,#4]
  001ee		 |$LN3@DefaultEve|

; 349  : 		  break;
; 350  : 	  default:
; 351  : 		  break;
; 352  : 	}
; 353  : 	return GetLastNewState ();

  001ee	4618		 mov         r0,r3
  001f0	681b		 ldr         r3,[r3]
  001f2	6a1b		 ldr         r3,[r3,#0x20]
  001f4		 |$M8|
  001f4	4718		 bx          r3

			 ENDP  ; |?DefaultEventHandle@PowerState@@UAA?AW4PLATFORM_ACTIVITY_STATE@@W4PLATFORM_ACTIVITY_EVENT@@@Z|, PowerState::DefaultEventHandle

	EXPORT	|?EnterState@PowerStateOff@@UAAXXZ|	; PowerStateOff::EnterState
	IMPORT	|PmSetSystemPowerState_I|

  00018			 AREA	 |.pdata|, PDATA
|$pdata1$?EnterState@PowerStateOff@@UAAXXZ| DCD imagerel |$LN6@EnterState|
	DCD	0x3f6039
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  001f6			 AREA	 |.text|, CODE, THUMB

  001f8		 |?EnterState@PowerStateOff@@UAAXXZ| PROC ; PowerStateOff::EnterState

; 427  : {

  001f8		 |$LN6@EnterState|
  001f8	e92d 4800	 push        {r11,lr}
  001fc	46eb		 mov         r11,sp
  001fe		 |$M4|
  001fe	4603		 mov         r3,r0

; 428  :     PmSetSystemPowerState_I (GetStateString (), 0, 0, TRUE);

  00200	681b		 ldr         r3,[r3]
  00202	699b		 ldr         r3,[r3,#0x18]
  00204	4798		 blx         r3
  00206	2301		 movs        r3,#1
  00208	2200		 movs        r2,#0
  0020a	2100		 movs        r1,#0
  0020c	f000 f800	 bl          PmSetSystemPowerState_I
  00210		 |$M7|

; 429  : }

  00210	e8bd 8800	 pop         {r11,pc}
  00214		 |$M5|

			 ENDP  ; |?EnterState@PowerStateOff@@UAAXXZ|, PowerStateOff::EnterState

	EXPORT	|?WaitForEvent@PowerStateOff@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| ; PowerStateOff::WaitForEvent
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00214			 AREA	 |.text|, CODE, THUMB

  00214		 |?WaitForEvent@PowerStateOff@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| PROC ; PowerStateOff::WaitForEvent

; 434  :  return NoActivity;

  00214	2000		 movs        r0,#0
  00216		 |$M4|

; 435  : }

  00216	4770		 bx          lr

			 ENDP  ; |?WaitForEvent@PowerStateOff@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|, PowerStateOff::WaitForEvent

	EXPORT	|??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EG@OBINEGAB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAo?$AAp?$AAe?$AAn?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?0?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAi?$AAs?$AA?5?$AA?$CF?$AAd@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EE@MCNALCAK@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAS?$AAt?$AAa?$AAt?$AAe?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BC@MACJFIKI@?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?2?$AA?$CF?$AAs?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1M@OAJFFPML@?$AAF?$AAl?$AAa?$AAg?$AAs?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1HG@LEOLOBOG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AA?$CF?$AAd?$AA?5?$AAw?$AAh?$AAi?$AAl?$AAe?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAo?$AAr?$AA?5?$AAw@| [ DATA ] ; `string'
	IMPORT	|RegCreateKeyExW|
	IMPORT	|dpCurSettings|
	IMPORT	|StringCchPrintfW|
	IMPORT	|RegSetValueExW|
	IMPORT	|RegCloseKey|

  00020			 AREA	 |.pdata|, PDATA
|$pdata1$?StateValidateRegistry@PowerState@@UAAKKK@Z| DCD imagerel |$LN18@StateValid|
	DCD	imagerel |$unwind2$?StateValidateRegistry@PowerState@@UAAKKK@Z|

  0001c			 AREA	 |.xdata|, DATA
	%	4
|$unwind2$?StateValidateRegistry@PowerState@@UAAKKK@Z| DCD 0x44300093
	DCD	0x1e88ce8
	DCD	0xfff0a9fc
	DCD	0xf0a901e8
	DCD	0xff
	DCD	imagerel |__GSHandlerCheck|
	DCD	0xffffffe1

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HG@LEOLOBOG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AA?$CF?$AAd?$AA?5?$AAw?$AAh?$AAi?$AAl?$AAe?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAo?$AAr?$AA?5?$AAw@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "r", 0x0, "r"
	DCB	0x0, "o", 0x0, "r", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, " "
	DCB	0x0, "w", 0x0, "h", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, " "
	DCB	0x0, "c", 0x0, "r", 0x0, "e", 0x0, "a", 0x0, "t", 0x0, "i"
	DCB	0x0, "n", 0x0, "g", 0x0, " ", 0x0, "o", 0x0, "r", 0x0, " "
	DCB	0x0, "w", 0x0, "r", 0x0, "i", 0x0, "t", 0x0, "i", 0x0, "n"
	DCB	0x0, "g", 0x0, " ", 0x0, "v", 0x0, "a", 0x0, "l", 0x0, "u"
	DCB	0x0, "e", 0x0, "s", 0x0, " ", 0x0, "i", 0x0, "n", 0x0, " "
	DCB	0x0, "'", 0x0, "%", 0x0, "s", 0x0, "\\", 0x0, "%", 0x0, "s"
	DCB	0x0, "'", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1M@OAJFFPML@?$AAF?$AAl?$AAa?$AAg?$AAs?$AA?$AA@| DCB "F", 0x0, "l", 0x0
	DCB	"a", 0x0, "g", 0x0, "s", 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BC@MACJFIKI@?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?2?$AA?$CF?$AAs?$AA?$AA@| DCB "S"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "\\", 0x0, "%"
	DCB	0x0, "s", 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EE@MCNALCAK@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAS?$AAt?$AAa?$AAt?$AAe?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr@| DCB "P"
	DCB	0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "S", 0x0, "t"
	DCB	0x0, "a", 0x0, "t", 0x0, "e", 0x0, ":", 0x0, ":", 0x0, "S"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "V", 0x0, "a"
	DCB	0x0, "l", 0x0, "i", 0x0, "d", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, "R", 0x0, "e", 0x0, "g", 0x0, "i", 0x0, "s", 0x0, "t"
	DCB	0x0, "r", 0x0, "y", 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EG@OBINEGAB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAo?$AAp?$AAe?$AAn?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?0?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAi?$AAs?$AA?5?$AA?$CF?$AAd@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "c", 0x0, "a", 0x0, "n"
	DCB	0x0, "'", 0x0, "t", 0x0, " ", 0x0, "o", 0x0, "p", 0x0, "e"
	DCB	0x0, "n", 0x0, " ", 0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'"
	DCB	0x0, ",", 0x0, " ", 0x0, "e", 0x0, "r", 0x0, "r", 0x0, "o"
	DCB	0x0, "r", 0x0, " ", 0x0, "i", 0x0, "s", 0x0, " ", 0x0, "%"
	DCB	0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@| DCB "S"
	DCB	0x0, "Y", 0x0, "S", 0x0, "T", 0x0, "E", 0x0, "M", 0x0, "\\"
	DCB	0x0, "C", 0x0, "u", 0x0, "r", 0x0, "r", 0x0, "e", 0x0, "n"
	DCB	0x0, "t", 0x0, "C", 0x0, "o", 0x0, "n", 0x0, "t", 0x0, "r"
	DCB	0x0, "o", 0x0, "l", 0x0, "S", 0x0, "e", 0x0, "t", 0x0, "\\"
	DCB	0x0, "C", 0x0, "o", 0x0, "n", 0x0, "t", 0x0, "r", 0x0, "o"
	DCB	0x0, "l", 0x0, "\\", 0x0, "P", 0x0, "o", 0x0, "w", 0x0, "e"
	DCB	0x0, "r", 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00218			 AREA	 |.text|, CODE, THUMB

  00218		 |?StateValidateRegistry@PowerState@@UAAKKK@Z| PROC ; PowerState::StateValidateRegistry

; 369  : {

  00218		 |$LN18@StateValid|
  00218	e92d 49f0	 push        {r4-r8,r11,lr}
  0021c	f20d 0b14	 addw        r11,sp,#0x14
  00220	f000 f800	 bl          __security_push_cookie
  00224	f2ad 2d30	 subw        sp,sp,#0x230
  00228		 |$M16|

; 370  : 	HKEY hkPM = NULL, hkSubkey;

  00228	2300		 movs        r3,#0
  0022a	9306		 str         r3,[sp,#0x18]

; 371  : 	TCHAR pszSubKey[MAX_PATH];
; 372  : 	DWORD dwDisposition;
; 373  : 
; 374  : 	SETFNAME (_T ("PowerState::StateValidateRegistry"));
; 375  : 
; 376  : 	// Open the Power Manager registry key:
; 377  : 	DWORD dwStatus =
; 378  : 		RegCreateKeyEx (HKEY_LOCAL_MACHINE, PWRMGR_REG_KEY, 0, NULL, 0, 0, NULL, &hkPM, &dwDisposition);

  0022c	ab09		 add         r3,sp,#0x24
  0022e	9304		 str         r3,[sp,#0x10]
  00230	ab06		 add         r3,sp,#0x18
  00232	9303		 str         r3,[sp,#0xC]
  00234	2301		 movs        r3,#1
  00236	460e		 mov         r6,r1
  00238	4941		 ldr         r1,|$LN21@StateValid| ; =|??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@|
  0023a	07dc		 lsls        r4,r3,#0x1F
  0023c	4615		 mov         r5,r2
  0023e	4607		 mov         r7,r0
  00240	f04f 0800	 mov         r8,#0
  00244	1ca0		 adds        r0,r4,#2
  00246	2300		 movs        r3,#0
  00248	2200		 movs        r2,#0
  0024a	f8cd 8008	 str         r8,[sp,#8]
  0024e	f8cd 8004	 str         r8,[sp,#4]
  00252	f8cd 8000	 str         r8,[sp]
  00256	f000 f800	 bl          RegCreateKeyExW
  0025a	4604		 mov         r4,r0

; 379  : 
; 380  : 	if (dwStatus != ERROR_SUCCESS)

  0025c	b194		 cbz         r4,|$LN14@StateValid|

; 381  : 	{
; 382  : 		PMLOGMSG (ZONE_ERROR,
; 383  : 				  (_T ("%s: can't open '%s', error is %d\r\n"), pszFname, PWRMGR_REG_KEY, dwStatus));

  0025e	4b3b		 ldr         r3,|$LN24@StateValid| ; =|dpCurSettings|
  00260	f8d3 3440	 ldr         r3,[r3,#0x440]
  00264	f013 0f01	 tst         r3,#1
  00268	d05e		 beq         |$LN11@StateValid|
  0026a	4a35		 ldr         r2,|$LN21@StateValid| ; =|??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@|
  0026c	4936		 ldr         r1,|$LN23@StateValid| ; =|??_C@_1EE@MCNALCAK@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAS?$AAt?$AAa?$AAt?$AAe?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr@|
  0026e	4603		 mov         r3,r0
  00270	4839		 ldr         r0,|$LN27@StateValid| ; =|??_C@_1EG@OBINEGAB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAo?$AAp?$AAe?$AAn?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?0?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAi?$AAs?$AA?5?$AA?$CF?$AAd@|
  00272	f000 f800	 bl          NKDbgPrintfW
  00276	4a32		 ldr         r2,|$LN21@StateValid| ; =|??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@|
  00278	4933		 ldr         r1,|$LN23@StateValid| ; =|??_C@_1EE@MCNALCAK@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAS?$AAt?$AAa?$AAt?$AAe?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr@|
  0027a	4837		 ldr         r0,|$LN27@StateValid| ; =|??_C@_1EG@OBINEGAB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAo?$AAp?$AAe?$AAn?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?0?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAi?$AAs?$AA?5?$AA?$CF?$AAd@|
  0027c	4623		 mov         r3,r4
  0027e	f000 f800	 bl          CeLogMsg

; 384  : 	}
; 385  : 
; 386  : 	// Verify the system state:
; 387  : 	if (dwStatus == ERROR_SUCCESS)

  00282	e051		 b           |$LN11@StateValid|
  00284		 |$LN14@StateValid|

; 388  : 	{
; 389  : 		StringCchPrintf (pszSubKey, MAX_PATH, _T ("State\\%s"), GetStateString ());

  00284	683b		 ldr         r3,[r7]
  00286	4638		 mov         r0,r7
  00288	699b		 ldr         r3,[r3,#0x18]
  0028a	4798		 blx         r3
  0028c	4a31		 ldr         r2,|$LN26@StateValid| ; =|??_C@_1BC@MACJFIKI@?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?2?$AA?$CF?$AAs?$AA?$AA@|
  0028e	4603		 mov         r3,r0
  00290	a80a		 add         r0,sp,#0x28
  00292	f44f 7182	 mov         r1,#0x104
  00296	f000 f800	 bl          StringCchPrintfW

; 390  : 		dwStatus = RegCreateKeyEx (hkPM, pszSubKey, 0, NULL, 0, 0, NULL, &hkSubkey, &dwDisposition);

  0029a	ab09		 add         r3,sp,#0x24
  0029c	9304		 str         r3,[sp,#0x10]
  0029e	9806		 ldr         r0,[sp,#0x18]
  002a0	ab08		 add         r3,sp,#0x20
  002a2	9303		 str         r3,[sp,#0xC]
  002a4	2300		 movs        r3,#0
  002a6	a90a		 add         r1,sp,#0x28
  002a8	2200		 movs        r2,#0
  002aa	f8cd 8008	 str         r8,[sp,#8]
  002ae	f8cd 8004	 str         r8,[sp,#4]
  002b2	f8cd 8000	 str         r8,[sp]
  002b6	f000 f800	 bl          RegCreateKeyExW
  002ba	4604		 mov         r4,r0

; 391  : 		if (dwStatus == ERROR_SUCCESS)

  002bc	b9f4		 cbnz        r4,|$LN13@StateValid|

; 392  : 		{
; 393  : 			if (dwDisposition == REG_CREATED_NEW_KEY)

  002be	9b09		 ldr         r3,[sp,#0x24]
  002c0	2b01		 cmp         r3,#1
  002c2	d117		 bne         |$LN2@StateValid|

; 394  : 			{
; 395  : 				// Allow devices to go to any passed-in power level:
; 396  : 				DWORD dwValue = dwDState;	// D State
; 397  : 				dwStatus = RegSetValueEx (hkSubkey, NULL, 0, REG_DWORD, (LPBYTE) & dwValue, sizeof (dwValue));

  002c4	9808		 ldr         r0,[sp,#0x20]
  002c6	ab07		 add         r3,sp,#0x1C
  002c8	9607		 str         r6,[sp,#0x1C]
  002ca	9300		 str         r3,[sp]
  002cc	2604		 movs        r6,#4
  002ce	2304		 movs        r3,#4
  002d0	2200		 movs        r2,#0
  002d2	2100		 movs        r1,#0
  002d4	9601		 str         r6,[sp,#4]
  002d6	f000 f800	 bl          RegSetValueExW
  002da	4604		 mov         r4,r0

; 398  : 
; 399  : 				// Write the passed flags value:
; 400  : 				if (dwStatus == ERROR_SUCCESS)

  002dc	b954		 cbnz        r4,|$LN2@StateValid|

; 401  : 				{
; 402  : 					dwValue = dwFlag;
; 403  : 					dwStatus = RegSetValueEx (hkSubkey, _T ("Flags"), 0, REG_DWORD, (LPBYTE) & dwValue, sizeof (dwValue));

  002de	ab07		 add         r3,sp,#0x1C
  002e0	491b		 ldr         r1,|$LN25@StateValid| ; =|??_C@_1M@OAJFFPML@?$AAF?$AAl?$AAa?$AAg?$AAs?$AA?$AA@|
  002e2	9808		 ldr         r0,[sp,#0x20]
  002e4	9300		 str         r3,[sp]
  002e6	2304		 movs        r3,#4
  002e8	2200		 movs        r2,#0
  002ea	9507		 str         r5,[sp,#0x1C]
  002ec	9601		 str         r6,[sp,#4]
  002ee	f000 f800	 bl          RegSetValueExW
  002f2	4604		 mov         r4,r0
  002f4		 |$LN2@StateValid|

; 404  : 				}
; 405  : 			}
; 406  : 			RegCloseKey (hkSubkey);

  002f4	9808		 ldr         r0,[sp,#0x20]
  002f6	f000 f800	 bl          RegCloseKey

; 407  : 		}
; 408  : 		PMLOGMSG (dwStatus != ERROR_SUCCESS && ZONE_ERROR,
; 409  : 				  (_T ("%s: error %d while creating or writing values in '%s\\%s'\r\n"), pszFname,
; 410  : 				   dwStatus, PWRMGR_REG_KEY, pszSubKey));

  002fa	b1ac		 cbz         r4,|$LN11@StateValid|
  002fc		 |$LN13@StateValid|
  002fc	4b13		 ldr         r3,|$LN24@StateValid| ; =|dpCurSettings|
  002fe	f8d3 3440	 ldr         r3,[r3,#0x440]
  00302	f013 0f01	 tst         r3,#1
  00306	d00f		 beq         |$LN11@StateValid|
  00308	ab0a		 add         r3,sp,#0x28
  0030a	490f		 ldr         r1,|$LN23@StateValid| ; =|??_C@_1EE@MCNALCAK@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAS?$AAt?$AAa?$AAt?$AAe?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr@|
  0030c	480d		 ldr         r0,|$LN22@StateValid| ; =|??_C@_1HG@LEOLOBOG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AA?$CF?$AAd?$AA?5?$AAw?$AAh?$AAi?$AAl?$AAe?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAo?$AAr?$AA?5?$AAw@|
  0030e	9300		 str         r3,[sp]
  00310	4b0b		 ldr         r3,|$LN21@StateValid| ; =|??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@|
  00312	4622		 mov         r2,r4
  00314	f000 f800	 bl          NKDbgPrintfW
  00318	ab0a		 add         r3,sp,#0x28
  0031a	490b		 ldr         r1,|$LN23@StateValid| ; =|??_C@_1EE@MCNALCAK@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAS?$AAt?$AAa?$AAt?$AAe?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr@|
  0031c	4809		 ldr         r0,|$LN22@StateValid| ; =|??_C@_1HG@LEOLOBOG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AA?$CF?$AAd?$AA?5?$AAw?$AAh?$AAi?$AAl?$AAe?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAo?$AAr?$AA?5?$AAw@|
  0031e	9300		 str         r3,[sp]
  00320	4b07		 ldr         r3,|$LN21@StateValid| ; =|??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@|
  00322	4622		 mov         r2,r4
  00324	f000 f800	 bl          CeLogMsg
  00328		 |$LN11@StateValid|

; 411  : 	}
; 412  : 
; 413  : 	// Release resources:
; 414  : 	if (hkPM != NULL)

  00328	9806		 ldr         r0,[sp,#0x18]
  0032a	b108		 cbz         r0,|$LN1@StateValid|

; 415  : 		RegCloseKey (hkPM);

  0032c	f000 f800	 bl          RegCloseKey
  00330		 |$LN1@StateValid|

; 416  : 	return dwStatus;
; 417  : }

  00330	4620		 mov         r0,r4
  00332		 |$M19|
  00332	f20d 2d30	 addw        sp,sp,#0x230
  00336	f000 f800	 bl          __security_pop_cookie
  0033a	e8bd 89f0	 pop         {r4-r8,r11,pc}
  0033e		 |$LN28@StateValid|
  0033e		 |$M29|
  0033e	defe		 __debugbreak
  00340		 |$LN20@StateValid|
  00340		 |$LN21@StateValid|
  00340	0000 0000	 DCD         |??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@|
  00344		 |$LN22@StateValid|
  00344	0000 0000	 DCD         |??_C@_1HG@LEOLOBOG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AA?$CF?$AAd?$AA?5?$AAw?$AAh?$AAi?$AAl?$AAe?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAo?$AAr?$AA?5?$AAw@|
  00348		 |$LN23@StateValid|
  00348	0000 0000	 DCD         |??_C@_1EE@MCNALCAK@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAS?$AAt?$AAa?$AAt?$AAe?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr@|
  0034c		 |$LN24@StateValid|
  0034c	0000 0000	 DCD         |dpCurSettings|
  00350		 |$LN25@StateValid|
  00350	0000 0000	 DCD         |??_C@_1M@OAJFFPML@?$AAF?$AAl?$AAa?$AAg?$AAs?$AA?$AA@|
  00354		 |$LN26@StateValid|
  00354	0000 0000	 DCD         |??_C@_1BC@MACJFIKI@?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?2?$AA?$CF?$AAs?$AA?$AA@|
  00358		 |$LN27@StateValid|
  00358	0000 0000	 DCD         |??_C@_1EG@OBINEGAB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAo?$AAp?$AAe?$AAn?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?0?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAi?$AAs?$AA?5?$AA?$CF?$AAd@|
  0035c		 |$M17|

			 ENDP  ; |?StateValidateRegistry@PowerState@@UAAKKK@Z|, PowerState::StateValidateRegistry

	EXPORT	|??_C@_1HG@ODJDBDPK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAg?$AAo?$AAt?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA4?$AAx?$AA?5?$AA?$CI?$AAd?$AAa?$AAt?$AAa?$AA?5?$AA0?$AAx?$AA?$CF@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DE@KJOOCALJ@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1HC@KLHCDFII@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAu?$AAn?$AAh?$AAa?$AAn?$AAd?$AAl?$AAe?$AAd?$AA?5?$AAp?$AAo?$AAl?$AAi?$AAc?$AAy?$AA?5?$AAn?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EE@BFDOIAHA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AA?5?$AAA?$AAc?$AAt?$AAi?$AAv?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?5?$AA?$DN?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN@| [ DATA ] ; `string'
	IMPORT	|PmPolicyReadNotificationQueue|
	IMPORT	|PmUpdatePowerStatus|

  00028			 AREA	 |.pdata|, PDATA
|$pdata1$?MsgQueueEvent@PowerState@@MAA?AW4PLATFORM_ACTIVITY_EVENT@@XZ| DCD imagerel |$LN24@MsgQueueEv|
	DCD	0x1b10175

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EE@BFDOIAHA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AA?5?$AAA?$AAc?$AAt?$AAi?$AAv?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?5?$AA?$DN?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "r", 0x0, "e", 0x0, "t"
	DCB	0x0, "u", 0x0, "r", 0x0, "n", 0x0, " ", 0x0, "A", 0x0, "c"
	DCB	0x0, "t", 0x0, "i", 0x0, "v", 0x0, "e", 0x0, "E", 0x0, "v"
	DCB	0x0, "e", 0x0, "n", 0x0, "t", 0x0, " ", 0x0, "=", 0x0, " "
	DCB	0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HC@KLHCDFII@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAu?$AAn?$AAh?$AAa?$AAn?$AAd?$AAl?$AAe?$AAd?$AA?5?$AAp?$AAo?$AAl?$AAi?$AAc?$AAy?$AA?5?$AAn?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "u", 0x0, "n", 0x0, "h"
	DCB	0x0, "a", 0x0, "n", 0x0, "d", 0x0, "l", 0x0, "e", 0x0, "d"
	DCB	0x0, " ", 0x0, "p", 0x0, "o", 0x0, "l", 0x0, "i", 0x0, "c"
	DCB	0x0, "y", 0x0, " ", 0x0, "n", 0x0, "o", 0x0, "t", 0x0, "i"
	DCB	0x0, "f", 0x0, "i", 0x0, "c", 0x0, "a", 0x0, "t", 0x0, "i"
	DCB	0x0, "o", 0x0, "n", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "4", 0x0, "x", 0x0, " ", 0x0, "(", 0x0, "d"
	DCB	0x0, "a", 0x0, "t", 0x0, "a", 0x0, " ", 0x0, "0", 0x0, "x"
	DCB	0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, ")", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DE@KJOOCALJ@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?$AA@| DCB "P"
	DCB	0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "S", 0x0, "t"
	DCB	0x0, "a", 0x0, "t", 0x0, "e", 0x0, ":", 0x0, ":", 0x0, "M"
	DCB	0x0, "s", 0x0, "g", 0x0, "Q", 0x0, "u", 0x0, "e", 0x0, "u"
	DCB	0x0, "e", 0x0, "E", 0x0, "v", 0x0, "e", 0x0, "n", 0x0, "t"
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HG@ODJDBDPK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAg?$AAo?$AAt?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA4?$AAx?$AA?5?$AA?$CI?$AAd?$AAa?$AAt?$AAa?$AA?5?$AA0?$AAx?$AA?$CF@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "g", 0x0, "o", 0x0, "t"
	DCB	0x0, " ", 0x0, "r", 0x0, "e", 0x0, "q", 0x0, "u", 0x0, "e"
	DCB	0x0, "s", 0x0, "t", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "4", 0x0, "x", 0x0, " ", 0x0, "(", 0x0, "d"
	DCB	0x0, "a", 0x0, "t", 0x0, "a", 0x0, " ", 0x0, "0", 0x0, "x"
	DCB	0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, ")", 0x0, " "
	DCB	0x0, "f", 0x0, "r", 0x0, "o", 0x0, "m", 0x0, " ", 0x0, "p"
	DCB	0x0, "r", 0x0, "o", 0x0, "c", 0x0, "e", 0x0, "s", 0x0, "s"
	DCB	0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8"
	DCB	0x0, "x", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  0035c			 AREA	 |.text|, CODE, THUMB

  0035c		 |?MsgQueueEvent@PowerState@@MAA?AW4PLATFORM_ACTIVITY_EVENT@@XZ| PROC ; PowerState::MsgQueueEvent

; 166  : {

  0035c		 |$LN24@MsgQueueEv|
  0035c	e92d 4830	 push        {r4,r5,r11,lr}
  00360	f20d 0b08	 addw        r11,sp,#8
  00364	b086		 sub         sp,sp,#0x18
  00366		 |$M22|

; 167  : 	SETFNAME (_T ("PowerState::MsgQueueEvent"));
; 168  : 	PLATFORM_ACTIVITY_EVENT activeEvent = NoActivity;
; 169  : 	POWERPOLICYMESSAGE ppm;
; 170  : 	DWORD dwStatus =
; 171  : 		PmPolicyReadNotificationQueue (m_dwEventArray[PM_MSGQUEUE_EVENT], &ppm, sizeof (ppm));

  00366	6a00		 ldr         r0,[r0,#0x20]
  00368	a902		 add         r1,sp,#8
  0036a	220c		 movs        r2,#0xC
  0036c	2400		 movs        r4,#0
  0036e	f000 f800	 bl          PmPolicyReadNotificationQueue

; 172  : 
; 173  : 	if (dwStatus == ERROR_SUCCESS)

  00372	4d2d		 ldr         r5,|$LN31@MsgQueueEv| ; =|dpCurSettings|
  00374	bbe0		 cbnz        r0,|$LN20@MsgQueueEv|

; 174  : 	{
; 175  : 		PMLOGMSG (ZONE_PLATFORM,
; 176  : 				  (_T ("%s: got request 0x%04x (data 0x%08x) from process 0x%08x\r\n"), pszFname,
; 177  : 				   ppm.dwMessage, ppm.dwData, ppm.hOwnerProcess));

  00376	f8d5 3440	 ldr         r3,[r5,#0x440]
  0037a	f413 6f80	 tst         r3,#0x400
  0037e	d00f		 beq         |$LN14@MsgQueueEv|
  00380	9b04		 ldr         r3,[sp,#0x10]
  00382	9a02		 ldr         r2,[sp,#8]
  00384	4925		 ldr         r1,|$LN28@MsgQueueEv| ; =|??_C@_1DE@KJOOCALJ@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?$AA@|
  00386	4827		 ldr         r0,|$LN30@MsgQueueEv| ; =|??_C@_1HG@ODJDBDPK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAg?$AAo?$AAt?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA4?$AAx?$AA?5?$AA?$CI?$AAd?$AAa?$AAt?$AAa?$AA?5?$AA0?$AAx?$AA?$CF@|
  00388	9300		 str         r3,[sp]
  0038a	9b03		 ldr         r3,[sp,#0xC]
  0038c	f000 f800	 bl          NKDbgPrintfW
  00390	9b04		 ldr         r3,[sp,#0x10]
  00392	9a02		 ldr         r2,[sp,#8]
  00394	4921		 ldr         r1,|$LN28@MsgQueueEv| ; =|??_C@_1DE@KJOOCALJ@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?$AA@|
  00396	4823		 ldr         r0,|$LN30@MsgQueueEv| ; =|??_C@_1HG@ODJDBDPK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAg?$AAo?$AAt?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA4?$AAx?$AA?5?$AA?$CI?$AAd?$AAa?$AAt?$AAa?$AA?5?$AA0?$AAx?$AA?$CF@|
  00398	9300		 str         r3,[sp]
  0039a	9b03		 ldr         r3,[sp,#0xC]
  0039c	f000 f800	 bl          CeLogMsg
  003a0		 |$LN14@MsgQueueEv|

; 178  : 		switch (ppm.dwMessage)

  003a0	9a02		 ldr         r2,[sp,#8]
  003a2	2a02		 cmp         r2,#2
  003a4	d020		 beq         |$LN8@MsgQueueEv|
  003a6	2a03		 cmp         r2,#3
  003a8	d018		 beq         |$LN4@MsgQueueEv|
  003aa	2a04		 cmp         r2,#4
  003ac	d014		 beq         |$LN6@MsgQueueEv|
  003ae	2a06		 cmp         r2,#6
  003b0	d010		 beq         |$LN5@MsgQueueEv|

; 203  : 		  default:
; 204  : 			  // Unhandled notification type, so ignore it:
; 205  : 			  PMLOGMSG (ZONE_WARN,
; 206  : 						(_T ("%s: unhandled policy notification 0x%04x (data 0x%08x)\r\n"),
; 207  : 						 pszFname, ppm.dwMessage, ppm.dwData));

  003b2	f8d5 3440	 ldr         r3,[r5,#0x440]
  003b6	f013 0f02	 tst         r3,#2
  003ba	d019		 beq         |$LN20@MsgQueueEv|
  003bc	9b03		 ldr         r3,[sp,#0xC]
  003be	4917		 ldr         r1,|$LN28@MsgQueueEv| ; =|??_C@_1DE@KJOOCALJ@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?$AA@|
  003c0	4817		 ldr         r0,|$LN29@MsgQueueEv| ; =|??_C@_1HC@KLHCDFII@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAu?$AAn?$AAh?$AAa?$AAn?$AAd?$AAl?$AAe?$AAd?$AA?5?$AAp?$AAo?$AAl?$AAi?$AAc?$AAy?$AA?5?$AAn?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo@|
  003c2	f000 f800	 bl          NKDbgPrintfW
  003c6	9b03		 ldr         r3,[sp,#0xC]
  003c8	9a02		 ldr         r2,[sp,#8]
  003ca	4914		 ldr         r1,|$LN28@MsgQueueEv| ; =|??_C@_1DE@KJOOCALJ@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?$AA@|
  003cc	4814		 ldr         r0,|$LN29@MsgQueueEv| ; =|??_C@_1HC@KLHCDFII@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAu?$AAn?$AAh?$AAa?$AAn?$AAd?$AAl?$AAe?$AAd?$AA?5?$AAp?$AAo?$AAl?$AAi?$AAc?$AAy?$AA?5?$AAn?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo@|
  003ce	f000 f800	 bl          CeLogMsg

; 208  : 			  break;

  003d2	e00d		 b           |$LN20@MsgQueueEv|
  003d4		 |$LN5@MsgQueueEv|

; 189  : 		  case PPN_APPBUTTONPRESSED:
; 190  : 			  activeEvent = AppButtonPressed;

  003d4	2410		 movs        r4,#0x10

; 191  : 			  break;

  003d6	e00b		 b           |$LN20@MsgQueueEv|
  003d8		 |$LN6@MsgQueueEv|

; 184  : 			  }
; 185  : 			  break;
; 186  : 		  case PPN_SUSPENDKEYPRESSED:
; 187  : 			  activeEvent = PowerButtonPressed;

  003d8	240f		 movs        r4,#0xF

; 188  : 			  break;

  003da	e009		 b           |$LN20@MsgQueueEv|
  003dc		 |$LN4@MsgQueueEv|

; 192  : 		  case PPN_UNATTENDEDMODE:
; 193  : 			  // Somebody wants to enter or leave unattended mode:
; 194  : 			  if (ppm.dwData != FALSE)

  003dc	9b03		 ldr         r3,[sp,#0xC]
  003de	b10b		 cbz         r3,|$LN3@MsgQueueEv|

; 195  : 			  {
; 196  : 				  activeEvent = EnterUnattendedModeRequest;

  003e0	2405		 movs        r4,#5

; 197  : 			  }
; 198  : 			  else

  003e2	e005		 b           |$LN20@MsgQueueEv|
  003e4		 |$LN3@MsgQueueEv|

; 199  : 			  {
; 200  : 				  activeEvent = LeaveUnattendedModeRequest;

  003e4	2406		 movs        r4,#6

; 201  : 			  }
; 202  : 			  break;

  003e6	e003		 b           |$LN20@MsgQueueEv|
  003e8		 |$LN8@MsgQueueEv|

; 179  : 		{
; 180  : 		  case PPN_POWERCHANGE:
; 181  : 			  if (PmUpdatePowerStatus ())

  003e8	f000 f800	 bl          PmUpdatePowerStatus
  003ec	b100		 cbz         r0,|$LN20@MsgQueueEv|

; 182  : 			  {
; 183  : 				  activeEvent = PowerSourceChange;

  003ee	2409		 movs        r4,#9
  003f0		 |$LN20@MsgQueueEv|

; 174  : 	{
; 175  : 		PMLOGMSG (ZONE_PLATFORM,
; 176  : 				  (_T ("%s: got request 0x%04x (data 0x%08x) from process 0x%08x\r\n"), pszFname,
; 177  : 				   ppm.dwMessage, ppm.dwData, ppm.hOwnerProcess));

  003f0	f8d5 3440	 ldr         r3,[r5,#0x440]

; 209  : 		}
; 210  : 	}
; 211  : 	PMLOGMSG (ZONE_PLATFORM, (_T ("%s: return ActiveEvent = 0x%08x\r\n"), pszFname, activeEvent));

  003f4	f413 6f80	 tst         r3,#0x400
  003f8	d009		 beq         |$LN18@MsgQueueEv|
  003fa	4908		 ldr         r1,|$LN28@MsgQueueEv| ; =|??_C@_1DE@KJOOCALJ@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?$AA@|
  003fc	4806		 ldr         r0,|$LN27@MsgQueueEv| ; =|??_C@_1EE@BFDOIAHA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AA?5?$AAA?$AAc?$AAt?$AAi?$AAv?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?5?$AA?$DN?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN@|
  003fe	4622		 mov         r2,r4
  00400	f000 f800	 bl          NKDbgPrintfW
  00404	4905		 ldr         r1,|$LN28@MsgQueueEv| ; =|??_C@_1DE@KJOOCALJ@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?$AA@|
  00406	4804		 ldr         r0,|$LN27@MsgQueueEv| ; =|??_C@_1EE@BFDOIAHA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AA?5?$AAA?$AAc?$AAt?$AAi?$AAv?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?5?$AA?$DN?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN@|
  00408	4622		 mov         r2,r4
  0040a	f000 f800	 bl          CeLogMsg
  0040e		 |$LN18@MsgQueueEv|

; 212  : 	return activeEvent;
; 213  : }

  0040e	4620		 mov         r0,r4
  00410		 |$M25|
  00410	b006		 add         sp,sp,#0x18
  00412	e8bd 8830	 pop         {r4,r5,r11,pc}
  00416		 |$LN32@MsgQueueEv|
  00416		 |$M33|
  00416	defe		 __debugbreak
  00418		 |$LN26@MsgQueueEv|
  00418		 |$LN27@MsgQueueEv|
  00418	0000 0000	 DCD         |??_C@_1EE@BFDOIAHA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AA?5?$AAA?$AAc?$AAt?$AAi?$AAv?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?5?$AA?$DN?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN@|
  0041c		 |$LN28@MsgQueueEv|
  0041c	0000 0000	 DCD         |??_C@_1DE@KJOOCALJ@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?$AA@|
  00420		 |$LN29@MsgQueueEv|
  00420	0000 0000	 DCD         |??_C@_1HC@KLHCDFII@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAu?$AAn?$AAh?$AAa?$AAn?$AAd?$AAl?$AAe?$AAd?$AA?5?$AAp?$AAo?$AAl?$AAi?$AAc?$AAy?$AA?5?$AAn?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo@|
  00424		 |$LN30@MsgQueueEv|
  00424	0000 0000	 DCD         |??_C@_1HG@ODJDBDPK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAg?$AAo?$AAt?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA4?$AAx?$AA?5?$AA?$CI?$AAd?$AAa?$AAt?$AAa?$AA?5?$AA0?$AAx?$AA?$CF@|
  00428		 |$LN31@MsgQueueEv|
  00428	0000 0000	 DCD         |dpCurSettings|
  0042c		 |$M23|

			 ENDP  ; |?MsgQueueEvent@PowerState@@MAA?AW4PLATFORM_ACTIVITY_EVENT@@XZ|, PowerState::MsgQueueEvent

	EXPORT	|??_C@_1GE@NEFAJPAA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAS?$AAt?$AAa?$AAt?$AAe?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr?$AAy?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CC@BLNGLGKH@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAI?$AAn?$AAi?$AAt?$AA?$AA@| [ DATA ] ; `string'

  00030			 AREA	 |.pdata|, PDATA
|$pdata1$?Init@PowerState@@UAAHXZ| DCD imagerel |$LN24@Init|
	DCD	0xfd3060fd

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CC@BLNGLGKH@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAI?$AAn?$AAi?$AAt?$AA?$AA@| DCB "P"
	DCB	0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "S", 0x0, "t"
	DCB	0x0, "a", 0x0, "t", 0x0, "e", 0x0, ":", 0x0, ":", 0x0, "I"
	DCB	0x0, "n", 0x0, "i", 0x0, "t", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GE@NEFAJPAA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAS?$AAt?$AAa?$AAt?$AAe?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr?$AAy?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "S", 0x0, "t", 0x0, "a"
	DCB	0x0, "t", 0x0, "e", 0x0, "V", 0x0, "a", 0x0, "l", 0x0, "i"
	DCB	0x0, "d", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "R", 0x0, "e"
	DCB	0x0, "g", 0x0, "i", 0x0, "s", 0x0, "t", 0x0, "r", 0x0, "y"
	DCB	0x0, " ", 0x0, "r", 0x0, "e", 0x0, "t", 0x0, "u", 0x0, "r"
	DCB	0x0, "n", 0x0, " ", 0x0, "(", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "8", 0x0, "x", 0x0, ")", 0x0, " ", 0x0, "f"
	DCB	0x0, "a", 0x0, "i", 0x0, "l", 0x0, "s", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  0042c			 AREA	 |.text|, CODE, THUMB

  0042c		 |?Init@PowerState@@UAAHXZ| PROC	; PowerState::Init

; 128  : {

  0042c		 |$LN24@Init|
  0042c	e92d 4818	 push        {r3,r4,r11,lr}
  00430	f20d 0b08	 addw        r11,sp,#8
  00434		 |$M22|
  00434	4604		 mov         r4,r0

; 129  : 	SETFNAME (_T ("PowerState::Init"));
; 130  : 	if (m_pPwrStateMgr && m_hUnsignaledHandle)

  00436	68a3		 ldr         r3,[r4,#8]
  00438	b393		 cbz         r3,|$LN6@Init|
  0043a	68e3		 ldr         r3,[r4,#0xC]
  0043c	b383		 cbz         r3,|$LN6@Init|

; 131  : 	{
; 132  : 		for (DWORD dwIndex = 0; dwIndex < m_dwNumOfEvent; dwIndex++)

  0043e	6920		 ldr         r0,[r4,#0x10]
  00440	2100		 movs        r1,#0
  00442	b130		 cbz         r0,|$LN3@Init|
  00444	4622		 mov         r2,r4
  00446		 |$LL5@Init|

; 133  : 			if (m_dwEventArray[dwIndex] == NULL)

  00446	6993		 ldr         r3,[r2,#0x18]
  00448	b31b		 cbz         r3,|$LN16@Init|

; 131  : 	{
; 132  : 		for (DWORD dwIndex = 0; dwIndex < m_dwNumOfEvent; dwIndex++)

  0044a	3101		 adds        r1,#1
  0044c	3204		 adds        r2,#4
  0044e	4281		 cmp         r1,r0
  00450	d3f9		 bcc         |$LL5@Init|
  00452		 |$LN3@Init|

; 136  : 				return FALSE;
; 137  : 			}
; 138  : 		m_LastNewState = GetState ();	// Point to itself

  00452	6823		 ldr         r3,[r4]
  00454	4620		 mov         r0,r4
  00456	695b		 ldr         r3,[r3,#0x14]
  00458	4798		 blx         r3

; 139  : 		DWORD dwReturn = StateValidateRegistry ();

  0045a	6823		 ldr         r3,[r4]
  0045c	6060		 str         r0,[r4,#4]
  0045e	f44f 3280	 mov         r2,#0x10000
  00462	69db		 ldr         r3,[r3,#0x1C]
  00464	2100		 movs        r1,#0
  00466	4620		 mov         r0,r4
  00468	4798		 blx         r3
  0046a	4604		 mov         r4,r0

; 140  : 
; 141  : 		if (dwReturn != ERROR_SUCCESS)

  0046c	b1dc		 cbz         r4,|$LN1@Init|

; 142  : 		{
; 143  : 			PMLOGMSG (ZONE_PLATFORM,
; 144  : 					  (_T ("%s: StateValidateRegistry return (0x%08x) fails\r\n"), pszFname,
; 145  : 					   dwReturn));

  0046e	4b14		 ldr         r3,|$LN32@Init|	; =|dpCurSettings|
  00470	f8d3 3440	 ldr         r3,[r3,#0x440]
  00474	f413 6f80	 tst         r3,#0x400
  00478	d009		 beq         |$LN11@Init|
  0047a	4910		 ldr         r1,|$LN31@Init|	; =|??_C@_1CC@BLNGLGKH@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  0047c	4602		 mov         r2,r0
  0047e	480e		 ldr         r0,|$LN30@Init|	; =|??_C@_1GE@NEFAJPAA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAS?$AAt?$AAa?$AAt?$AAe?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr?$AAy?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn@|
  00480	f000 f800	 bl          NKDbgPrintfW
  00484	490d		 ldr         r1,|$LN31@Init|	; =|??_C@_1CC@BLNGLGKH@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  00486	480c		 ldr         r0,|$LN30@Init|	; =|??_C@_1GE@NEFAJPAA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAS?$AAt?$AAa?$AAt?$AAe?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr?$AAy?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn@|
  00488	4622		 mov         r2,r4
  0048a	f000 f800	 bl          CeLogMsg
  0048e		 |$LN11@Init|

; 146  : 			ASSERT (FALSE);

  0048e	2392		 movs        r3,#0x92

; 147  : 			return FALSE;

  00490	e000		 b           |$LN20@Init|
  00492		 |$LN16@Init|

; 134  : 			{
; 135  : 				ASSERT (FALSE);

  00492	2387		 movs        r3,#0x87
  00494		 |$LN20@Init|
  00494	4807		 ldr         r0,|$LN29@Init|	; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00496	4906		 ldr         r1,|$LN28@Init|	; =|??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  00498	4a04		 ldr         r2,|$LN27@Init|	; =|??_C@_1IK@BFGOIDAJ@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  0049a	f000 f800	 bl          NKDbgPrintfW
  0049e	defe		 __debugbreak
  004a0		 |$LN6@Init|

; 150  : 	}
; 151  : 	return FALSE;

  004a0	2000		 movs        r0,#0
  004a2		 |$LN7@Init|
  004a2		 |$M25|

; 152  : }

  004a2	e8bd 8818	 pop         {r3,r4,r11,pc}
  004a6		 |$LN1@Init|

; 148  : 		}
; 149  : 		return TRUE;

  004a6	2001		 movs        r0,#1
  004a8	e7fb		 b           |$LN7@Init|
  004aa		 |$LN33@Init|
  004aa		 |$M34|
  004aa	defe		 __debugbreak
  004ac		 |$LN26@Init|
  004ac		 |$LN27@Init|
  004ac	0000 0000	 DCD         |??_C@_1IK@BFGOIDAJ@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  004b0		 |$LN28@Init|
  004b0	0000 0000	 DCD         |??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  004b4		 |$LN29@Init|
  004b4	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  004b8		 |$LN30@Init|
  004b8	0000 0000	 DCD         |??_C@_1GE@NEFAJPAA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAS?$AAt?$AAa?$AAt?$AAe?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr?$AAy?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn@|
  004bc		 |$LN31@Init|
  004bc	0000 0000	 DCD         |??_C@_1CC@BLNGLGKH@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  004c0		 |$LN32@Init|
  004c0	0000 0000	 DCD         |dpCurSettings|
  004c4		 |$M23|

			 ENDP  ; |?Init@PowerState@@UAAHXZ|, PowerState::Init

	EXPORT	|?GetLastNewState@PowerStateUnattended@@UAA?AW4PLATFORM_ACTIVITY_STATE@@XZ| ; PowerStateUnattended::GetLastNewState
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  004c4			 AREA	 |.text|, CODE, THUMB

  004c4		 |?GetLastNewState@PowerStateUnattended@@UAA?AW4PLATFORM_ACTIVITY_STATE@@XZ| PROC ; PowerStateUnattended::GetLastNewState

; 553  : 	if (m_LastNewState == Unattended)

  004c4	6843		 ldr         r3,[r0,#4]
  004c6	2b02		 cmp         r3,#2
  004c8	d105		 bne         |$LN1@GetLastNew|

; 554  : 	{
; 555  : 		if (m_pPwrStateMgr->GetUnattendedRefCount () == 0)

  004ca	6883		 ldr         r3,[r0,#8]
  004cc	f8d3 3290	 ldr         r3,[r3,#0x290]
  004d0	b90b		 cbnz        r3,|$LN1@GetLastNew|

; 556  : 		{	// Unattended ref count is zero.
; 557  : 			return Suspend;

  004d2	2004		 movs        r0,#4
  004d4		 |$M8|

; 561  : }

  004d4	4770		 bx          lr
  004d6		 |$LN1@GetLastNew|

; 558  : 		}
; 559  : 	}
; 560  : 	return m_LastNewState;

  004d6	6840		 ldr         r0,[r0,#4]
  004d8		 |$M9|

; 561  : }

  004d8	4770		 bx          lr

			 ENDP  ; |?GetLastNewState@PowerStateUnattended@@UAA?AW4PLATFORM_ACTIVITY_STATE@@XZ|, PowerStateUnattended::GetLastNewState

	EXPORT	|?EnterState@PowerStateSuspend@@UAAXXZ|	; PowerStateSuspend::EnterState

  00038			 AREA	 |.pdata|, PDATA
|$pdata1$?EnterState@PowerStateSuspend@@UAAXXZ| DCD imagerel |$LN10@EnterState|
	DCD	0xfd306081
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  004da			 AREA	 |.text|, CODE, THUMB

  004dc		 |?EnterState@PowerStateSuspend@@UAAXXZ| PROC ; PowerStateSuspend::EnterState

; 641  : {

  004dc		 |$LN10@EnterState|
  004dc	e92d 4818	 push        {r3,r4,r11,lr}
  004e0	f20d 0b08	 addw        r11,sp,#8
  004e4		 |$M8|
  004e4	4604		 mov         r4,r0

; 642  : 	PmSetSystemPowerState_I (GetStateString (), 0, 0, TRUE);

  004e6	6823		 ldr         r3,[r4]
  004e8	699b		 ldr         r3,[r3,#0x18]
  004ea	4798		 blx         r3
  004ec	2301		 movs        r3,#1
  004ee	2200		 movs        r2,#0
  004f0	2100		 movs        r1,#0
  004f2	f000 f800	 bl          PmSetSystemPowerState_I

; 643  : 
; 644  : 	// Because it wakes up by a wakeup source, automatically enter the Resuming state.
; 645  : 	m_LastNewState = Resuming;	// Point to Resuming.

  004f6	2303		 movs        r3,#3
  004f8	6063		 str         r3,[r4,#4]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 234  : 		m_dwUnattendedModeRef = 0;

  004fa	68a3		 ldr         r3,[r4,#8]
  004fc	2200		 movs        r2,#0
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 650  : 	m_pPwrStateMgr->ReInitTimeOuts (FALSE);

  004fe	2100		 movs        r1,#0
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 234  : 		m_dwUnattendedModeRef = 0;

  00500	f8c3 2290	 str         r2,[r3,#0x290]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 649  : 	m_dwEventArray[PM_USER_ACTIVITY_EVENT] = m_pPwrStateMgr->GetUserActivityTimer ()->hevActive;

  00504	68a3		 ldr         r3,[r4,#8]
  00506	f8d3 3258	 ldr         r3,[r3,#0x258]
  0050a	691b		 ldr         r3,[r3,#0x10]
  0050c	62e3		 str         r3,[r4,#0x2C]

; 650  : 	m_pPwrStateMgr->ReInitTimeOuts (FALSE);

  0050e	68a3		 ldr         r3,[r4,#8]
  00510	4618		 mov         r0,r3
  00512	681b		 ldr         r3,[r3]
  00514	689b		 ldr         r3,[r3,#8]
  00516	4798		 blx         r3
  00518		 |$M11|

; 651  : }

  00518	e8bd 8818	 pop         {r3,r4,r11,pc}
  0051c		 |$M9|

			 ENDP  ; |?EnterState@PowerStateSuspend@@UAAXXZ|, PowerStateSuspend::EnterState

	IMPORT	|?GetEventHandle@PowerStateManager@@QAAPAXK@Z| ; PowerStateManager::GetEventHandle

  00040			 AREA	 |.pdata|, PDATA
|$pdata1$?EnterState@PowerState@@UAAXXZ| DCD imagerel |$LN15@EnterState|
	DCD	0xfd306131
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  0051c			 AREA	 |.text|, CODE, THUMB

  0051c		 |?EnterState@PowerState@@UAAXXZ| PROC	; PowerState::EnterState

; 226  : {

  0051c		 |$LN15@EnterState|
  0051c	e92d 4818	 push        {r3,r4,r11,lr}
  00520	f20d 0b08	 addw        r11,sp,#8
  00524		 |$M13|
  00524	4604		 mov         r4,r0

; 227  : 	PmSetSystemPowerState_I (GetStateString (), 0, 0, TRUE);

  00526	6823		 ldr         r3,[r4]
  00528	699b		 ldr         r3,[r3,#0x18]
  0052a	4798		 blx         r3
  0052c	2301		 movs        r3,#1
  0052e	2200		 movs        r2,#0
  00530	2100		 movs        r1,#0
  00532	f000 f800	 bl          PmSetSystemPowerState_I

; 228  : 	m_LastNewState = GetState ();	// Point to itself

  00536	6823		 ldr         r3,[r4]
  00538	4620		 mov         r0,r4
  0053a	695b		 ldr         r3,[r3,#0x14]
  0053c	4798		 blx         r3
  0053e	6060		 str         r0,[r4,#4]

; 229  : 
; 230  : 	// Initial timeout to Active:
; 231  : 	m_dwEventArray[PM_SHUTDOWN_EVENT] = m_pPwrStateMgr->GetEventHandle (PM_SHUTDOWN_EVENT);

  00540	68a0		 ldr         r0,[r4,#8]
  00542	2100		 movs        r1,#0
  00544	f000 f800	 bl          |?GetEventHandle@PowerStateManager@@QAAPAXK@Z|
  00548	61a0		 str         r0,[r4,#0x18]

; 232  : 	m_dwEventArray[PM_RELOAD_ACTIVITY_TIMEOUTS_EVENT] =
; 233  : 		m_pPwrStateMgr->GetEventHandle (PM_RELOAD_ACTIVITY_TIMEOUTS_EVENT);

  0054a	68a0		 ldr         r0,[r4,#8]
  0054c	2101		 movs        r1,#1
  0054e	f000 f800	 bl          |?GetEventHandle@PowerStateManager@@QAAPAXK@Z|
  00552	61e0		 str         r0,[r4,#0x1C]

; 234  : 	m_dwEventArray[PM_MSGQUEUE_EVENT] = m_pPwrStateMgr->GetEventHandle (PM_MSGQUEUE_EVENT);

  00554	68a0		 ldr         r0,[r4,#8]
  00556	2102		 movs        r1,#2
  00558	f000 f800	 bl          |?GetEventHandle@PowerStateManager@@QAAPAXK@Z|
  0055c	6220		 str         r0,[r4,#0x20]

; 235  : 	m_dwEventArray[PM_RESTART_TIMER_EVENT] =
; 236  : 		m_pPwrStateMgr->GetEventHandle (PM_RESTART_TIMER_EVENT);

  0055e	68a0		 ldr         r0,[r4,#8]
  00560	2103		 movs        r1,#3
  00562	f000 f800	 bl          |?GetEventHandle@PowerStateManager@@QAAPAXK@Z|
  00566	6260		 str         r0,[r4,#0x24]

; 237  : 	m_dwEventArray[PM_USER_ACTIVITY_EVENT] = m_pPwrStateMgr->GetUserActivityTimer ()->hevAutoReset;

  00568	68a3		 ldr         r3,[r4,#8]

; 238  : 	m_dwEventArray[PM_SYSTEM_API_EVENT] = m_pPwrStateMgr->GetEventHandle (PM_SYSTEM_API_EVENT);

  0056a	2106		 movs        r1,#6
  0056c	f8d3 3258	 ldr         r3,[r3,#0x258]
  00570	6a5b		 ldr         r3,[r3,#0x24]
  00572	62e3		 str         r3,[r4,#0x2C]
  00574	68a0		 ldr         r0,[r4,#8]
  00576	f000 f800	 bl          |?GetEventHandle@PowerStateManager@@QAAPAXK@Z|
  0057a	6320		 str         r0,[r4,#0x30]

; 239  : 	m_dwEventArray[PM_SYSTEM_TIMEIDLE_RESET] =
; 240  : 		m_pPwrStateMgr->GetEventHandle (PM_SYSTEM_TIMEIDLE_RESET);

  0057c	68a0		 ldr         r0,[r4,#8]
  0057e	2104		 movs        r1,#4
  00580	f000 f800	 bl          |?GetEventHandle@PowerStateManager@@QAAPAXK@Z|
  00584	62a0		 str         r0,[r4,#0x28]

; 241  : 	m_dwEventArray[PM_BOOTPHASE2_EVENT] = m_pPwrStateMgr->GetEventHandle (PM_BOOTPHASE2_EVENT);

  00586	68a0		 ldr         r0,[r4,#8]
  00588	2107		 movs        r1,#7
  0058a	f000 f800	 bl          |?GetEventHandle@PowerStateManager@@QAAPAXK@Z|

; 242  : 
; 243  : 	m_dwNumOfEvent = PM_BASE_TOTAL_EVENT;

  0058e	2308		 movs        r3,#8
  00590	6360		 str         r0,[r4,#0x34]
  00592	6123		 str         r3,[r4,#0x10]
  00594	4622		 mov         r2,r4
  00596	2108		 movs        r1,#8
  00598		 |$LL4@EnterState|

; 245  : 	{
; 246  : 		if (m_dwEventArray[dwIndex] == NULL)

  00598	6993		 ldr         r3,[r2,#0x18]
  0059a	b90b		 cbnz        r3,|$LN3@EnterState|

; 247  : 		{	// Use dummy event.
; 248  : 			m_dwEventArray[dwIndex] = m_hUnsignaledHandle;

  0059c	68e3		 ldr         r3,[r4,#0xC]
  0059e	6193		 str         r3,[r2,#0x18]
  005a0		 |$LN3@EnterState|

; 244  : 	for (DWORD dwIndex = 0; dwIndex < PM_BASE_TOTAL_EVENT; dwIndex++)

  005a0	3204		 adds        r2,#4
  005a2	3901		 subs        r1,#1
  005a4	d1f8		 bne         |$LL4@EnterState|

; 249  : 		}
; 250  : 	}
; 251  : 	m_pPwrStateMgr->ReAdjustTimeOuts ();

  005a6	68a3		 ldr         r3,[r4,#8]
  005a8	4618		 mov         r0,r3
  005aa	681b		 ldr         r3,[r3]
  005ac	68db		 ldr         r3,[r3,#0xC]
  005ae	4798		 blx         r3
  005b0		 |$M16|

; 252  : }

  005b0	e8bd 8818	 pop         {r3,r4,r11,pc}
  005b4		 |$M14|

			 ENDP  ; |?EnterState@PowerState@@UAAXXZ|, PowerState::EnterState

; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?GetLastNewState@PowerState@@UAA?AW4PLATFORM_ACTIVITY_STATE@@XZ| PROC ; PowerState::GetLastNewState

; 159  : 		return m_LastNewState;

  00000	6840		 ldr         r0,[r0,#4]
  00002		 |$M4|

; 160  : 	};

  00002	4770		 bx          lr

			 ENDP  ; |?GetLastNewState@PowerState@@UAA?AW4PLATFORM_ACTIVITY_STATE@@XZ|, PowerState::GetLastNewState

; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?SetSystemAPIState@PowerState@@UAA?AW4PLATFORM_ACTIVITY_STATE@@W42@@Z| PROC ; PowerState::SetSystemAPIState

; 163  : 		if (UnknownState != apiState)

  00000	f1b1 3fff	 cmp         r1,#0xFFFFFFFF
  00004	d000		 beq         |$LN1@SetSystemA|

; 164  : 			m_LastNewState = apiState;

  00006	6041		 str         r1,[r0,#4]
  00008		 |$LN1@SetSystemA|

; 165  : 		return m_LastNewState;

  00008	6840		 ldr         r0,[r0,#4]
  0000a		 |$M5|

; 166  : 	}

  0000a	4770		 bx          lr

			 ENDP  ; |?SetSystemAPIState@PowerState@@UAA?AW4PLATFORM_ACTIVITY_STATE@@W42@@Z|, PowerState::SetSystemAPIState

; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?AppsCanRequestState@PowerState@@UAAHXZ| PROC ; PowerState::AppsCanRequestState

; 173  : 		return FALSE;

  00000	2000		 movs        r0,#0
  00002		 |$M4|

; 174  : 	}

  00002	4770		 bx          lr

			 ENDP  ; |?AppsCanRequestState@PowerState@@UAAHXZ|, PowerState::AppsCanRequestState

	IMPORT	|??3@YAXPAX@Z|				; operator delete

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$??_GPowerState@@UAAPAXI@Z| DCD imagerel |$LN10@scalar|
	DCD	0x316055
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |??_GPowerState@@UAAPAXI@Z| PROC	; PowerState::`scalar deleting destructor'
  00000		 |$LN10@scalar|
  00000	e92d 4830	 push        {r4,r5,r11,lr}
  00004	f20d 0b08	 addw        r11,sp,#8
  00008		 |$M8|
  00008	4604		 mov         r4,r0

; 113  : 	if (m_hUnsignaledHandle != NULL)

  0000a	68e0		 ldr         r0,[r4,#0xC]
  0000c	4b07		 ldr         r3,|$LN13@scalar|	; =|??_7PowerState@@6B@|
  0000e	460d		 mov         r5,r1
  00010	6023		 str         r3,[r4]
  00012	b108		 cbz         r0,|$LN4@scalar|

; 114  : 		CloseHandle (m_hUnsignaledHandle);

  00014	f000 f800	 bl          CloseHandle
  00018		 |$LN4@scalar|
  00018	f015 0f01	 tst         r5,#1
  0001c	d002		 beq         |$LN1@scalar|
  0001e	4620		 mov         r0,r4
  00020	f000 f800	 bl          |??3@YAXPAX@Z|
  00024		 |$LN1@scalar|
  00024	4620		 mov         r0,r4
  00026		 |$M11|
  00026	e8bd 8830	 pop         {r4,r5,r11,pc}
  0002a		 |$LN14@scalar|
  0002a		 |$M15|
  0002a	defe		 __debugbreak
  0002c		 |$LN12@scalar|
  0002c		 |$LN13@scalar|
  0002c	0000 0000	 DCD         |??_7PowerState@@6B@|
  00030		 |$M9|

			 ENDP  ; |??_GPowerState@@UAAPAXI@Z|, PowerState::`scalar deleting destructor'

	EXPORT	|?WaitForEvent@PowerStateBacklightOff@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| ; PowerStateBacklightOff::WaitForEvent

  00048			 AREA	 |.pdata|, PDATA
|$pdata1$?WaitForEvent@PowerStateBacklightOff@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| DCD imagerel |$LN23@WaitForEve|
	DCD	0xfd7360e5
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  005b4			 AREA	 |.text|, CODE, THUMB

  005b4		 |?WaitForEvent@PowerStateBacklightOff@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| PROC ; PowerStateBacklightOff::WaitForEvent

; 702  : {

  005b4		 |$LN23@WaitForEve|
  005b4	e92d 48fc	 push        {r2-r7,r11,lr}
  005b8	f20d 0b18	 addw        r11,sp,#0x18
  005bc		 |$M21|
  005bc	4607		 mov         r7,r0
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 214  : 		m_dwCurResumingSuspendTimeout = INFINITE;

  005be	68b9		 ldr         r1,[r7,#8]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 702  : {

  005c0	461d		 mov         r5,r3
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 214  : 		m_dwCurResumingSuspendTimeout = INFINITE;

  005c2	f06f 0300	 mvn         r3,#0
  005c6	f8c1 3284	 str         r3,[r1,#0x284]

; 202  : 		m_dwCurBacklightTimeout = INFINITE;

  005ca	68b9		 ldr         r1,[r7,#8]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 702  : {

  005cc	4616		 mov         r6,r2
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 202  : 		m_dwCurBacklightTimeout = INFINITE;

  005ce	f8c1 3288	 str         r3,[r1,#0x288]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 708  : 	DWORD dwTimeout = m_pPwrStateMgr->GetSmallestTimeout (&TimeoutItem);

  005d2	68bc		 ldr         r4,[r7,#8]
  005d4	4669		 mov         r1,sp
  005d6	4620		 mov         r0,r4
  005d8	6824		 ldr         r4,[r4]
  005da	69e4		 ldr         r4,[r4,#0x1C]
  005dc	47a0		 blx         r4
  005de	4601		 mov         r1,r0

; 709  : 	PLATFORM_ACTIVITY_EVENT activeEvent =
; 710  : 		PowerState::WaitForEvent (dwTimeout, dwNumOfExternEvent, pExternEventArray);

  005e0	4638		 mov         r0,r7
  005e2	462b		 mov         r3,r5
  005e4	4632		 mov         r2,r6
  005e6	f000 f800	 bl          |?WaitForEvent@PowerState@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|
  005ea	4604		 mov         r4,r0

; 711  : 	switch (activeEvent)

  005ec	2c01		 cmp         r4,#1
  005ee	d015		 beq         |$LN7@WaitForEve|
  005f0	2c07		 cmp         r4,#7
  005f2	d003		 beq         |$LN6@WaitForEve|
  005f4	2c0f		 cmp         r4,#0xF
  005f6	d113		 bne         |$LN9@WaitForEve|
  005f8		 |$LN2@WaitForEve|

; 712  : 	{
; 713  : 	  case PowerButtonPressed:
; 714  : 		  m_LastNewState = Unattended;

  005f8	2302		 movs        r3,#2

; 715  : 		  break;

  005fa	e010		 b           |$LN19@WaitForEve|
  005fc		 |$LN6@WaitForEve|

; 718  : 		  break;
; 719  : 	  case Timeout:
; 720  : 		  {
; 721  : 			  switch (TimeoutItem)

  005fc	9b00		 ldr         r3,[sp]
  005fe	2b01		 cmp         r3,#1
  00600	d0fa		 beq         |$LN2@WaitForEve|
  00602	2b04		 cmp         r3,#4
  00604	d008		 beq         |$LN3@WaitForEve|

; 726  : 				case SuspendTimeout:
; 727  : 					m_LastNewState = Unattended;
; 728  : 					break;
; 729  : 				default:
; 730  : 					ASSERT (FALSE);

  00606	4a0a		 ldr         r2,|$LN28@WaitForEve| ; =|??_C@_1IK@BFGOIDAJ@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00608	4908		 ldr         r1,|$LN27@WaitForEve| ; =|??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  0060a	4807		 ldr         r0,|$LN26@WaitForEve| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  0060c	f240 23da	 mov         r3,#0x2DA
  00610	f000 f800	 bl          NKDbgPrintfW
  00614	defe		 __debugbreak
  00616	e003		 b           |$LN9@WaitForEve|
  00618		 |$LN3@WaitForEve|

; 722  : 			  {
; 723  : 				case UserActivityTimeout:
; 724  : 					m_LastNewState = UserIdle;

  00618	2301		 movs        r3,#1

; 725  : 					break;

  0061a	e000		 b           |$LN19@WaitForEve|
  0061c		 |$LN7@WaitForEve|

; 716  : 	  case UserActivity:
; 717  : 		  m_LastNewState = On;

  0061c	2300		 movs        r3,#0
  0061e		 |$LN19@WaitForEve|
  0061e	607b		 str         r3,[r7,#4]
  00620		 |$LN9@WaitForEve|

; 731  : 			  }
; 732  : 			  break;
; 733  : 		  }
; 734  : 	}
; 735  : 	return activeEvent;
; 736  : }

  00620	4620		 mov         r0,r4
  00622		 |$M24|
  00622	e8bd 88fc	 pop         {r2-r7,r11,pc}
  00626		 |$LN29@WaitForEve|
  00626		 |$M30|
  00626	defe		 __debugbreak
  00628		 |$LN25@WaitForEve|
  00628		 |$LN26@WaitForEve|
  00628	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  0062c		 |$LN27@WaitForEve|
  0062c	0000 0000	 DCD         |??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  00630		 |$LN28@WaitForEve|
  00630	0000 0000	 DCD         |??_C@_1IK@BFGOIDAJ@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00634		 |$M22|

			 ENDP  ; |?WaitForEvent@PowerStateBacklightOff@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|, PowerStateBacklightOff::WaitForEvent

	EXPORT	|?WaitForEvent@PowerStateScreenOff@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| ; PowerStateScreenOff::WaitForEvent

  00050			 AREA	 |.pdata|, PDATA
|$pdata1$?WaitForEvent@PowerStateScreenOff@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| DCD imagerel |$LN23@WaitForEve|
	DCD	0xfd7360d9
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00634			 AREA	 |.text|, CODE, THUMB

  00634		 |?WaitForEvent@PowerStateScreenOff@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| PROC ; PowerStateScreenOff::WaitForEvent

; 662  : {

  00634		 |$LN23@WaitForEve|
  00634	e92d 48fc	 push        {r2-r7,r11,lr}
  00638	f20d 0b18	 addw        r11,sp,#0x18
  0063c		 |$M21|
  0063c	4607		 mov         r7,r0
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 214  : 		m_dwCurResumingSuspendTimeout = INFINITE;

  0063e	68b9		 ldr         r1,[r7,#8]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 662  : {

  00640	461d		 mov         r5,r3
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 214  : 		m_dwCurResumingSuspendTimeout = INFINITE;

  00642	f06f 0300	 mvn         r3,#0
  00646	f8c1 3284	 str         r3,[r1,#0x284]

; 202  : 		m_dwCurBacklightTimeout = INFINITE;

  0064a	68b9		 ldr         r1,[r7,#8]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 662  : {

  0064c	4616		 mov         r6,r2
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 202  : 		m_dwCurBacklightTimeout = INFINITE;

  0064e	f8c1 3288	 str         r3,[r1,#0x288]

; 203  : 	};
; 204  : 	void DisableUserIdleTimeout ()
; 205  : 	{
; 206  : 		m_dwCurUserIdleTimeout = INFINITE;

  00652	68b9		 ldr         r1,[r7,#8]
  00654	f8c1 328c	 str         r3,[r1,#0x28C]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 669  : 	DWORD dwTimeout = m_pPwrStateMgr->GetSmallestTimeout (&TimeoutItem);

  00658	68bc		 ldr         r4,[r7,#8]
  0065a	4669		 mov         r1,sp
  0065c	4620		 mov         r0,r4
  0065e	6824		 ldr         r4,[r4]
  00660	69e4		 ldr         r4,[r4,#0x1C]
  00662	47a0		 blx         r4
  00664	4601		 mov         r1,r0

; 670  : 	PLATFORM_ACTIVITY_EVENT activeEvent =
; 671  : 		PowerState::WaitForEvent (dwTimeout, dwNumOfExternEvent, pExternEventArray);

  00666	4638		 mov         r0,r7
  00668	462b		 mov         r3,r5
  0066a	4632		 mov         r2,r6
  0066c	f000 f800	 bl          |?WaitForEvent@PowerState@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|
  00670	4604		 mov         r4,r0

; 672  : 	switch (activeEvent)

  00672	2c07		 cmp         r4,#7
  00674	d003		 beq         |$LN5@WaitForEve|
  00676	2c0f		 cmp         r4,#0xF
  00678	d10f		 bne         |$LN12@WaitForEve|

; 673  : 	{
; 674  : 	  case PowerButtonPressed:
; 675  : 		  m_LastNewState = On;

  0067a	2300		 movs        r3,#0

; 676  : 		  break;

  0067c	e00c		 b           |$LN19@WaitForEve|
  0067e		 |$LN5@WaitForEve|

; 677  : 	  case Timeout:
; 678  : 		  {
; 679  : 			  switch (TimeoutItem)

  0067e	9b00		 ldr         r3,[sp]
  00680	2b01		 cmp         r3,#1
  00682	d008		 beq         |$LN2@WaitForEve|

; 683  : 					break;
; 684  : 				default:
; 685  : 					ASSERT (FALSE);

  00684	4a08		 ldr         r2,|$LN28@WaitForEve| ; =|??_C@_1IK@BFGOIDAJ@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00686	4907		 ldr         r1,|$LN27@WaitForEve| ; =|??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  00688	4805		 ldr         r0,|$LN26@WaitForEve| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  0068a	f240 23ad	 mov         r3,#0x2AD
  0068e	f000 f800	 bl          NKDbgPrintfW
  00692	defe		 __debugbreak
  00694	e001		 b           |$LN12@WaitForEve|
  00696		 |$LN2@WaitForEve|

; 680  : 			  {
; 681  : 				case SuspendTimeout:
; 682  : 					m_LastNewState = Unattended;

  00696	2302		 movs        r3,#2
  00698		 |$LN19@WaitForEve|
  00698	607b		 str         r3,[r7,#4]
  0069a		 |$LN12@WaitForEve|

; 686  : 			  }
; 687  : 			  break;
; 688  : 		  }
; 689  : 	}
; 690  : 	return activeEvent;
; 691  : }

  0069a	4620		 mov         r0,r4
  0069c		 |$M24|
  0069c	e8bd 88fc	 pop         {r2-r7,r11,pc}
  006a0		 |$LN25@WaitForEve|
  006a0		 |$LN26@WaitForEve|
  006a0	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  006a4		 |$LN27@WaitForEve|
  006a4	0000 0000	 DCD         |??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  006a8		 |$LN28@WaitForEve|
  006a8	0000 0000	 DCD         |??_C@_1IK@BFGOIDAJ@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  006ac		 |$M22|

			 ENDP  ; |?WaitForEvent@PowerStateScreenOff@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|, PowerStateScreenOff::WaitForEvent

	EXPORT	|?WaitForEvent@PowerStateResuming@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| ; PowerStateResuming::WaitForEvent

  00058			 AREA	 |.pdata|, PDATA
|$pdata1$?WaitForEvent@PowerStateResuming@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| DCD imagerel |$LN12@WaitForEve|
	DCD	0xfd73607d
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  006ac			 AREA	 |.text|, CODE, THUMB

  006ac		 |?WaitForEvent@PowerStateResuming@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| PROC ; PowerStateResuming::WaitForEvent

; 613  : {

  006ac		 |$LN12@WaitForEve|
  006ac	e92d 48fc	 push        {r2-r7,r11,lr}
  006b0	f20d 0b18	 addw        r11,sp,#0x18
  006b4		 |$M10|
  006b4	4607		 mov         r7,r0

; 614  : 	TIMEOUT_ITEM TimeoutItem;
; 615  : 	DWORD dwTimeout = m_pPwrStateMgr->GetSmallestTimeout (&TimeoutItem);

  006b6	68bc		 ldr         r4,[r7,#8]
  006b8	4669		 mov         r1,sp
  006ba	461d		 mov         r5,r3
  006bc	4620		 mov         r0,r4
  006be	6824		 ldr         r4,[r4]
  006c0	4616		 mov         r6,r2
  006c2	69e4		 ldr         r4,[r4,#0x1C]
  006c4	47a0		 blx         r4
  006c6	4601		 mov         r1,r0

; 616  : 	PLATFORM_ACTIVITY_EVENT activeEvent =
; 617  : 		PowerState::WaitForEvent (dwTimeout, dwNumOfExternEvent, pExternEventArray);

  006c8	4638		 mov         r0,r7
  006ca	462b		 mov         r3,r5
  006cc	4632		 mov         r2,r6
  006ce	f000 f800	 bl          |?WaitForEvent@PowerState@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|

; 618  : 	switch (activeEvent)

  006d2	2801		 cmp         r0,#1
  006d4	d003		 beq         |$LN2@WaitForEve|
  006d6	2807		 cmp         r0,#7
  006d8	d005		 beq         |$LN1@WaitForEve|
  006da	280f		 cmp         r0,#0xF
  006dc	d101		 bne         |$LN4@WaitForEve|
  006de		 |$LN2@WaitForEve|

; 619  : 	{
; 620  : 	  case PowerButtonPressed:
; 621  : 		  m_LastNewState = On;
; 622  : 		  break;
; 623  : 	  case UserActivity:
; 624  : 		  m_LastNewState = On;

  006de	2300		 movs        r3,#0
  006e0		 |$LN8@WaitForEve|
  006e0	607b		 str         r3,[r7,#4]
  006e2		 |$LN4@WaitForEve|
  006e2		 |$M13|

; 629  : 	}
; 630  : 	return activeEvent;
; 631  : }

  006e2	e8bd 88fc	 pop         {r2-r7,r11,pc}
  006e6		 |$LN1@WaitForEve|

; 625  : 		  break;
; 626  : 	  case Timeout:
; 627  : 		  m_LastNewState = Unattended;

  006e6	2302		 movs        r3,#2

; 628  : 		  break;

  006e8	e7fa		 b           |$LN8@WaitForEve|
  006ea		 |$M11|

			 ENDP  ; |?WaitForEvent@PowerStateResuming@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|, PowerStateResuming::WaitForEvent

	EXPORT	|?WaitForEvent@PowerStateUnattended@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| ; PowerStateUnattended::WaitForEvent

  00060			 AREA	 |.pdata|, PDATA
|$pdata1$?WaitForEvent@PowerStateUnattended@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| DCD imagerel |$LN23@WaitForEve|
	DCD	0xfd7360d9
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  006ea			 AREA	 |.text|, CODE, THUMB

  006ec		 |?WaitForEvent@PowerStateUnattended@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| PROC ; PowerStateUnattended::WaitForEvent

; 566  : {

  006ec		 |$LN23@WaitForEve|
  006ec	e92d 48fc	 push        {r2-r7,r11,lr}
  006f0	f20d 0b18	 addw        r11,sp,#0x18
  006f4		 |$M21|
  006f4	4607		 mov         r7,r0
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 214  : 		m_dwCurResumingSuspendTimeout = INFINITE;

  006f6	68b9		 ldr         r1,[r7,#8]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 566  : {

  006f8	461d		 mov         r5,r3
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 214  : 		m_dwCurResumingSuspendTimeout = INFINITE;

  006fa	f06f 0300	 mvn         r3,#0
  006fe	f8c1 3284	 str         r3,[r1,#0x284]

; 202  : 		m_dwCurBacklightTimeout = INFINITE;

  00702	68b9		 ldr         r1,[r7,#8]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 566  : {

  00704	4616		 mov         r6,r2
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 202  : 		m_dwCurBacklightTimeout = INFINITE;

  00706	f8c1 3288	 str         r3,[r1,#0x288]

; 203  : 	};
; 204  : 	void DisableUserIdleTimeout ()
; 205  : 	{
; 206  : 		m_dwCurUserIdleTimeout = INFINITE;

  0070a	68b9		 ldr         r1,[r7,#8]
  0070c	f8c1 328c	 str         r3,[r1,#0x28C]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 573  : 	DWORD dwTimeout = m_pPwrStateMgr->GetSmallestTimeout (&TimeoutItem);

  00710	68bc		 ldr         r4,[r7,#8]
  00712	4669		 mov         r1,sp
  00714	4620		 mov         r0,r4
  00716	6824		 ldr         r4,[r4]
  00718	69e4		 ldr         r4,[r4,#0x1C]
  0071a	47a0		 blx         r4
  0071c	4601		 mov         r1,r0

; 574  : 	PLATFORM_ACTIVITY_EVENT activeEvent =
; 575  : 		PowerState::WaitForEvent (dwTimeout, dwNumOfExternEvent, pExternEventArray);

  0071e	4638		 mov         r0,r7
  00720	462b		 mov         r3,r5
  00722	4632		 mov         r2,r6
  00724	f000 f800	 bl          |?WaitForEvent@PowerState@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|
  00728	4604		 mov         r4,r0

; 576  : 	switch (activeEvent)

  0072a	2c07		 cmp         r4,#7
  0072c	d003		 beq         |$LN5@WaitForEve|
  0072e	2c0f		 cmp         r4,#0xF
  00730	d10f		 bne         |$LN12@WaitForEve|

; 577  : 	{
; 578  : 	  case PowerButtonPressed:
; 579  : 		  m_LastNewState = On;

  00732	2300		 movs        r3,#0

; 580  : 		  break;

  00734	e00c		 b           |$LN19@WaitForEve|
  00736		 |$LN5@WaitForEve|

; 581  : 	  case Timeout:
; 582  : 		  {
; 583  : 			  switch (TimeoutItem)

  00736	9b00		 ldr         r3,[sp]
  00738	2b01		 cmp         r3,#1
  0073a	d008		 beq         |$LN2@WaitForEve|

; 587  : 					break;
; 588  : 				default:
; 589  : 					ASSERT (FALSE);

  0073c	4a08		 ldr         r2,|$LN28@WaitForEve| ; =|??_C@_1IK@BFGOIDAJ@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  0073e	4907		 ldr         r1,|$LN27@WaitForEve| ; =|??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  00740	4805		 ldr         r0,|$LN26@WaitForEve| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00742	f240 234d	 mov         r3,#0x24D
  00746	f000 f800	 bl          NKDbgPrintfW
  0074a	defe		 __debugbreak
  0074c	e001		 b           |$LN12@WaitForEve|
  0074e		 |$LN2@WaitForEve|

; 584  : 			  {
; 585  : 				case SuspendTimeout:
; 586  : 					m_LastNewState = Suspend;

  0074e	2304		 movs        r3,#4
  00750		 |$LN19@WaitForEve|
  00750	607b		 str         r3,[r7,#4]
  00752		 |$LN12@WaitForEve|

; 590  : 			  }
; 591  : 			  break;
; 592  : 		  }
; 593  : 	}
; 594  : 	return activeEvent;
; 595  : }

  00752	4620		 mov         r0,r4
  00754		 |$M24|
  00754	e8bd 88fc	 pop         {r2-r7,r11,pc}
  00758		 |$LN25@WaitForEve|
  00758		 |$LN26@WaitForEve|
  00758	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  0075c		 |$LN27@WaitForEve|
  0075c	0000 0000	 DCD         |??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  00760		 |$LN28@WaitForEve|
  00760	0000 0000	 DCD         |??_C@_1IK@BFGOIDAJ@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00764		 |$M22|

			 ENDP  ; |?WaitForEvent@PowerStateUnattended@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|, PowerStateUnattended::WaitForEvent

	EXPORT	|?WaitForEvent@PowerStateUserIdle@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| ; PowerStateUserIdle::WaitForEvent

  00068			 AREA	 |.pdata|, PDATA
|$pdata1$?WaitForEvent@PowerStateUserIdle@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| DCD imagerel |$LN24@WaitForEve|
	DCD	0xfd7360e1
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00764			 AREA	 |.text|, CODE, THUMB

  00764		 |?WaitForEvent@PowerStateUserIdle@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| PROC ; PowerStateUserIdle::WaitForEvent

; 493  : {

  00764		 |$LN24@WaitForEve|
  00764	e92d 48fc	 push        {r2-r7,r11,lr}
  00768	f20d 0b18	 addw        r11,sp,#0x18
  0076c		 |$M22|
  0076c	4607		 mov         r7,r0
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 214  : 		m_dwCurResumingSuspendTimeout = INFINITE;

  0076e	68b9		 ldr         r1,[r7,#8]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 493  : {

  00770	461d		 mov         r5,r3
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 214  : 		m_dwCurResumingSuspendTimeout = INFINITE;

  00772	f06f 0300	 mvn         r3,#0
  00776	f8c1 3284	 str         r3,[r1,#0x284]

; 202  : 		m_dwCurBacklightTimeout = INFINITE;

  0077a	68b9		 ldr         r1,[r7,#8]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 493  : {

  0077c	4616		 mov         r6,r2
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 202  : 		m_dwCurBacklightTimeout = INFINITE;

  0077e	f8c1 3288	 str         r3,[r1,#0x288]

; 203  : 	};
; 204  : 	void DisableUserIdleTimeout ()
; 205  : 	{
; 206  : 		m_dwCurUserIdleTimeout = INFINITE;

  00782	68b9		 ldr         r1,[r7,#8]
  00784	f8c1 328c	 str         r3,[r1,#0x28C]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 500  : 	DWORD dwTimeout = m_pPwrStateMgr->GetSmallestTimeout (&TimeoutItem);

  00788	68bc		 ldr         r4,[r7,#8]
  0078a	4669		 mov         r1,sp
  0078c	4620		 mov         r0,r4
  0078e	6824		 ldr         r4,[r4]
  00790	69e4		 ldr         r4,[r4,#0x1C]
  00792	47a0		 blx         r4
  00794	4601		 mov         r1,r0

; 501  : 	PLATFORM_ACTIVITY_EVENT activeEvent =
; 502  : 		PowerState::WaitForEvent (dwTimeout, dwNumOfExternEvent, pExternEventArray);

  00796	4638		 mov         r0,r7
  00798	462b		 mov         r3,r5
  0079a	4632		 mov         r2,r6
  0079c	f000 f800	 bl          |?WaitForEvent@PowerState@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|
  007a0	4604		 mov         r4,r0

; 503  : 	switch (activeEvent)

  007a2	2c01		 cmp         r4,#1
  007a4	d011		 beq         |$LN6@WaitForEve|
  007a6	2c07		 cmp         r4,#7
  007a8	d003		 beq         |$LN5@WaitForEve|
  007aa	2c0f		 cmp         r4,#0xF
  007ac	d10f		 bne         |$LN8@WaitForEve|
  007ae		 |$LN2@WaitForEve|

; 504  : 	{
; 505  : 	  case PowerButtonPressed:
; 506  : 		  m_LastNewState = Unattended;

  007ae	2302		 movs        r3,#2

; 507  : 		  break;

  007b0	e00c		 b           |$LN20@WaitForEve|
  007b2		 |$LN5@WaitForEve|

; 510  : 		  break;
; 511  : 	  case Timeout:
; 512  : 		  {
; 513  : 			  switch (TimeoutItem)

  007b2	9b00		 ldr         r3,[sp]
  007b4	2b01		 cmp         r3,#1
  007b6	d0fa		 beq         |$LN2@WaitForEve|

; 514  : 			  {
; 515  : 				case SuspendTimeout:
; 516  : 					m_LastNewState = Unattended;
; 517  : 					break;
; 518  : 				default:
; 519  : 					ASSERT (FALSE);

  007b8	4a08		 ldr         r2,|$LN29@WaitForEve| ; =|??_C@_1IK@BFGOIDAJ@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  007ba	4907		 ldr         r1,|$LN28@WaitForEve| ; =|??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  007bc	4805		 ldr         r0,|$LN27@WaitForEve| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  007be	f240 2307	 mov         r3,#0x207
  007c2	f000 f800	 bl          NKDbgPrintfW
  007c6	defe		 __debugbreak
  007c8	e001		 b           |$LN8@WaitForEve|
  007ca		 |$LN6@WaitForEve|

; 508  : 	  case UserActivity:
; 509  : 		  m_LastNewState = On;

  007ca	2300		 movs        r3,#0
  007cc		 |$LN20@WaitForEve|
  007cc	607b		 str         r3,[r7,#4]
  007ce		 |$LN8@WaitForEve|

; 520  : 			  }
; 521  : 			  break;
; 522  : 		  }
; 523  : 	}
; 524  : 	return activeEvent;
; 525  : }

  007ce	4620		 mov         r0,r4
  007d0		 |$M25|
  007d0	e8bd 88fc	 pop         {r2-r7,r11,pc}
  007d4		 |$LN26@WaitForEve|
  007d4		 |$LN27@WaitForEve|
  007d4	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  007d8		 |$LN28@WaitForEve|
  007d8	0000 0000	 DCD         |??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  007dc		 |$LN29@WaitForEve|
  007dc	0000 0000	 DCD         |??_C@_1IK@BFGOIDAJ@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  007e0		 |$M23|

			 ENDP  ; |?WaitForEvent@PowerStateUserIdle@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|, PowerStateUserIdle::WaitForEvent

	EXPORT	|?WaitForEvent@PowerStateOn@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| ; PowerStateOn::WaitForEvent

  00070			 AREA	 |.pdata|, PDATA
|$pdata1$?WaitForEvent@PowerStateOn@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| DCD imagerel |$LN21@WaitForEve|
	DCD	0xfd7360d9
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  007e0			 AREA	 |.text|, CODE, THUMB

  007e0		 |?WaitForEvent@PowerStateOn@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| PROC ; PowerStateOn::WaitForEvent

; 449  : {

  007e0		 |$LN21@WaitForEve|
  007e0	e92d 48fc	 push        {r2-r7,r11,lr}
  007e4	f20d 0b18	 addw        r11,sp,#0x18
  007e8		 |$M19|
  007e8	4607		 mov         r7,r0
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 214  : 		m_dwCurResumingSuspendTimeout = INFINITE;

  007ea	68b9		 ldr         r1,[r7,#8]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 449  : {

  007ec	461d		 mov         r5,r3
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 214  : 		m_dwCurResumingSuspendTimeout = INFINITE;

  007ee	f06f 0300	 mvn         r3,#0
  007f2	f8c1 3284	 str         r3,[r1,#0x284]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 454  : 	DWORD dwTimeout = m_pPwrStateMgr->GetSmallestTimeout (&TimeoutItem);

  007f6	68bc		 ldr         r4,[r7,#8]
  007f8	4669		 mov         r1,sp
  007fa	4616		 mov         r6,r2
  007fc	4620		 mov         r0,r4
  007fe	6824		 ldr         r4,[r4]
  00800	69e4		 ldr         r4,[r4,#0x1C]
  00802	47a0		 blx         r4
  00804	4601		 mov         r1,r0

; 455  : 	PLATFORM_ACTIVITY_EVENT activeEvent =
; 456  : 		PowerState::WaitForEvent (dwTimeout, dwNumOfExternEvent, pExternEventArray);

  00806	4638		 mov         r0,r7
  00808	462b		 mov         r3,r5
  0080a	4632		 mov         r2,r6
  0080c	f000 f800	 bl          |?WaitForEvent@PowerState@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|
  00810	4604		 mov         r4,r0

; 457  : 	switch (activeEvent)

  00812	2c07		 cmp         r4,#7
  00814	d006		 beq         |$LN7@WaitForEve|
  00816	2c0f		 cmp         r4,#0xF
  00818	d101		 bne         |$LN14@WaitForEve|
  0081a		 |$LN2@WaitForEve|

; 472  : 				case SuspendTimeout:
; 473  : 					m_LastNewState = Unattended;

  0081a	2302		 movs        r3,#2
  0081c		 |$LN17@WaitForEve|
  0081c	607b		 str         r3,[r7,#4]
  0081e		 |$LN14@WaitForEve|

; 477  : 			  }
; 478  : 			  break;
; 479  : 		  }
; 480  : 	}
; 481  : 	return activeEvent;
; 482  : }

  0081e	4620		 mov         r0,r4
  00820		 |$M22|
  00820	e8bd 88fc	 pop         {r2-r7,r11,pc}
  00824		 |$LN7@WaitForEve|

; 458  : 	{
; 459  : 	  case PowerButtonPressed:
; 460  : 		  m_LastNewState = Unattended;
; 461  : 		  break;
; 462  : 	  case Timeout:
; 463  : 		  {
; 464  : 			  switch (TimeoutItem)

  00824	9b00		 ldr         r3,[sp]
  00826	2b01		 cmp         r3,#1
  00828	d0f7		 beq         |$LN2@WaitForEve|
  0082a	2b03		 cmp         r3,#3
  0082c	d00c		 beq         |$LN4@WaitForEve|
  0082e	2b04		 cmp         r3,#4
  00830	d008		 beq         |$LN3@WaitForEve|

; 474  : 					break;
; 475  : 				default:
; 476  : 					ASSERT (FALSE);

  00832	4a08		 ldr         r2,|$LN26@WaitForEve| ; =|??_C@_1IK@BFGOIDAJ@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00834	4906		 ldr         r1,|$LN25@WaitForEve| ; =|??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  00836	4805		 ldr         r0,|$LN24@WaitForEve| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00838	f44f 73ee	 mov         r3,#0x1DC
  0083c	f000 f800	 bl          NKDbgPrintfW
  00840	defe		 __debugbreak
  00842	e7ec		 b           |$LN14@WaitForEve|
  00844		 |$LN3@WaitForEve|

; 469  : 				case UserActivityTimeout:
; 470  : 					m_LastNewState = UserIdle;

  00844	2301		 movs        r3,#1

; 471  : 					break;

  00846	e7e9		 b           |$LN17@WaitForEve|
  00848		 |$LN4@WaitForEve|

; 465  : 			  {
; 466  : 				case BacklightTimeout:
; 467  : 					m_LastNewState = BacklightOff;

  00848	2306		 movs        r3,#6

; 468  : 					break;

  0084a	e7e7		 b           |$LN17@WaitForEve|
  0084c		 |$LN23@WaitForEve|
  0084c		 |$LN24@WaitForEve|
  0084c	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00850		 |$LN25@WaitForEve|
  00850	0000 0000	 DCD         |??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  00854		 |$LN26@WaitForEve|
  00854	0000 0000	 DCD         |??_C@_1IK@BFGOIDAJ@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00858		 |$M20|

			 ENDP  ; |?WaitForEvent@PowerStateOn@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|, PowerStateOn::WaitForEvent

	EXPORT	|?DefaultEventHandle@PowerStateUnattended@@UAA?AW4PLATFORM_ACTIVITY_STATE@@W4PLATFORM_ACTIVITY_EVENT@@@Z| ; PowerStateUnattended::DefaultEventHandle

  00078			 AREA	 |.pdata|, PDATA
|$pdata1$?DefaultEventHandle@PowerStateUnattended@@UAA?AW4PLATFORM_ACTIVITY_STATE@@W4PLATFORM_ACTIVITY_EVENT@@@Z| DCD imagerel |$LN13@DefaultEve|
	DCD	0x316061
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00858			 AREA	 |.text|, CODE, THUMB

  00858		 |?DefaultEventHandle@PowerStateUnattended@@UAA?AW4PLATFORM_ACTIVITY_STATE@@W4PLATFORM_ACTIVITY_EVENT@@@Z| PROC ; PowerStateUnattended::DefaultEventHandle

; 535  : {

  00858		 |$LN13@DefaultEve|
  00858	e92d 4830	 push        {r4,r5,r11,lr}
  0085c	f20d 0b08	 addw        r11,sp,#8
  00860		 |$M11|
  00860	460d		 mov         r5,r1

; 536  : 	if (platActivityEvent == EnterUnattendedModeRequest)

  00862	2d05		 cmp         r5,#5
  00864	4604		 mov         r4,r0
  00866	d105		 bne         |$LN1@DefaultEve|

; 537  : 	{
; 538  : 		m_pPwrStateMgr->ResetSystemIdleTimeTimeout (TRUE);

  00868	68a3		 ldr         r3,[r4,#8]
  0086a	2101		 movs        r1,#1
  0086c	4618		 mov         r0,r3
  0086e	681b		 ldr         r3,[r3]
  00870	695b		 ldr         r3,[r3,#0x14]
  00872	4798		 blx         r3
  00874		 |$LN1@DefaultEve|

; 345  : 	switch (platActivityEvent)

  00874	2d10		 cmp         r5,#0x10
  00876	d101		 bne         |$LN4@DefaultEve|

; 346  : 	{
; 347  : 	  case AppButtonPressed:
; 348  : 		  m_LastNewState = On;

  00878	2300		 movs        r3,#0
  0087a	6063		 str         r3,[r4,#4]
  0087c		 |$LN4@DefaultEve|

; 349  : 		  break;
; 350  : 	  default:
; 351  : 		  break;
; 352  : 	}
; 353  : 	return GetLastNewState ();

  0087c	6823		 ldr         r3,[r4]
  0087e	4620		 mov         r0,r4
  00880	6a1b		 ldr         r3,[r3,#0x20]
  00882	4798		 blx         r3
  00884		 |$M14|

; 539  : 	}
; 540  : 	return PowerState::DefaultEventHandle (platActivityEvent);
; 541  : }

  00884	e8bd 8830	 pop         {r4,r5,r11,pc}
  00888		 |$M12|

			 ENDP  ; |?DefaultEventHandle@PowerStateUnattended@@UAA?AW4PLATFORM_ACTIVITY_STATE@@W4PLATFORM_ACTIVITY_EVENT@@@Z|, PowerStateUnattended::DefaultEventHandle

	EXPORT	|?EnterState@PowerStateResuming@@UAAXXZ| ; PowerStateResuming::EnterState

  00080			 AREA	 |.pdata|, PDATA
|$pdata1$?EnterState@PowerStateResuming@@UAAXXZ| DCD imagerel |$LN6@EnterState|
	DCD	0xfd30603d
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00888			 AREA	 |.text|, CODE, THUMB

  00888		 |?EnterState@PowerStateResuming@@UAAXXZ| PROC ; PowerStateResuming::EnterState

; 605  : {

  00888		 |$LN6@EnterState|
  00888	e92d 4818	 push        {r3,r4,r11,lr}
  0088c	f20d 0b08	 addw        r11,sp,#8
  00890		 |$M4|
  00890	4604		 mov         r4,r0

; 606  : 	PowerState::EnterState ();

  00892	f000 f800	 bl          |?EnterState@PowerState@@UAAXXZ|

; 607  : 	m_pPwrStateMgr->ReInitTimeOuts (FALSE);

  00896	68a3		 ldr         r3,[r4,#8]
  00898	2100		 movs        r1,#0
  0089a	4618		 mov         r0,r3
  0089c	681b		 ldr         r3,[r3]
  0089e	689b		 ldr         r3,[r3,#8]
  008a0	4798		 blx         r3
  008a2		 |$M7|

; 608  : }

  008a2	e8bd 8818	 pop         {r3,r4,r11,pc}
  008a6		 |$M5|

			 ENDP  ; |?EnterState@PowerStateResuming@@UAAXXZ|, PowerStateResuming::EnterState

	EXPORT	|?EnterState@PowerStateUnattended@@UAAXXZ| ; PowerStateUnattended::EnterState

  00088			 AREA	 |.pdata|, PDATA
|$pdata1$?EnterState@PowerStateUnattended@@UAAXXZ| DCD imagerel |$LN6@EnterState|
	DCD	0xfd306041
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  008a6			 AREA	 |.text|, CODE, THUMB

  008a8		 |?EnterState@PowerStateUnattended@@UAAXXZ| PROC ; PowerStateUnattended::EnterState

; 545  : {

  008a8		 |$LN6@EnterState|
  008a8	e92d 4818	 push        {r3,r4,r11,lr}
  008ac	f20d 0b08	 addw        r11,sp,#8
  008b0		 |$M4|
  008b0	4604		 mov         r4,r0

; 546  : 	m_pPwrStateMgr->ResetSystemIdleTimeTimeout (TRUE);

  008b2	68a3		 ldr         r3,[r4,#8]
  008b4	2101		 movs        r1,#1
  008b6	4618		 mov         r0,r3
  008b8	681b		 ldr         r3,[r3]
  008ba	695b		 ldr         r3,[r3,#0x14]
  008bc	4798		 blx         r3

; 547  : 	PowerState::EnterState ();

  008be	4620		 mov         r0,r4
  008c0	f000 f800	 bl          |?EnterState@PowerState@@UAAXXZ|
  008c4		 |$M7|

; 548  : }

  008c4	e8bd 8818	 pop         {r3,r4,r11,pc}
  008c8		 |$M5|

			 ENDP  ; |?EnterState@PowerStateUnattended@@UAAXXZ|, PowerStateUnattended::EnterState

	END
