; Listing generated by Microsoft (R) Optimizing Compiler Version 17.00.50727.114 

	TTL	C:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
	THUMB

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	IMPORT	|__security_push_cookie|
	IMPORT	|__security_pop_cookie|
	IMPORT	|__GSHandlerCheck|
	IMPORT	|StringCchVPrintfW|
	IMPORT	|StringCchLengthW|
	IMPORT	|CeLogData|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$CeLogMsg| DCD imagerel |$LN8@CeLogMsg|
	DCD	imagerel |$unwind2$CeLogMsg|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$CeLogMsg| DCD 0x44b00032
	DCD	0x1e889e8
	DCD	0x400a8fb
	DCD	0x8801e8ff
	DCD	0xff05ef00
	DCD	imagerel |__GSHandlerCheck|
	DCD	0xffffffe5
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\celog.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |CeLogMsg| PROC

; 1208 : {

  00000		 |$LN8@CeLogMsg|
  00000	b40f		 push        {r0-r3}
  00002	e92d 4800	 push        {r11,lr}
  00006	46eb		 mov         r11,sp
  00008	f000 f800	 bl          __security_push_cookie
  0000c	f2ad 2d24	 subw        sp,sp,#0x224
  00010		 |$M6|
  00010	4602		 mov         r2,r0

; 1209 :     va_list arglist;
; 1210 :     WCHAR   szTemp[MAX_PATH];
; 1211 :     size_t  cchLen;
; 1212 :     HRESULT hr;
; 1213 : 
; 1214 :     // Compose a single string using the input args
; 1215 :     va_start(arglist, szFormat);
; 1216 :     hr = StringCchVPrintfW(szTemp, MAX_PATH, szFormat, arglist);

  00012	a806		 add         r0,sp,#0x18
  00014	ab8d		 add         r3,sp,#0x234
  00016	f44f 7182	 mov         r1,#0x104
  0001a	928c		 str         r2,[sp,#0x230]
  0001c	f000 f800	 bl          StringCchVPrintfW

; 1217 :     if (SUCCEEDED(hr)) {

  00020	2800		 cmp         r0,#0
  00022	db17		 blt         |$LN1@CeLogMsg|

; 1218 :         hr = StringCchLengthW(szTemp, MAX_PATH, &cchLen);

  00024	aa04		 add         r2,sp,#0x10
  00026	a806		 add         r0,sp,#0x18
  00028	f44f 7182	 mov         r1,#0x104
  0002c	f000 f800	 bl          StringCchLengthW

; 1219 :         if (SUCCEEDED(hr)) {

  00030	2800		 cmp         r0,#0
  00032	db0f		 blt         |$LN1@CeLogMsg|

; 1220 :             CeLogData(TRUE, CELID_RAW_WCHAR, szTemp, (WORD)((cchLen + 1) * sizeof(WCHAR)),
; 1221 :                       0, CELZONE_ALWAYSON, 0, FALSE);

  00034	f04f 4380	 mov         r3,#0x40000000
  00038	9301		 str         r3,[sp,#4]
  0003a	9b04		 ldr         r3,[sp,#0x10]
  0003c	2200		 movs        r2,#0
  0003e	9203		 str         r2,[sp,#0xC]
  00040	3301		 adds        r3,#1
  00042	005b		 lsls        r3,r3,#1
  00044	9202		 str         r2,[sp,#8]
  00046	9200		 str         r2,[sp]
  00048	aa06		 add         r2,sp,#0x18
  0004a	214a		 movs        r1,#0x4A
  0004c	b29b		 uxth        r3,r3
  0004e	2001		 movs        r0,#1
  00050	f000 f800	 bl          CeLogData
  00054		 |$LN1@CeLogMsg|
  00054		 |$M9|

; 1222 :         }
; 1223 :     }
; 1224 : }

  00054	f20d 2d24	 addw        sp,sp,#0x224
  00058	f000 f800	 bl          __security_pop_cookie
  0005c	f85d bb04	 pop         {r11}
  00060	f85d fb14	 ldr         pc,[sp],#0x14
  00064		 |$M7|

			 ENDP  ; |CeLogMsg|

	EXPORT	|?DisableBacklightTimeout@PowerStateManager@@QAAXXZ| ; PowerStateManager::DisableBacklightTimeout
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?DisableBacklightTimeout@PowerStateManager@@QAAXXZ| PROC ; PowerStateManager::DisableBacklightTimeout

; 202  : 		m_dwCurBacklightTimeout = INFINITE;

  00000	f06f 0300	 mvn         r3,#0
  00004	f8c0 3288	 str         r3,[r0,#0x288]
  00008		 |$M4|

; 203  : 	};

  00008	4770		 bx          lr

			 ENDP  ; |?DisableBacklightTimeout@PowerStateManager@@QAAXXZ|, PowerStateManager::DisableBacklightTimeout

	EXPORT	|?DisableUserIdleTimeout@PowerStateManager@@QAAXXZ| ; PowerStateManager::DisableUserIdleTimeout
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?DisableUserIdleTimeout@PowerStateManager@@QAAXXZ| PROC ; PowerStateManager::DisableUserIdleTimeout

; 206  : 		m_dwCurUserIdleTimeout = INFINITE;

  00000	f06f 0300	 mvn         r3,#0
  00004	f8c0 328c	 str         r3,[r0,#0x28C]
  00008		 |$M4|

; 207  : 	};

  00008	4770		 bx          lr

			 ENDP  ; |?DisableUserIdleTimeout@PowerStateManager@@QAAXXZ|, PowerStateManager::DisableUserIdleTimeout

	EXPORT	|?DisableResumingSuspendTimeout@PowerStateManager@@QAAXXZ| ; PowerStateManager::DisableResumingSuspendTimeout
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?DisableResumingSuspendTimeout@PowerStateManager@@QAAXXZ| PROC ; PowerStateManager::DisableResumingSuspendTimeout

; 214  : 		m_dwCurResumingSuspendTimeout = INFINITE;

  00000	f06f 0300	 mvn         r3,#0
  00004	f8c0 3284	 str         r3,[r0,#0x284]
  00008		 |$M4|

; 215  : 	};

  00008	4770		 bx          lr

			 ENDP  ; |?DisableResumingSuspendTimeout@PowerStateManager@@QAAXXZ|, PowerStateManager::DisableResumingSuspendTimeout

	EXPORT	|?ClearUnattendedRefCount@PowerStateManager@@QAAXXZ| ; PowerStateManager::ClearUnattendedRefCount
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?ClearUnattendedRefCount@PowerStateManager@@QAAXXZ| PROC ; PowerStateManager::ClearUnattendedRefCount

; 234  : 		m_dwUnattendedModeRef = 0;

  00000	2300		 movs        r3,#0
  00002	f8c0 3290	 str         r3,[r0,#0x290]
  00006		 |$M4|

; 235  :     }

  00006	4770		 bx          lr

			 ENDP  ; |?ClearUnattendedRefCount@PowerStateManager@@QAAXXZ|, PowerStateManager::ClearUnattendedRefCount

	EXPORT	|?GetUnattendedRefCount@PowerStateManager@@QAAKXZ| ; PowerStateManager::GetUnattendedRefCount
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?GetUnattendedRefCount@PowerStateManager@@QAAKXZ| PROC ; PowerStateManager::GetUnattendedRefCount

; 253  : 		return m_dwUnattendedModeRef;

  00000	f8d0 0290	 ldr         r0,[r0,#0x290]
  00004		 |$M4|

; 254  :     }

  00004	4770		 bx          lr

			 ENDP  ; |?GetUnattendedRefCount@PowerStateManager@@QAAKXZ|, PowerStateManager::GetUnattendedRefCount

	EXPORT	|?GetUserActivityTimer@PowerStateManager@@QAAPAU_ActivityTimer_tag@@XZ| ; PowerStateManager::GetUserActivityTimer
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?GetUserActivityTimer@PowerStateManager@@QAAPAU_ActivityTimer_tag@@XZ| PROC ; PowerStateManager::GetUserActivityTimer

; 261  : 		return m_pUserActivity;

  00000	f8d0 0258	 ldr         r0,[r0,#0x258]
  00004		 |$M4|

; 262  :     }

  00004	4770		 bx          lr

			 ENDP  ; |?GetUserActivityTimer@PowerStateManager@@QAAPAU_ActivityTimer_tag@@XZ|, PowerStateManager::GetUserActivityTimer

	EXPORT	|?EnterState@PowerState@@UAAXXZ|	; PowerState::EnterState
	EXPORT	|?Init@PowerState@@UAAHXZ|		; PowerState::Init
	EXPORT	|?WaitForEvent@PowerState@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| ; PowerState::WaitForEvent
	EXPORT	|?DefaultEventHandle@PowerState@@UAA?AW4PLATFORM_ACTIVITY_STATE@@W4PLATFORM_ACTIVITY_EVENT@@@Z| ; PowerState::DefaultEventHandle
	EXPORT	|?StateValidateRegistry@PowerState@@UAAKKK@Z| ; PowerState::StateValidateRegistry
	EXPORT	|?GetLastNewState@PowerState@@UAA?AW4PLATFORM_ACTIVITY_STATE@@XZ| ; PowerState::GetLastNewState
	EXPORT	|?SetSystemAPIState@PowerState@@UAA?AW4PLATFORM_ACTIVITY_STATE@@W42@@Z| ; PowerState::SetSystemAPIState
	EXPORT	|?AppsCanRequestState@PowerState@@UAAHXZ| ; PowerState::AppsCanRequestState
	EXPORT	|?MsgQueueEvent@PowerState@@MAA?AW4PLATFORM_ACTIVITY_EVENT@@XZ| ; PowerState::MsgQueueEvent
	EXPORT	|??_7PowerState@@6B@| [ DATA ]		; PowerState::`vftable'
	EXPORT	|??0PowerState@@QAA@PAVPowerStateManager@@PAV0@@Z| ; PowerState::PowerState
	IMPORT	|memset|
	IMPORT	|??_EPowerState@@UAAPAXI@Z|, WEAK |??_GPowerState@@UAAPAXI@Z| ; PowerState::`vector deleting destructor', PowerState::`scalar deleting destructor'
	IMPORT	|_purecall|
	IMPORT	|CreateEventW|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$??0PowerState@@QAA@PAVPowerStateManager@@PAV0@@Z| DCD imagerel |$LN12@PowerState|
	DCD	0xfd306089

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_7PowerState@@6B@| DCD |??_EPowerState@@UAAPAXI@Z|	; PowerState::`vftable'
	DCD	|?EnterState@PowerState@@UAAXXZ|
	DCD	|?Init@PowerState@@UAAHXZ|
	DCD	|?WaitForEvent@PowerState@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|
	DCD	|?DefaultEventHandle@PowerState@@UAA?AW4PLATFORM_ACTIVITY_STATE@@W4PLATFORM_ACTIVITY_EVENT@@@Z|
	DCD	|_purecall|
	DCD	|_purecall|
	DCD	|?StateValidateRegistry@PowerState@@UAAKKK@Z|
	DCD	|?GetLastNewState@PowerState@@UAA?AW4PLATFORM_ACTIVITY_STATE@@XZ|
	DCD	|?SetSystemAPIState@PowerState@@UAA?AW4PLATFORM_ACTIVITY_STATE@@W42@@Z|
	DCD	|?AppsCanRequestState@PowerState@@UAAHXZ|
	DCD	|?MsgQueueEvent@PowerState@@MAA?AW4PLATFORM_ACTIVITY_EVENT@@XZ|
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |??0PowerState@@QAA@PAVPowerStateManager@@PAV0@@Z| PROC ; PowerState::PowerState

; 99   : {

  00000		 |$LN12@PowerState|
  00000	e92d 4818	 push        {r3,r4,r11,lr}
  00004	f20d 0b08	 addw        r11,sp,#8
  00008		 |$M10|
  00008	4b0e		 ldr         r3,|$LN15@PowerState| ; =|??_7PowerState@@6B@|
  0000a	4604		 mov         r4,r0
  0000c	60a1		 str         r1,[r4,#8]
  0000e	6162		 str         r2,[r4,#0x14]

; 100  : 	memset (m_dwEventArray, 0, sizeof (m_dwEventArray));

  00010	f44f 7280	 mov         r2,#0x100
  00014	2100		 movs        r1,#0
  00016	3018		 adds        r0,r0,#0x18
  00018	6023		 str         r3,[r4]
  0001a	f000 f800	 bl          memset

; 101  : 	m_hUnsignaledHandle = CreateEvent (NULL, FALSE, FALSE, NULL);

  0001e	2300		 movs        r3,#0
  00020	2200		 movs        r2,#0
  00022	2100		 movs        r1,#0
  00024	2000		 movs        r0,#0
  00026	f000 f800	 bl          CreateEventW

; 102  : 	PREFAST_ASSERT (pPwrStateMgr != NULL);
; 103  : 
; 104  : 	m_dwNumOfEvent = PM_BASE_TOTAL_EVENT;

  0002a	2308		 movs        r3,#8
  0002c	6123		 str         r3,[r4,#0x10]
  0002e	60e0		 str         r0,[r4,#0xC]
  00030	4622		 mov         r2,r4
  00032	2108		 movs        r1,#8
  00034		 |$LL3@PowerState|

; 105  : 	for (DWORD dwIndex = 0; dwIndex < PM_BASE_TOTAL_EVENT; dwIndex++)
; 106  : 	{
; 107  : 		m_dwEventArray[dwIndex] = m_hUnsignaledHandle;

  00034	68e3		 ldr         r3,[r4,#0xC]
  00036	6193		 str         r3,[r2,#0x18]
  00038	3204		 adds        r2,#4
  0003a	3901		 subs        r1,#1
  0003c	d1fa		 bne         |$LL3@PowerState|

; 108  : 	}
; 109  : }

  0003e	4620		 mov         r0,r4
  00040		 |$M13|
  00040	e8bd 8818	 pop         {r3,r4,r11,pc}
  00044		 |$LN14@PowerState|
  00044		 |$LN15@PowerState|
  00044	0000 0000	 DCD         |??_7PowerState@@6B@|
  00048		 |$M11|

			 ENDP  ; |??0PowerState@@QAA@PAVPowerStateManager@@PAV0@@Z|, PowerState::PowerState

	EXPORT	|??1PowerState@@UAA@XZ|			; PowerState::~PowerState
	IMPORT	|CloseHandle|
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |??1PowerState@@UAA@XZ| PROC		; PowerState::~PowerState

; 112  : {

  00000	4b03		 ldr         r3,|$LN8@PowerState| ; =|??_7PowerState@@6B@|
  00002	6003		 str         r3,[r0]

; 113  : 	if (m_hUnsignaledHandle != NULL)

  00004	68c0		 ldr         r0,[r0,#0xC]
  00006	b108		 cbz         r0,|$LN1@PowerState|
  00008		 |$M5|

; 114  : 		CloseHandle (m_hUnsignaledHandle);

  00008	f000 9000	 b           CloseHandle
  0000c		 |$LN1@PowerState|
  0000c		 |$M6|

; 115  : }

  0000c	4770		 bx          lr
  0000e		 |$LN9@PowerState|
  0000e		 |$M10|
  0000e	defe		 __debugbreak
  00010		 |$LN7@PowerState|
  00010		 |$LN8@PowerState|
  00010	0000 0000	 DCD         |??_7PowerState@@6B@|

			 ENDP  ; |??1PowerState@@UAA@XZ|, PowerState::~PowerState

	IMPORT	|GetTickCount|
	IMPORT	|WaitForMultipleObjects|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?WaitForEvent@PowerState@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| DCD imagerel |$LN44@WaitForEve|
	DCD	0xfd3461d1
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?WaitForEvent@PowerState@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| PROC ; PowerState::WaitForEvent

; 267  : {

  00000		 |$LN44@WaitForEve|
  00000	e92d 49f8	 push        {r3-r8,r11,lr}
  00004	f20d 0b18	 addw        r11,sp,#0x18
  00008		 |$M42|
  00008	4605		 mov         r5,r0

; 268  : 	DWORD dwNumOfEvent = m_dwNumOfEvent;

  0000a	692c		 ldr         r4,[r5,#0x10]
  0000c	4688		 mov         r8,r1

; 269  : 
; 270  : 	if (dwNumOfExternEvent != 0 && pExternEventArray != NULL)

  0000e	b16a		 cbz         r2,|$LN18@WaitForEve|
  00010	b163		 cbz         r3,|$LN18@WaitForEve|
  00012	eb00 0084	 add         r0,r0,r4,lsl #2
  00016		 |$LL20@WaitForEve|

; 271  : 	{
; 272  : 		for (; dwNumOfExternEvent != 0 && dwNumOfEvent < MAX_EVENT_ARRAY; dwNumOfEvent++)

  00016	2c40		 cmp         r4,#0x40
  00018	d208		 bcs         |$LN18@WaitForEve|

; 273  : 			if (*pExternEventArray != NULL)

  0001a	f853 6b04	 ldr         r6,[r3],#4
  0001e	b316		 cbz         r6,|$LN17@WaitForEve|

; 274  : 			{
; 275  : 				m_dwEventArray[dwNumOfEvent] = *pExternEventArray;

  00020	6186		 str         r6,[r0,#0x18]

; 276  : 				pExternEventArray++;
; 277  : 				dwNumOfExternEvent--;

  00022	3a01		 subs        r2,#1
  00024	3004		 adds        r0,#4
  00026	3401		 adds        r4,#1
  00028	2a00		 cmp         r2,#0
  0002a	d1f4		 bne         |$LL20@WaitForEve|
  0002c		 |$LN18@WaitForEve|

; 283  : 			}
; 284  : 	}
; 285  : 	DWORD dwTicksElapsed = GetTickCount ();

  0002c	f000 f800	 bl          GetTickCount
  00030	4607		 mov         r7,r0

; 286  : 	DWORD dwReturn =
; 287  : 		WaitForMultipleObjects (min (dwNumOfEvent, MAX_EVENT_ARRAY), m_dwEventArray, FALSE,
; 288  : 								dwTimeouts);

  00032	2c40		 cmp         r4,#0x40
  00034	d300		 bcc         |$LN25@WaitForEve|
  00036	2440		 movs        r4,#0x40
  00038		 |$LN25@WaitForEve|
  00038	f115 0118	 adds        r1,r5,#0x18
  0003c	4643		 mov         r3,r8
  0003e	2200		 movs        r2,#0
  00040	4620		 mov         r0,r4
  00042	f000 f800	 bl          WaitForMultipleObjects
  00046	4606		 mov         r6,r0

; 289  : 	dwTicksElapsed = GetTickCount () - dwTicksElapsed;

  00048	f000 f800	 bl          GetTickCount

; 290  : 
; 291  :     // We don't need update time because SetSystemPowerState was called:
; 292  : 	if ((dwReturn - WAIT_OBJECT_0) != PM_SYSTEM_API_EVENT)	

  0004c	2e06		 cmp         r6,#6
  0004e	d005		 beq         |$LN15@WaitForEve|

; 293  : 		m_pPwrStateMgr->SubtractTimeout (dwTicksElapsed);

  00050	68ab		 ldr         r3,[r5,#8]
  00052	1bc1		 subs        r1,r0,r7
  00054	4618		 mov         r0,r3
  00056	681b		 ldr         r3,[r3]
  00058	699b		 ldr         r3,[r3,#0x18]
  0005a	4798		 blx         r3
  0005c		 |$LN15@WaitForEve|

; 294  : 
; 295  : 	if (dwReturn == WAIT_TIMEOUT)

  0005c	f5b6 7f81	 cmp         r6,#0x102
  00060	d103		 bne         |$LN14@WaitForEve|

; 296  : 		return Timeout;

  00062	2407		 movs        r4,#7
  00064	e03d		 b           |$LN9@WaitForEve|
  00066		 |$LN17@WaitForEve|

; 278  : 			}
; 279  : 			else
; 280  : 			{
; 281  : 				ASSERT (FALSE);
; 282  : 				return NoActivity;

  00066	2400		 movs        r4,#0
  00068	e03b		 b           |$LN9@WaitForEve|
  0006a		 |$LN14@WaitForEve|

; 297  : 	else if (dwReturn >= WAIT_OBJECT_0 + m_dwNumOfEvent)

  0006a	692b		 ldr         r3,[r5,#0x10]
  0006c	429e		 cmp         r6,r3
  0006e	d303		 bcc         |$LN12@WaitForEve|

; 298  : 	{   // Externed Event:
; 299  : 		return (PLATFORM_ACTIVITY_EVENT) (ExternedEvent + dwReturn - (WAIT_OBJECT_0 + m_dwNumOfEvent));

  00070	1af2		 subs        r2,r6,r3
  00072	f502 5480	 add         r4,r2,#0x1000
  00076	e034		 b           |$LN9@WaitForEve|
  00078		 |$LN12@WaitForEve|

; 300  : 	}
; 301  : 	else
; 302  : 	{
; 303  : 		PLATFORM_ACTIVITY_EVENT platEvent = NoActivity;

  00078	2400		 movs        r4,#0

; 304  : 
; 305  : 		switch (dwReturn - WAIT_OBJECT_0)

  0007a	2e07		 cmp         r6,#7
  0007c	d831		 bhi         |$LN9@WaitForEve|
  0007e	e8df f006	 tbb         [pc,r6]
  00082		 |$LN33@WaitForEve|
  00082		 |$LN32@WaitForEve|
  00082		 |$LN34@WaitForEve|
  00082	04		 DCB         0x4
  00083		 |$LN35@WaitForEve|
  00083	06		 DCB         0x6
  00084		 |$LN36@WaitForEve|
  00084	08		 DCB         0x8
  00085		 |$LN37@WaitForEve|
  00085	0e		 DCB         0xe
  00086		 |$LN38@WaitForEve|
  00086	10		 DCB         0x10
  00087		 |$LN39@WaitForEve|
  00087	18		 DCB         0x18
  00088		 |$LN40@WaitForEve|
  00088	26		 DCB         0x26
  00089		 |$LN41@WaitForEve|
  00089	28		 DCB         0x28
  0008a		 |$LN8@WaitForEve|

; 306  : 		{
; 307  : 		  case PM_SHUTDOWN_EVENT:
; 308  : 			  platEvent = PmShutDown;

  0008a	240d		 movs        r4,#0xD

; 309  : 			  break;

  0008c	e029		 b           |$LN9@WaitForEve|
  0008e		 |$LN7@WaitForEve|

; 310  : 		  case PM_RELOAD_ACTIVITY_TIMEOUTS_EVENT:
; 311  : 			  platEvent = PmReloadActivityTimeouts;

  0008e	240e		 movs        r4,#0xE

; 312  : 			  break;

  00090	e027		 b           |$LN9@WaitForEve|
  00092		 |$LN6@WaitForEve|

; 313  : 		  case PM_MSGQUEUE_EVENT:
; 314  : 			  platEvent = MsgQueueEvent ();

  00092	682b		 ldr         r3,[r5]
  00094	4628		 mov         r0,r5
  00096	6adb		 ldr         r3,[r3,#0x2C]
  00098	4798		 blx         r3
  0009a	4604		 mov         r4,r0

; 315  : 			  break;

  0009c	e021		 b           |$LN9@WaitForEve|
  0009e		 |$LN5@WaitForEve|

; 316  : 		  case PM_RESTART_TIMER_EVENT:
; 317  : 			  platEvent = RestartTimeouts;

  0009e	2408		 movs        r4,#8

; 318  : 			  break;

  000a0	e01f		 b           |$LN9@WaitForEve|
  000a2		 |$LN4@WaitForEve|

; 319  : 		  case PM_SYSTEM_TIMEIDLE_RESET:
; 320  : 			  m_pPwrStateMgr->ResetSystemIdleTimeTimeout (TRUE);

  000a2	68ab		 ldr         r3,[r5,#8]
  000a4	2101		 movs        r1,#1
  000a6	4618		 mov         r0,r3
  000a8	681b		 ldr         r3,[r3]
  000aa	695b		 ldr         r3,[r3,#0x14]
  000ac	4798		 blx         r3

; 321  : 			  platEvent = SystemActivity;

  000ae	2403		 movs        r4,#3

; 322  : 			  break;

  000b0	e017		 b           |$LN9@WaitForEve|
  000b2		 |$LN3@WaitForEve|

; 323  : 		  case PM_USER_ACTIVITY_EVENT:
; 324  : 			  m_pPwrStateMgr->ResetUserIdleTimeout (TRUE);

  000b2	68ab		 ldr         r3,[r5,#8]
  000b4	2101		 movs        r1,#1
  000b6	4618		 mov         r0,r3
  000b8	681b		 ldr         r3,[r3]
  000ba	691b		 ldr         r3,[r3,#0x10]
  000bc	4798		 blx         r3

; 325  : 			  m_pPwrStateMgr->ResetSystemIdleTimeTimeout (TRUE);

  000be	68ab		 ldr         r3,[r5,#8]
  000c0	2101		 movs        r1,#1
  000c2	4618		 mov         r0,r3
  000c4	681b		 ldr         r3,[r3]
  000c6	695b		 ldr         r3,[r3,#0x14]
  000c8	4798		 blx         r3

; 326  : 			  platEvent = UserActivity;

  000ca	2401		 movs        r4,#1

; 327  :               RETAILMSG(0,(L"USER_ACTIVITY_EVENT triggered!")); //Gard
; 328  : 			  break;

  000cc	e009		 b           |$LN9@WaitForEve|
  000ce		 |$LN2@WaitForEve|

; 329  : 		  case PM_SYSTEM_API_EVENT:
; 330  : 			  platEvent = SystemPowerStateAPI;

  000ce	240c		 movs        r4,#0xC

; 331  : 			  break;

  000d0	e007		 b           |$LN9@WaitForEve|
  000d2		 |$LN1@WaitForEve|

; 332  : 		  case PM_BOOTPHASE2_EVENT:	// This event only signal once.
; 333  : 			  platEvent = BootPhaseChanged;
; 334  : 			  m_dwEventArray[PM_BOOTPHASE2_EVENT] = m_hUnsignaledHandle;

  000d2	68eb		 ldr         r3,[r5,#0xC]
  000d4	2411		 movs        r4,#0x11
  000d6	636b		 str         r3,[r5,#0x34]

; 335  : 			  m_pPwrStateMgr->DisablePhase2Event ();

  000d8	68ab		 ldr         r3,[r5,#8]
  000da	4618		 mov         r0,r3
  000dc	681b		 ldr         r3,[r3]
  000de	6a1b		 ldr         r3,[r3,#0x20]
  000e0	4798		 blx         r3
  000e2		 |$LN9@WaitForEve|

; 336  : 			  break;
; 337  : 		}
; 338  : 		return platEvent;
; 339  : 	}
; 340  : }

  000e2	4620		 mov         r0,r4
  000e4		 |$M45|
  000e4	e8bd 89f8	 pop         {r3-r8,r11,pc}
  000e8		 |$M43|

			 ENDP  ; |?WaitForEvent@PowerState@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|, PowerState::WaitForEvent

; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?DefaultEventHandle@PowerState@@UAA?AW4PLATFORM_ACTIVITY_STATE@@W4PLATFORM_ACTIVITY_EVENT@@@Z| PROC ; PowerState::DefaultEventHandle

; 344  : {

  00000	4603		 mov         r3,r0

; 345  : 	switch (platActivityEvent)

  00002	2910		 cmp         r1,#0x10
  00004	d101		 bne         |$LN3@DefaultEve|

; 346  : 	{
; 347  : 	  case AppButtonPressed:
; 348  : 		  m_LastNewState = On;

  00006	2200		 movs        r2,#0
  00008	605a		 str         r2,[r3,#4]
  0000a		 |$LN3@DefaultEve|

; 349  : 		  break;
; 350  : 	  default:
; 351  : 		  break;
; 352  : 	}
; 353  : 	return GetLastNewState ();

  0000a	4618		 mov         r0,r3
  0000c	681b		 ldr         r3,[r3]
  0000e	6a1b		 ldr         r3,[r3,#0x20]
  00010		 |$M8|
  00010	4718		 bx          r3

			 ENDP  ; |?DefaultEventHandle@PowerState@@UAA?AW4PLATFORM_ACTIVITY_STATE@@W4PLATFORM_ACTIVITY_EVENT@@@Z|, PowerState::DefaultEventHandle

	EXPORT	|?EnterState@PowerStateOff@@UAAXXZ|	; PowerStateOff::EnterState
	IMPORT	|PmSetSystemPowerState_I|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?EnterState@PowerStateOff@@UAAXXZ| DCD imagerel |$LN6@EnterState|
	DCD	0x3f6039
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?EnterState@PowerStateOff@@UAAXXZ| PROC ; PowerStateOff::EnterState

; 427  : {

  00000		 |$LN6@EnterState|
  00000	e92d 4800	 push        {r11,lr}
  00004	46eb		 mov         r11,sp
  00006		 |$M4|
  00006	4603		 mov         r3,r0

; 428  :     PmSetSystemPowerState_I (GetStateString (), 0, 0, TRUE);

  00008	681b		 ldr         r3,[r3]
  0000a	699b		 ldr         r3,[r3,#0x18]
  0000c	4798		 blx         r3
  0000e	2301		 movs        r3,#1
  00010	2200		 movs        r2,#0
  00012	2100		 movs        r1,#0
  00014	f000 f800	 bl          PmSetSystemPowerState_I
  00018		 |$M7|

; 429  : }

  00018	e8bd 8800	 pop         {r11,pc}
  0001c		 |$M5|

			 ENDP  ; |?EnterState@PowerStateOff@@UAAXXZ|, PowerStateOff::EnterState

	EXPORT	|?WaitForEvent@PowerStateOff@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| ; PowerStateOff::WaitForEvent
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?WaitForEvent@PowerStateOff@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| PROC ; PowerStateOff::WaitForEvent

; 434  :  return NoActivity;

  00000	2000		 movs        r0,#0
  00002		 |$M4|

; 435  : }

  00002	4770		 bx          lr

			 ENDP  ; |?WaitForEvent@PowerStateOff@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|, PowerStateOff::WaitForEvent

	EXPORT	|??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EG@OBINEGAB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAo?$AAp?$AAe?$AAn?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?0?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAi?$AAs?$AA?5?$AA?$CF?$AAd@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EE@MCNALCAK@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAS?$AAt?$AAa?$AAt?$AAe?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BC@MACJFIKI@?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?2?$AA?$CF?$AAs?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1M@OAJFFPML@?$AAF?$AAl?$AAa?$AAg?$AAs?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1HG@LEOLOBOG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AA?$CF?$AAd?$AA?5?$AAw?$AAh?$AAi?$AAl?$AAe?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAo?$AAr?$AA?5?$AAw@| [ DATA ] ; `string'
	IMPORT	|RegCreateKeyExW|
	IMPORT	|dpCurSettings|
	IMPORT	|StringCchPrintfW|
	IMPORT	|RegSetValueExW|
	IMPORT	|RegCloseKey|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?StateValidateRegistry@PowerState@@UAAKKK@Z| DCD imagerel |$LN18@StateValid|
	DCD	imagerel |$unwind2$?StateValidateRegistry@PowerState@@UAAKKK@Z|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$?StateValidateRegistry@PowerState@@UAAKKK@Z| DCD 0x44300085
	DCD	0x1e88ce8
	DCD	0xfff0a9fc
	DCD	0xf0a901e8
	DCD	0xff
	DCD	imagerel |__GSHandlerCheck|
	DCD	0xffffffe1

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HG@LEOLOBOG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AA?$CF?$AAd?$AA?5?$AAw?$AAh?$AAi?$AAl?$AAe?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAo?$AAr?$AA?5?$AAw@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "r", 0x0, "r"
	DCB	0x0, "o", 0x0, "r", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, " "
	DCB	0x0, "w", 0x0, "h", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, " "
	DCB	0x0, "c", 0x0, "r", 0x0, "e", 0x0, "a", 0x0, "t", 0x0, "i"
	DCB	0x0, "n", 0x0, "g", 0x0, " ", 0x0, "o", 0x0, "r", 0x0, " "
	DCB	0x0, "w", 0x0, "r", 0x0, "i", 0x0, "t", 0x0, "i", 0x0, "n"
	DCB	0x0, "g", 0x0, " ", 0x0, "v", 0x0, "a", 0x0, "l", 0x0, "u"
	DCB	0x0, "e", 0x0, "s", 0x0, " ", 0x0, "i", 0x0, "n", 0x0, " "
	DCB	0x0, "'", 0x0, "%", 0x0, "s", 0x0, "\\", 0x0, "%", 0x0, "s"
	DCB	0x0, "'", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1M@OAJFFPML@?$AAF?$AAl?$AAa?$AAg?$AAs?$AA?$AA@| DCB "F", 0x0, "l", 0x0
	DCB	"a", 0x0, "g", 0x0, "s", 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BC@MACJFIKI@?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?2?$AA?$CF?$AAs?$AA?$AA@| DCB "S"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "\\", 0x0, "%"
	DCB	0x0, "s", 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EE@MCNALCAK@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAS?$AAt?$AAa?$AAt?$AAe?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr@| DCB "P"
	DCB	0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "S", 0x0, "t"
	DCB	0x0, "a", 0x0, "t", 0x0, "e", 0x0, ":", 0x0, ":", 0x0, "S"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "V", 0x0, "a"
	DCB	0x0, "l", 0x0, "i", 0x0, "d", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, "R", 0x0, "e", 0x0, "g", 0x0, "i", 0x0, "s", 0x0, "t"
	DCB	0x0, "r", 0x0, "y", 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EG@OBINEGAB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAo?$AAp?$AAe?$AAn?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?0?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAi?$AAs?$AA?5?$AA?$CF?$AAd@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "c", 0x0, "a", 0x0, "n"
	DCB	0x0, "'", 0x0, "t", 0x0, " ", 0x0, "o", 0x0, "p", 0x0, "e"
	DCB	0x0, "n", 0x0, " ", 0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'"
	DCB	0x0, ",", 0x0, " ", 0x0, "e", 0x0, "r", 0x0, "r", 0x0, "o"
	DCB	0x0, "r", 0x0, " ", 0x0, "i", 0x0, "s", 0x0, " ", 0x0, "%"
	DCB	0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@| DCB "S"
	DCB	0x0, "Y", 0x0, "S", 0x0, "T", 0x0, "E", 0x0, "M", 0x0, "\\"
	DCB	0x0, "C", 0x0, "u", 0x0, "r", 0x0, "r", 0x0, "e", 0x0, "n"
	DCB	0x0, "t", 0x0, "C", 0x0, "o", 0x0, "n", 0x0, "t", 0x0, "r"
	DCB	0x0, "o", 0x0, "l", 0x0, "S", 0x0, "e", 0x0, "t", 0x0, "\\"
	DCB	0x0, "C", 0x0, "o", 0x0, "n", 0x0, "t", 0x0, "r", 0x0, "o"
	DCB	0x0, "l", 0x0, "\\", 0x0, "P", 0x0, "o", 0x0, "w", 0x0, "e"
	DCB	0x0, "r", 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?StateValidateRegistry@PowerState@@UAAKKK@Z| PROC ; PowerState::StateValidateRegistry

; 369  : {

  00000		 |$LN18@StateValid|
  00000	e92d 49f0	 push        {r4-r8,r11,lr}
  00004	f20d 0b14	 addw        r11,sp,#0x14
  00008	f000 f800	 bl          __security_push_cookie
  0000c	f2ad 2d30	 subw        sp,sp,#0x230
  00010		 |$M16|

; 370  : 	HKEY hkPM = NULL, hkSubkey;

  00010	2300		 movs        r3,#0
  00012	9306		 str         r3,[sp,#0x18]

; 371  : 	TCHAR pszSubKey[MAX_PATH];
; 372  : 	DWORD dwDisposition;
; 373  : 
; 374  : 	SETFNAME (_T ("PowerState::StateValidateRegistry"));
; 375  : 
; 376  : 	// Open the Power Manager registry key:
; 377  : 	DWORD dwStatus =
; 378  : 		RegCreateKeyEx (HKEY_LOCAL_MACHINE, PWRMGR_REG_KEY, 0, NULL, 0, 0, NULL, &hkPM, &dwDisposition);

  00014	ab09		 add         r3,sp,#0x24
  00016	9304		 str         r3,[sp,#0x10]
  00018	ab06		 add         r3,sp,#0x18
  0001a	9303		 str         r3,[sp,#0xC]
  0001c	2301		 movs        r3,#1
  0001e	460e		 mov         r6,r1
  00020	493a		 ldr         r1,|$LN21@StateValid| ; =|??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@|
  00022	07dc		 lsls        r4,r3,#0x1F
  00024	4615		 mov         r5,r2
  00026	4607		 mov         r7,r0
  00028	f04f 0800	 mov         r8,#0
  0002c	1ca0		 adds        r0,r4,#2
  0002e	2300		 movs        r3,#0
  00030	2200		 movs        r2,#0
  00032	f8cd 8008	 str         r8,[sp,#8]
  00036	f8cd 8004	 str         r8,[sp,#4]
  0003a	f8cd 8000	 str         r8,[sp]
  0003e	f000 f800	 bl          RegCreateKeyExW
  00042	4604		 mov         r4,r0

; 379  : 
; 380  : 	if (dwStatus != ERROR_SUCCESS)

  00044	b164		 cbz         r4,|$LN14@StateValid|

; 381  : 	{
; 382  : 		PMLOGMSG (ZONE_ERROR,
; 383  : 				  (_T ("%s: can't open '%s', error is %d\r\n"), pszFname, PWRMGR_REG_KEY, dwStatus));

  00046	4b34		 ldr         r3,|$LN24@StateValid| ; =|dpCurSettings|
  00048	f8d3 3440	 ldr         r3,[r3,#0x440]
  0004c	f013 0f01	 tst         r3,#1
  00050	d050		 beq         |$LN11@StateValid|
  00052	4930		 ldr         r1,|$LN23@StateValid| ; =|??_C@_1EE@MCNALCAK@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAS?$AAt?$AAa?$AAt?$AAe?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr@|
  00054	4833		 ldr         r0,|$LN27@StateValid| ; =|??_C@_1EG@OBINEGAB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAo?$AAp?$AAe?$AAn?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?0?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAi?$AAs?$AA?5?$AA?$CF?$AAd@|
  00056	4a2d		 ldr         r2,|$LN21@StateValid| ; =|??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@|
  00058	4623		 mov         r3,r4
  0005a	f000 f800	 bl          CeLogMsg

; 384  : 	}
; 385  : 
; 386  : 	// Verify the system state:
; 387  : 	if (dwStatus == ERROR_SUCCESS)

  0005e	e049		 b           |$LN11@StateValid|
  00060		 |$LN14@StateValid|

; 388  : 	{
; 389  : 		StringCchPrintf (pszSubKey, MAX_PATH, _T ("State\\%s"), GetStateString ());

  00060	683b		 ldr         r3,[r7]
  00062	4638		 mov         r0,r7
  00064	699b		 ldr         r3,[r3,#0x18]
  00066	4798		 blx         r3
  00068	4a2d		 ldr         r2,|$LN26@StateValid| ; =|??_C@_1BC@MACJFIKI@?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?2?$AA?$CF?$AAs?$AA?$AA@|
  0006a	4603		 mov         r3,r0
  0006c	a80a		 add         r0,sp,#0x28
  0006e	f44f 7182	 mov         r1,#0x104
  00072	f000 f800	 bl          StringCchPrintfW

; 390  : 		dwStatus = RegCreateKeyEx (hkPM, pszSubKey, 0, NULL, 0, 0, NULL, &hkSubkey, &dwDisposition);

  00076	ab09		 add         r3,sp,#0x24
  00078	9304		 str         r3,[sp,#0x10]
  0007a	9806		 ldr         r0,[sp,#0x18]
  0007c	ab08		 add         r3,sp,#0x20
  0007e	9303		 str         r3,[sp,#0xC]
  00080	2300		 movs        r3,#0
  00082	a90a		 add         r1,sp,#0x28
  00084	2200		 movs        r2,#0
  00086	f8cd 8008	 str         r8,[sp,#8]
  0008a	f8cd 8004	 str         r8,[sp,#4]
  0008e	f8cd 8000	 str         r8,[sp]
  00092	f000 f800	 bl          RegCreateKeyExW
  00096	4604		 mov         r4,r0

; 391  : 		if (dwStatus == ERROR_SUCCESS)

  00098	b9f4		 cbnz        r4,|$LN13@StateValid|

; 392  : 		{
; 393  : 			if (dwDisposition == REG_CREATED_NEW_KEY)

  0009a	9b09		 ldr         r3,[sp,#0x24]
  0009c	2b01		 cmp         r3,#1
  0009e	d117		 bne         |$LN2@StateValid|

; 394  : 			{
; 395  : 				// Allow devices to go to any passed-in power level:
; 396  : 				DWORD dwValue = dwDState;	// D State
; 397  : 				dwStatus = RegSetValueEx (hkSubkey, NULL, 0, REG_DWORD, (LPBYTE) & dwValue, sizeof (dwValue));

  000a0	9808		 ldr         r0,[sp,#0x20]
  000a2	ab07		 add         r3,sp,#0x1C
  000a4	9607		 str         r6,[sp,#0x1C]
  000a6	9300		 str         r3,[sp]
  000a8	2604		 movs        r6,#4
  000aa	2304		 movs        r3,#4
  000ac	2200		 movs        r2,#0
  000ae	2100		 movs        r1,#0
  000b0	9601		 str         r6,[sp,#4]
  000b2	f000 f800	 bl          RegSetValueExW
  000b6	4604		 mov         r4,r0

; 398  : 
; 399  : 				// Write the passed flags value:
; 400  : 				if (dwStatus == ERROR_SUCCESS)

  000b8	b954		 cbnz        r4,|$LN2@StateValid|

; 401  : 				{
; 402  : 					dwValue = dwFlag;
; 403  : 					dwStatus = RegSetValueEx (hkSubkey, _T ("Flags"), 0, REG_DWORD, (LPBYTE) & dwValue, sizeof (dwValue));

  000ba	ab07		 add         r3,sp,#0x1C
  000bc	4917		 ldr         r1,|$LN25@StateValid| ; =|??_C@_1M@OAJFFPML@?$AAF?$AAl?$AAa?$AAg?$AAs?$AA?$AA@|
  000be	9808		 ldr         r0,[sp,#0x20]
  000c0	9300		 str         r3,[sp]
  000c2	2304		 movs        r3,#4
  000c4	2200		 movs        r2,#0
  000c6	9507		 str         r5,[sp,#0x1C]
  000c8	9601		 str         r6,[sp,#4]
  000ca	f000 f800	 bl          RegSetValueExW
  000ce	4604		 mov         r4,r0
  000d0		 |$LN2@StateValid|

; 404  : 				}
; 405  : 			}
; 406  : 			RegCloseKey (hkSubkey);

  000d0	9808		 ldr         r0,[sp,#0x20]
  000d2	f000 f800	 bl          RegCloseKey

; 407  : 		}
; 408  : 		PMLOGMSG (dwStatus != ERROR_SUCCESS && ZONE_ERROR,
; 409  : 				  (_T ("%s: error %d while creating or writing values in '%s\\%s'\r\n"), pszFname,
; 410  : 				   dwStatus, PWRMGR_REG_KEY, pszSubKey));

  000d6	b16c		 cbz         r4,|$LN11@StateValid|
  000d8		 |$LN13@StateValid|
  000d8	4b0f		 ldr         r3,|$LN24@StateValid| ; =|dpCurSettings|
  000da	f8d3 3440	 ldr         r3,[r3,#0x440]
  000de	f013 0f01	 tst         r3,#1
  000e2	d007		 beq         |$LN11@StateValid|
  000e4	ab0a		 add         r3,sp,#0x28
  000e6	490b		 ldr         r1,|$LN23@StateValid| ; =|??_C@_1EE@MCNALCAK@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAS?$AAt?$AAa?$AAt?$AAe?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr@|
  000e8	4809		 ldr         r0,|$LN22@StateValid| ; =|??_C@_1HG@LEOLOBOG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AA?$CF?$AAd?$AA?5?$AAw?$AAh?$AAi?$AAl?$AAe?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAo?$AAr?$AA?5?$AAw@|
  000ea	9300		 str         r3,[sp]
  000ec	4b07		 ldr         r3,|$LN21@StateValid| ; =|??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@|
  000ee	4622		 mov         r2,r4
  000f0	f000 f800	 bl          CeLogMsg
  000f4		 |$LN11@StateValid|

; 411  : 	}
; 412  : 
; 413  : 	// Release resources:
; 414  : 	if (hkPM != NULL)

  000f4	9806		 ldr         r0,[sp,#0x18]
  000f6	b108		 cbz         r0,|$LN1@StateValid|

; 415  : 		RegCloseKey (hkPM);

  000f8	f000 f800	 bl          RegCloseKey
  000fc		 |$LN1@StateValid|

; 416  : 	return dwStatus;
; 417  : }

  000fc	4620		 mov         r0,r4
  000fe		 |$M19|
  000fe	f20d 2d30	 addw        sp,sp,#0x230
  00102	f000 f800	 bl          __security_pop_cookie
  00106	e8bd 89f0	 pop         {r4-r8,r11,pc}
  0010a		 |$LN28@StateValid|
  0010a		 |$M29|
  0010a	defe		 __debugbreak
  0010c		 |$LN20@StateValid|
  0010c		 |$LN21@StateValid|
  0010c	0000 0000	 DCD         |??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@|
  00110		 |$LN22@StateValid|
  00110	0000 0000	 DCD         |??_C@_1HG@LEOLOBOG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AA?$CF?$AAd?$AA?5?$AAw?$AAh?$AAi?$AAl?$AAe?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAo?$AAr?$AA?5?$AAw@|
  00114		 |$LN23@StateValid|
  00114	0000 0000	 DCD         |??_C@_1EE@MCNALCAK@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAS?$AAt?$AAa?$AAt?$AAe?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr@|
  00118		 |$LN24@StateValid|
  00118	0000 0000	 DCD         |dpCurSettings|
  0011c		 |$LN25@StateValid|
  0011c	0000 0000	 DCD         |??_C@_1M@OAJFFPML@?$AAF?$AAl?$AAa?$AAg?$AAs?$AA?$AA@|
  00120		 |$LN26@StateValid|
  00120	0000 0000	 DCD         |??_C@_1BC@MACJFIKI@?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?2?$AA?$CF?$AAs?$AA?$AA@|
  00124		 |$LN27@StateValid|
  00124	0000 0000	 DCD         |??_C@_1EG@OBINEGAB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAo?$AAp?$AAe?$AAn?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?0?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAi?$AAs?$AA?5?$AA?$CF?$AAd@|
  00128		 |$M17|

			 ENDP  ; |?StateValidateRegistry@PowerState@@UAAKKK@Z|, PowerState::StateValidateRegistry

	EXPORT	|??_C@_1HG@ODJDBDPK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAg?$AAo?$AAt?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA4?$AAx?$AA?5?$AA?$CI?$AAd?$AAa?$AAt?$AAa?$AA?5?$AA0?$AAx?$AA?$CF@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DE@KJOOCALJ@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1HC@KLHCDFII@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAu?$AAn?$AAh?$AAa?$AAn?$AAd?$AAl?$AAe?$AAd?$AA?5?$AAp?$AAo?$AAl?$AAi?$AAc?$AAy?$AA?5?$AAn?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EE@BFDOIAHA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AA?5?$AAA?$AAc?$AAt?$AAi?$AAv?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?5?$AA?$DN?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN@| [ DATA ] ; `string'
	IMPORT	|PmPolicyReadNotificationQueue|
	IMPORT	|PmUpdatePowerStatus|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?MsgQueueEvent@PowerState@@MAA?AW4PLATFORM_ACTIVITY_EVENT@@XZ| DCD imagerel |$LN24@MsgQueueEv|
	DCD	0x1b10129

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EE@BFDOIAHA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AA?5?$AAA?$AAc?$AAt?$AAi?$AAv?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?5?$AA?$DN?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "r", 0x0, "e", 0x0, "t"
	DCB	0x0, "u", 0x0, "r", 0x0, "n", 0x0, " ", 0x0, "A", 0x0, "c"
	DCB	0x0, "t", 0x0, "i", 0x0, "v", 0x0, "e", 0x0, "E", 0x0, "v"
	DCB	0x0, "e", 0x0, "n", 0x0, "t", 0x0, " ", 0x0, "=", 0x0, " "
	DCB	0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HC@KLHCDFII@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAu?$AAn?$AAh?$AAa?$AAn?$AAd?$AAl?$AAe?$AAd?$AA?5?$AAp?$AAo?$AAl?$AAi?$AAc?$AAy?$AA?5?$AAn?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "u", 0x0, "n", 0x0, "h"
	DCB	0x0, "a", 0x0, "n", 0x0, "d", 0x0, "l", 0x0, "e", 0x0, "d"
	DCB	0x0, " ", 0x0, "p", 0x0, "o", 0x0, "l", 0x0, "i", 0x0, "c"
	DCB	0x0, "y", 0x0, " ", 0x0, "n", 0x0, "o", 0x0, "t", 0x0, "i"
	DCB	0x0, "f", 0x0, "i", 0x0, "c", 0x0, "a", 0x0, "t", 0x0, "i"
	DCB	0x0, "o", 0x0, "n", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "4", 0x0, "x", 0x0, " ", 0x0, "(", 0x0, "d"
	DCB	0x0, "a", 0x0, "t", 0x0, "a", 0x0, " ", 0x0, "0", 0x0, "x"
	DCB	0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, ")", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DE@KJOOCALJ@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?$AA@| DCB "P"
	DCB	0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "S", 0x0, "t"
	DCB	0x0, "a", 0x0, "t", 0x0, "e", 0x0, ":", 0x0, ":", 0x0, "M"
	DCB	0x0, "s", 0x0, "g", 0x0, "Q", 0x0, "u", 0x0, "e", 0x0, "u"
	DCB	0x0, "e", 0x0, "E", 0x0, "v", 0x0, "e", 0x0, "n", 0x0, "t"
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HG@ODJDBDPK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAg?$AAo?$AAt?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA4?$AAx?$AA?5?$AA?$CI?$AAd?$AAa?$AAt?$AAa?$AA?5?$AA0?$AAx?$AA?$CF@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "g", 0x0, "o", 0x0, "t"
	DCB	0x0, " ", 0x0, "r", 0x0, "e", 0x0, "q", 0x0, "u", 0x0, "e"
	DCB	0x0, "s", 0x0, "t", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "4", 0x0, "x", 0x0, " ", 0x0, "(", 0x0, "d"
	DCB	0x0, "a", 0x0, "t", 0x0, "a", 0x0, " ", 0x0, "0", 0x0, "x"
	DCB	0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, ")", 0x0, " "
	DCB	0x0, "f", 0x0, "r", 0x0, "o", 0x0, "m", 0x0, " ", 0x0, "p"
	DCB	0x0, "r", 0x0, "o", 0x0, "c", 0x0, "e", 0x0, "s", 0x0, "s"
	DCB	0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8"
	DCB	0x0, "x", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?MsgQueueEvent@PowerState@@MAA?AW4PLATFORM_ACTIVITY_EVENT@@XZ| PROC ; PowerState::MsgQueueEvent

; 166  : {

  00000		 |$LN24@MsgQueueEv|
  00000	e92d 4830	 push        {r4,r5,r11,lr}
  00004	f20d 0b08	 addw        r11,sp,#8
  00008	b086		 sub         sp,sp,#0x18
  0000a		 |$M22|

; 167  : 	SETFNAME (_T ("PowerState::MsgQueueEvent"));
; 168  : 	PLATFORM_ACTIVITY_EVENT activeEvent = NoActivity;
; 169  : 	POWERPOLICYMESSAGE ppm;
; 170  : 	DWORD dwStatus =
; 171  : 		PmPolicyReadNotificationQueue (m_dwEventArray[PM_MSGQUEUE_EVENT], &ppm, sizeof (ppm));

  0000a	6a00		 ldr         r0,[r0,#0x20]
  0000c	a902		 add         r1,sp,#8
  0000e	220c		 movs        r2,#0xC
  00010	2400		 movs        r4,#0
  00012	f000 f800	 bl          PmPolicyReadNotificationQueue

; 172  : 
; 173  : 	if (dwStatus == ERROR_SUCCESS)

  00016	4d23		 ldr         r5,|$LN31@MsgQueueEv| ; =|dpCurSettings|
  00018	bb70		 cbnz        r0,|$LN20@MsgQueueEv|

; 174  : 	{
; 175  : 		PMLOGMSG (ZONE_PLATFORM,
; 176  : 				  (_T ("%s: got request 0x%04x (data 0x%08x) from process 0x%08x\r\n"), pszFname,
; 177  : 				   ppm.dwMessage, ppm.dwData, ppm.hOwnerProcess));

  0001a	f8d5 3440	 ldr         r3,[r5,#0x440]
  0001e	f413 6f80	 tst         r3,#0x400
  00022	d007		 beq         |$LN14@MsgQueueEv|
  00024	9b04		 ldr         r3,[sp,#0x10]
  00026	481e		 ldr         r0,|$LN30@MsgQueueEv| ; =|??_C@_1HG@ODJDBDPK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAg?$AAo?$AAt?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA4?$AAx?$AA?5?$AA?$CI?$AAd?$AAa?$AAt?$AAa?$AA?5?$AA0?$AAx?$AA?$CF@|
  00028	9a02		 ldr         r2,[sp,#8]
  0002a	491a		 ldr         r1,|$LN27@MsgQueueEv| ; =|??_C@_1DE@KJOOCALJ@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?$AA@|
  0002c	9300		 str         r3,[sp]
  0002e	9b03		 ldr         r3,[sp,#0xC]
  00030	f000 f800	 bl          CeLogMsg
  00034		 |$LN14@MsgQueueEv|

; 178  : 		switch (ppm.dwMessage)

  00034	9a02		 ldr         r2,[sp,#8]
  00036	2a02		 cmp         r2,#2
  00038	d01a		 beq         |$LN8@MsgQueueEv|
  0003a	2a03		 cmp         r2,#3
  0003c	d012		 beq         |$LN4@MsgQueueEv|
  0003e	2a04		 cmp         r2,#4
  00040	d00e		 beq         |$LN6@MsgQueueEv|
  00042	2a06		 cmp         r2,#6
  00044	d00a		 beq         |$LN5@MsgQueueEv|

; 203  : 		  default:
; 204  : 			  // Unhandled notification type, so ignore it:
; 205  : 			  PMLOGMSG (ZONE_WARN,
; 206  : 						(_T ("%s: unhandled policy notification 0x%04x (data 0x%08x)\r\n"),
; 207  : 						 pszFname, ppm.dwMessage, ppm.dwData));

  00046	f8d5 3440	 ldr         r3,[r5,#0x440]
  0004a	f013 0f02	 tst         r3,#2
  0004e	d013		 beq         |$LN20@MsgQueueEv|
  00050	4812		 ldr         r0,|$LN29@MsgQueueEv| ; =|??_C@_1HC@KLHCDFII@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAu?$AAn?$AAh?$AAa?$AAn?$AAd?$AAl?$AAe?$AAd?$AA?5?$AAp?$AAo?$AAl?$AAi?$AAc?$AAy?$AA?5?$AAn?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo@|
  00052	9b03		 ldr         r3,[sp,#0xC]
  00054	490f		 ldr         r1,|$LN27@MsgQueueEv| ; =|??_C@_1DE@KJOOCALJ@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?$AA@|
  00056	f000 f800	 bl          CeLogMsg

; 208  : 			  break;

  0005a	e00d		 b           |$LN20@MsgQueueEv|
  0005c		 |$LN5@MsgQueueEv|

; 189  : 		  case PPN_APPBUTTONPRESSED:
; 190  : 			  activeEvent = AppButtonPressed;

  0005c	2410		 movs        r4,#0x10

; 191  : 			  break;

  0005e	e00b		 b           |$LN20@MsgQueueEv|
  00060		 |$LN6@MsgQueueEv|

; 184  : 			  }
; 185  : 			  break;
; 186  : 		  case PPN_SUSPENDKEYPRESSED:
; 187  : 			  activeEvent = PowerButtonPressed;

  00060	240f		 movs        r4,#0xF

; 188  : 			  break;

  00062	e009		 b           |$LN20@MsgQueueEv|
  00064		 |$LN4@MsgQueueEv|

; 192  : 		  case PPN_UNATTENDEDMODE:
; 193  : 			  // Somebody wants to enter or leave unattended mode:
; 194  : 			  if (ppm.dwData != FALSE)

  00064	9b03		 ldr         r3,[sp,#0xC]
  00066	b10b		 cbz         r3,|$LN3@MsgQueueEv|

; 195  : 			  {
; 196  : 				  activeEvent = EnterUnattendedModeRequest;

  00068	2405		 movs        r4,#5

; 197  : 			  }
; 198  : 			  else

  0006a	e005		 b           |$LN20@MsgQueueEv|
  0006c		 |$LN3@MsgQueueEv|

; 199  : 			  {
; 200  : 				  activeEvent = LeaveUnattendedModeRequest;

  0006c	2406		 movs        r4,#6

; 201  : 			  }
; 202  : 			  break;

  0006e	e003		 b           |$LN20@MsgQueueEv|
  00070		 |$LN8@MsgQueueEv|

; 179  : 		{
; 180  : 		  case PPN_POWERCHANGE:
; 181  : 			  if (PmUpdatePowerStatus ())

  00070	f000 f800	 bl          PmUpdatePowerStatus
  00074	b100		 cbz         r0,|$LN20@MsgQueueEv|

; 182  : 			  {
; 183  : 				  activeEvent = PowerSourceChange;

  00076	2409		 movs        r4,#9
  00078		 |$LN20@MsgQueueEv|

; 174  : 	{
; 175  : 		PMLOGMSG (ZONE_PLATFORM,
; 176  : 				  (_T ("%s: got request 0x%04x (data 0x%08x) from process 0x%08x\r\n"), pszFname,
; 177  : 				   ppm.dwMessage, ppm.dwData, ppm.hOwnerProcess));

  00078	f8d5 3440	 ldr         r3,[r5,#0x440]

; 209  : 		}
; 210  : 	}
; 211  : 	PMLOGMSG (ZONE_PLATFORM, (_T ("%s: return ActiveEvent = 0x%08x\r\n"), pszFname, activeEvent));

  0007c	f413 6f80	 tst         r3,#0x400
  00080	d004		 beq         |$LN18@MsgQueueEv|
  00082	4805		 ldr         r0,|$LN28@MsgQueueEv| ; =|??_C@_1EE@BFDOIAHA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AA?5?$AAA?$AAc?$AAt?$AAi?$AAv?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?5?$AA?$DN?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN@|
  00084	4903		 ldr         r1,|$LN27@MsgQueueEv| ; =|??_C@_1DE@KJOOCALJ@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?$AA@|
  00086	4622		 mov         r2,r4
  00088	f000 f800	 bl          CeLogMsg
  0008c		 |$LN18@MsgQueueEv|

; 212  : 	return activeEvent;
; 213  : }

  0008c	4620		 mov         r0,r4
  0008e		 |$M25|
  0008e	b006		 add         sp,sp,#0x18
  00090	e8bd 8830	 pop         {r4,r5,r11,pc}
  00094		 |$LN26@MsgQueueEv|
  00094		 |$LN27@MsgQueueEv|
  00094	0000 0000	 DCD         |??_C@_1DE@KJOOCALJ@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?$AA@|
  00098		 |$LN28@MsgQueueEv|
  00098	0000 0000	 DCD         |??_C@_1EE@BFDOIAHA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AA?5?$AAA?$AAc?$AAt?$AAi?$AAv?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?5?$AA?$DN?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN@|
  0009c		 |$LN29@MsgQueueEv|
  0009c	0000 0000	 DCD         |??_C@_1HC@KLHCDFII@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAu?$AAn?$AAh?$AAa?$AAn?$AAd?$AAl?$AAe?$AAd?$AA?5?$AAp?$AAo?$AAl?$AAi?$AAc?$AAy?$AA?5?$AAn?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo@|
  000a0		 |$LN30@MsgQueueEv|
  000a0	0000 0000	 DCD         |??_C@_1HG@ODJDBDPK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAg?$AAo?$AAt?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA4?$AAx?$AA?5?$AA?$CI?$AAd?$AAa?$AAt?$AAa?$AA?5?$AA0?$AAx?$AA?$CF@|
  000a4		 |$LN31@MsgQueueEv|
  000a4	0000 0000	 DCD         |dpCurSettings|
  000a8		 |$M23|

			 ENDP  ; |?MsgQueueEvent@PowerState@@MAA?AW4PLATFORM_ACTIVITY_EVENT@@XZ|, PowerState::MsgQueueEvent

	EXPORT	|??_C@_1GE@NEFAJPAA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAS?$AAt?$AAa?$AAt?$AAe?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr?$AAy?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CC@BLNGLGKH@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAI?$AAn?$AAi?$AAt?$AA?$AA@| [ DATA ] ; `string'

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?Init@PowerState@@UAAHXZ| DCD imagerel |$LN18@Init|
	DCD	0xfd3060c1

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CC@BLNGLGKH@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAI?$AAn?$AAi?$AAt?$AA?$AA@| DCB "P"
	DCB	0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "S", 0x0, "t"
	DCB	0x0, "a", 0x0, "t", 0x0, "e", 0x0, ":", 0x0, ":", 0x0, "I"
	DCB	0x0, "n", 0x0, "i", 0x0, "t", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GE@NEFAJPAA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAS?$AAt?$AAa?$AAt?$AAe?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr?$AAy?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "S", 0x0, "t", 0x0, "a"
	DCB	0x0, "t", 0x0, "e", 0x0, "V", 0x0, "a", 0x0, "l", 0x0, "i"
	DCB	0x0, "d", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "R", 0x0, "e"
	DCB	0x0, "g", 0x0, "i", 0x0, "s", 0x0, "t", 0x0, "r", 0x0, "y"
	DCB	0x0, " ", 0x0, "r", 0x0, "e", 0x0, "t", 0x0, "u", 0x0, "r"
	DCB	0x0, "n", 0x0, " ", 0x0, "(", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "8", 0x0, "x", 0x0, ")", 0x0, " ", 0x0, "f"
	DCB	0x0, "a", 0x0, "i", 0x0, "l", 0x0, "s", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?Init@PowerState@@UAAHXZ| PROC	; PowerState::Init

; 128  : {

  00000		 |$LN18@Init|
  00000	e92d 4818	 push        {r3,r4,r11,lr}
  00004	f20d 0b08	 addw        r11,sp,#8
  00008		 |$M16|
  00008	4604		 mov         r4,r0

; 129  : 	SETFNAME (_T ("PowerState::Init"));
; 130  : 	if (m_pPwrStateMgr && m_hUnsignaledHandle)

  0000a	68a3		 ldr         r3,[r4,#8]
  0000c	b31b		 cbz         r3,|$LN6@Init|
  0000e	68e3		 ldr         r3,[r4,#0xC]
  00010	b30b		 cbz         r3,|$LN6@Init|

; 131  : 	{
; 132  : 		for (DWORD dwIndex = 0; dwIndex < m_dwNumOfEvent; dwIndex++)

  00012	6920		 ldr         r0,[r4,#0x10]
  00014	2100		 movs        r1,#0
  00016	b130		 cbz         r0,|$LN3@Init|
  00018	4622		 mov         r2,r4
  0001a		 |$LL5@Init|

; 133  : 			if (m_dwEventArray[dwIndex] == NULL)

  0001a	6993		 ldr         r3,[r2,#0x18]
  0001c	b1db		 cbz         r3,|$LN6@Init|

; 131  : 	{
; 132  : 		for (DWORD dwIndex = 0; dwIndex < m_dwNumOfEvent; dwIndex++)

  0001e	3101		 adds        r1,#1
  00020	3204		 adds        r2,#4
  00022	4281		 cmp         r1,r0
  00024	d3f9		 bcc         |$LL5@Init|
  00026		 |$LN3@Init|

; 134  : 			{
; 135  : 				ASSERT (FALSE);
; 136  : 				return FALSE;
; 137  : 			}
; 138  : 		m_LastNewState = GetState ();	// Point to itself

  00026	6823		 ldr         r3,[r4]
  00028	4620		 mov         r0,r4
  0002a	695b		 ldr         r3,[r3,#0x14]
  0002c	4798		 blx         r3

; 139  : 		DWORD dwReturn = StateValidateRegistry ();

  0002e	6823		 ldr         r3,[r4]
  00030	6060		 str         r0,[r4,#4]
  00032	f44f 3280	 mov         r2,#0x10000
  00036	69db		 ldr         r3,[r3,#0x1C]
  00038	2100		 movs        r1,#0
  0003a	4620		 mov         r0,r4
  0003c	4798		 blx         r3
  0003e	4602		 mov         r2,r0

; 140  : 
; 141  : 		if (dwReturn != ERROR_SUCCESS)

  00040	b162		 cbz         r2,|$LN1@Init|

; 142  : 		{
; 143  : 			PMLOGMSG (ZONE_PLATFORM,
; 144  : 					  (_T ("%s: StateValidateRegistry return (0x%08x) fails\r\n"), pszFname,
; 145  : 					   dwReturn));

  00042	4b09		 ldr         r3,|$LN23@Init|	; =|dpCurSettings|
  00044	f8d3 3440	 ldr         r3,[r3,#0x440]
  00048	f413 6f80	 tst         r3,#0x400
  0004c	d003		 beq         |$LN6@Init|
  0004e	4905		 ldr         r1,|$LN22@Init|	; =|??_C@_1CC@BLNGLGKH@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  00050	4803		 ldr         r0,|$LN21@Init|	; =|??_C@_1GE@NEFAJPAA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAS?$AAt?$AAa?$AAt?$AAe?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr?$AAy?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn@|
  00052	f000 f800	 bl          CeLogMsg
  00056		 |$LN6@Init|

; 150  : 	}
; 151  : 	return FALSE;

  00056	2000		 movs        r0,#0
  00058		 |$LN7@Init|
  00058		 |$M19|

; 152  : }

  00058	e8bd 8818	 pop         {r3,r4,r11,pc}
  0005c		 |$LN1@Init|

; 146  : 			ASSERT (FALSE);
; 147  : 			return FALSE;
; 148  : 		}
; 149  : 		return TRUE;

  0005c	2001		 movs        r0,#1
  0005e	e7fb		 b           |$LN7@Init|
  00060		 |$LN20@Init|
  00060		 |$LN21@Init|
  00060	0000 0000	 DCD         |??_C@_1GE@NEFAJPAA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAS?$AAt?$AAa?$AAt?$AAe?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr?$AAy?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn@|
  00064		 |$LN22@Init|
  00064	0000 0000	 DCD         |??_C@_1CC@BLNGLGKH@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?3?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  00068		 |$LN23@Init|
  00068	0000 0000	 DCD         |dpCurSettings|
  0006c		 |$M17|

			 ENDP  ; |?Init@PowerState@@UAAHXZ|, PowerState::Init

	EXPORT	|?GetLastNewState@PowerStateUnattended@@UAA?AW4PLATFORM_ACTIVITY_STATE@@XZ| ; PowerStateUnattended::GetLastNewState
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?GetLastNewState@PowerStateUnattended@@UAA?AW4PLATFORM_ACTIVITY_STATE@@XZ| PROC ; PowerStateUnattended::GetLastNewState

; 553  : 	if (m_LastNewState == Unattended)

  00000	6843		 ldr         r3,[r0,#4]
  00002	2b02		 cmp         r3,#2
  00004	d105		 bne         |$LN1@GetLastNew|

; 554  : 	{
; 555  : 		if (m_pPwrStateMgr->GetUnattendedRefCount () == 0)

  00006	6883		 ldr         r3,[r0,#8]
  00008	f8d3 3290	 ldr         r3,[r3,#0x290]
  0000c	b90b		 cbnz        r3,|$LN1@GetLastNew|

; 556  : 		{	// Unattended ref count is zero.
; 557  : 			return Suspend;

  0000e	2004		 movs        r0,#4
  00010		 |$M8|

; 561  : }

  00010	4770		 bx          lr
  00012		 |$LN1@GetLastNew|

; 558  : 		}
; 559  : 	}
; 560  : 	return m_LastNewState;

  00012	6840		 ldr         r0,[r0,#4]
  00014		 |$M9|

; 561  : }

  00014	4770		 bx          lr

			 ENDP  ; |?GetLastNewState@PowerStateUnattended@@UAA?AW4PLATFORM_ACTIVITY_STATE@@XZ|, PowerStateUnattended::GetLastNewState

	EXPORT	|?EnterState@PowerStateSuspend@@UAAXXZ|	; PowerStateSuspend::EnterState

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?EnterState@PowerStateSuspend@@UAAXXZ| DCD imagerel |$LN10@EnterState|
	DCD	0xfd306081
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?EnterState@PowerStateSuspend@@UAAXXZ| PROC ; PowerStateSuspend::EnterState

; 641  : {

  00000		 |$LN10@EnterState|
  00000	e92d 4818	 push        {r3,r4,r11,lr}
  00004	f20d 0b08	 addw        r11,sp,#8
  00008		 |$M8|
  00008	4604		 mov         r4,r0

; 642  : 	PmSetSystemPowerState_I (GetStateString (), 0, 0, TRUE);

  0000a	6823		 ldr         r3,[r4]
  0000c	699b		 ldr         r3,[r3,#0x18]
  0000e	4798		 blx         r3
  00010	2301		 movs        r3,#1
  00012	2200		 movs        r2,#0
  00014	2100		 movs        r1,#0
  00016	f000 f800	 bl          PmSetSystemPowerState_I

; 643  : 
; 644  : 	// Because it wakes up by a wakeup source, automatically enter the Resuming state.
; 645  : 	m_LastNewState = Resuming;	// Point to Resuming.

  0001a	2303		 movs        r3,#3
  0001c	6063		 str         r3,[r4,#4]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 234  : 		m_dwUnattendedModeRef = 0;

  0001e	68a3		 ldr         r3,[r4,#8]
  00020	2200		 movs        r2,#0
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 650  : 	m_pPwrStateMgr->ReInitTimeOuts (FALSE);

  00022	2100		 movs        r1,#0
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 234  : 		m_dwUnattendedModeRef = 0;

  00024	f8c3 2290	 str         r2,[r3,#0x290]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 649  : 	m_dwEventArray[PM_USER_ACTIVITY_EVENT] = m_pPwrStateMgr->GetUserActivityTimer ()->hevActive;

  00028	68a3		 ldr         r3,[r4,#8]
  0002a	f8d3 3258	 ldr         r3,[r3,#0x258]
  0002e	691b		 ldr         r3,[r3,#0x10]
  00030	62e3		 str         r3,[r4,#0x2C]

; 650  : 	m_pPwrStateMgr->ReInitTimeOuts (FALSE);

  00032	68a3		 ldr         r3,[r4,#8]
  00034	4618		 mov         r0,r3
  00036	681b		 ldr         r3,[r3]
  00038	689b		 ldr         r3,[r3,#8]
  0003a	4798		 blx         r3
  0003c		 |$M11|

; 651  : }

  0003c	e8bd 8818	 pop         {r3,r4,r11,pc}
  00040		 |$M9|

			 ENDP  ; |?EnterState@PowerStateSuspend@@UAAXXZ|, PowerStateSuspend::EnterState

	IMPORT	|?GetEventHandle@PowerStateManager@@QAAPAXK@Z| ; PowerStateManager::GetEventHandle

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?EnterState@PowerState@@UAAXXZ| DCD imagerel |$LN15@EnterState|
	DCD	0xfd306131
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?EnterState@PowerState@@UAAXXZ| PROC	; PowerState::EnterState

; 226  : {

  00000		 |$LN15@EnterState|
  00000	e92d 4818	 push        {r3,r4,r11,lr}
  00004	f20d 0b08	 addw        r11,sp,#8
  00008		 |$M13|
  00008	4604		 mov         r4,r0

; 227  : 	PmSetSystemPowerState_I (GetStateString (), 0, 0, TRUE);

  0000a	6823		 ldr         r3,[r4]
  0000c	699b		 ldr         r3,[r3,#0x18]
  0000e	4798		 blx         r3
  00010	2301		 movs        r3,#1
  00012	2200		 movs        r2,#0
  00014	2100		 movs        r1,#0
  00016	f000 f800	 bl          PmSetSystemPowerState_I

; 228  : 	m_LastNewState = GetState ();	// Point to itself

  0001a	6823		 ldr         r3,[r4]
  0001c	4620		 mov         r0,r4
  0001e	695b		 ldr         r3,[r3,#0x14]
  00020	4798		 blx         r3
  00022	6060		 str         r0,[r4,#4]

; 229  : 
; 230  : 	// Initial timeout to Active:
; 231  : 	m_dwEventArray[PM_SHUTDOWN_EVENT] = m_pPwrStateMgr->GetEventHandle (PM_SHUTDOWN_EVENT);

  00024	68a0		 ldr         r0,[r4,#8]
  00026	2100		 movs        r1,#0
  00028	f000 f800	 bl          |?GetEventHandle@PowerStateManager@@QAAPAXK@Z|
  0002c	61a0		 str         r0,[r4,#0x18]

; 232  : 	m_dwEventArray[PM_RELOAD_ACTIVITY_TIMEOUTS_EVENT] =
; 233  : 		m_pPwrStateMgr->GetEventHandle (PM_RELOAD_ACTIVITY_TIMEOUTS_EVENT);

  0002e	68a0		 ldr         r0,[r4,#8]
  00030	2101		 movs        r1,#1
  00032	f000 f800	 bl          |?GetEventHandle@PowerStateManager@@QAAPAXK@Z|
  00036	61e0		 str         r0,[r4,#0x1C]

; 234  : 	m_dwEventArray[PM_MSGQUEUE_EVENT] = m_pPwrStateMgr->GetEventHandle (PM_MSGQUEUE_EVENT);

  00038	68a0		 ldr         r0,[r4,#8]
  0003a	2102		 movs        r1,#2
  0003c	f000 f800	 bl          |?GetEventHandle@PowerStateManager@@QAAPAXK@Z|
  00040	6220		 str         r0,[r4,#0x20]

; 235  : 	m_dwEventArray[PM_RESTART_TIMER_EVENT] =
; 236  : 		m_pPwrStateMgr->GetEventHandle (PM_RESTART_TIMER_EVENT);

  00042	68a0		 ldr         r0,[r4,#8]
  00044	2103		 movs        r1,#3
  00046	f000 f800	 bl          |?GetEventHandle@PowerStateManager@@QAAPAXK@Z|
  0004a	6260		 str         r0,[r4,#0x24]

; 237  : 	m_dwEventArray[PM_USER_ACTIVITY_EVENT] = m_pPwrStateMgr->GetUserActivityTimer ()->hevAutoReset;

  0004c	68a3		 ldr         r3,[r4,#8]

; 238  : 	m_dwEventArray[PM_SYSTEM_API_EVENT] = m_pPwrStateMgr->GetEventHandle (PM_SYSTEM_API_EVENT);

  0004e	2106		 movs        r1,#6
  00050	f8d3 3258	 ldr         r3,[r3,#0x258]
  00054	6a5b		 ldr         r3,[r3,#0x24]
  00056	62e3		 str         r3,[r4,#0x2C]
  00058	68a0		 ldr         r0,[r4,#8]
  0005a	f000 f800	 bl          |?GetEventHandle@PowerStateManager@@QAAPAXK@Z|
  0005e	6320		 str         r0,[r4,#0x30]

; 239  : 	m_dwEventArray[PM_SYSTEM_TIMEIDLE_RESET] =
; 240  : 		m_pPwrStateMgr->GetEventHandle (PM_SYSTEM_TIMEIDLE_RESET);

  00060	68a0		 ldr         r0,[r4,#8]
  00062	2104		 movs        r1,#4
  00064	f000 f800	 bl          |?GetEventHandle@PowerStateManager@@QAAPAXK@Z|
  00068	62a0		 str         r0,[r4,#0x28]

; 241  : 	m_dwEventArray[PM_BOOTPHASE2_EVENT] = m_pPwrStateMgr->GetEventHandle (PM_BOOTPHASE2_EVENT);

  0006a	68a0		 ldr         r0,[r4,#8]
  0006c	2107		 movs        r1,#7
  0006e	f000 f800	 bl          |?GetEventHandle@PowerStateManager@@QAAPAXK@Z|

; 242  : 
; 243  : 	m_dwNumOfEvent = PM_BASE_TOTAL_EVENT;

  00072	2308		 movs        r3,#8
  00074	6360		 str         r0,[r4,#0x34]
  00076	6123		 str         r3,[r4,#0x10]
  00078	4622		 mov         r2,r4
  0007a	2108		 movs        r1,#8
  0007c		 |$LL4@EnterState|

; 245  : 	{
; 246  : 		if (m_dwEventArray[dwIndex] == NULL)

  0007c	6993		 ldr         r3,[r2,#0x18]
  0007e	b90b		 cbnz        r3,|$LN3@EnterState|

; 247  : 		{	// Use dummy event.
; 248  : 			m_dwEventArray[dwIndex] = m_hUnsignaledHandle;

  00080	68e3		 ldr         r3,[r4,#0xC]
  00082	6193		 str         r3,[r2,#0x18]
  00084		 |$LN3@EnterState|

; 244  : 	for (DWORD dwIndex = 0; dwIndex < PM_BASE_TOTAL_EVENT; dwIndex++)

  00084	3204		 adds        r2,#4
  00086	3901		 subs        r1,#1
  00088	d1f8		 bne         |$LL4@EnterState|

; 249  : 		}
; 250  : 	}
; 251  : 	m_pPwrStateMgr->ReAdjustTimeOuts ();

  0008a	68a3		 ldr         r3,[r4,#8]
  0008c	4618		 mov         r0,r3
  0008e	681b		 ldr         r3,[r3]
  00090	68db		 ldr         r3,[r3,#0xC]
  00092	4798		 blx         r3
  00094		 |$M16|

; 252  : }

  00094	e8bd 8818	 pop         {r3,r4,r11,pc}
  00098		 |$M14|

			 ENDP  ; |?EnterState@PowerState@@UAAXXZ|, PowerState::EnterState

; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?GetLastNewState@PowerState@@UAA?AW4PLATFORM_ACTIVITY_STATE@@XZ| PROC ; PowerState::GetLastNewState

; 159  : 		return m_LastNewState;

  00000	6840		 ldr         r0,[r0,#4]
  00002		 |$M4|

; 160  : 	};

  00002	4770		 bx          lr

			 ENDP  ; |?GetLastNewState@PowerState@@UAA?AW4PLATFORM_ACTIVITY_STATE@@XZ|, PowerState::GetLastNewState

; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?SetSystemAPIState@PowerState@@UAA?AW4PLATFORM_ACTIVITY_STATE@@W42@@Z| PROC ; PowerState::SetSystemAPIState

; 163  : 		if (UnknownState != apiState)

  00000	f1b1 3fff	 cmp         r1,#0xFFFFFFFF
  00004	d000		 beq         |$LN1@SetSystemA|

; 164  : 			m_LastNewState = apiState;

  00006	6041		 str         r1,[r0,#4]
  00008		 |$LN1@SetSystemA|

; 165  : 		return m_LastNewState;

  00008	6840		 ldr         r0,[r0,#4]
  0000a		 |$M5|

; 166  : 	}

  0000a	4770		 bx          lr

			 ENDP  ; |?SetSystemAPIState@PowerState@@UAA?AW4PLATFORM_ACTIVITY_STATE@@W42@@Z|, PowerState::SetSystemAPIState

; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?AppsCanRequestState@PowerState@@UAAHXZ| PROC ; PowerState::AppsCanRequestState

; 173  : 		return FALSE;

  00000	2000		 movs        r0,#0
  00002		 |$M4|

; 174  : 	}

  00002	4770		 bx          lr

			 ENDP  ; |?AppsCanRequestState@PowerState@@UAAHXZ|, PowerState::AppsCanRequestState

	IMPORT	|??3@YAXPAX@Z|				; operator delete

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$??_GPowerState@@UAAPAXI@Z| DCD imagerel |$LN10@scalar|
	DCD	0x316055
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |??_GPowerState@@UAAPAXI@Z| PROC	; PowerState::`scalar deleting destructor'
  00000		 |$LN10@scalar|
  00000	e92d 4830	 push        {r4,r5,r11,lr}
  00004	f20d 0b08	 addw        r11,sp,#8
  00008		 |$M8|
  00008	4604		 mov         r4,r0

; 113  : 	if (m_hUnsignaledHandle != NULL)

  0000a	68e0		 ldr         r0,[r4,#0xC]
  0000c	4b07		 ldr         r3,|$LN13@scalar|	; =|??_7PowerState@@6B@|
  0000e	460d		 mov         r5,r1
  00010	6023		 str         r3,[r4]
  00012	b108		 cbz         r0,|$LN4@scalar|

; 114  : 		CloseHandle (m_hUnsignaledHandle);

  00014	f000 f800	 bl          CloseHandle
  00018		 |$LN4@scalar|
  00018	f015 0f01	 tst         r5,#1
  0001c	d002		 beq         |$LN1@scalar|
  0001e	4620		 mov         r0,r4
  00020	f000 f800	 bl          |??3@YAXPAX@Z|
  00024		 |$LN1@scalar|
  00024	4620		 mov         r0,r4
  00026		 |$M11|
  00026	e8bd 8830	 pop         {r4,r5,r11,pc}
  0002a		 |$LN14@scalar|
  0002a		 |$M15|
  0002a	defe		 __debugbreak
  0002c		 |$LN12@scalar|
  0002c		 |$LN13@scalar|
  0002c	0000 0000	 DCD         |??_7PowerState@@6B@|
  00030		 |$M9|

			 ENDP  ; |??_GPowerState@@UAAPAXI@Z|, PowerState::`scalar deleting destructor'

	EXPORT	|?WaitForEvent@PowerStateBacklightOff@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| ; PowerStateBacklightOff::WaitForEvent

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?WaitForEvent@PowerStateBacklightOff@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| DCD imagerel |$LN21@WaitForEve|
	DCD	0xfd7360b9
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?WaitForEvent@PowerStateBacklightOff@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| PROC ; PowerStateBacklightOff::WaitForEvent

; 702  : {

  00000		 |$LN21@WaitForEve|
  00000	e92d 48fc	 push        {r2-r7,r11,lr}
  00004	f20d 0b18	 addw        r11,sp,#0x18
  00008		 |$M19|
  00008	4607		 mov         r7,r0
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 214  : 		m_dwCurResumingSuspendTimeout = INFINITE;

  0000a	68b9		 ldr         r1,[r7,#8]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 702  : {

  0000c	461d		 mov         r5,r3
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 214  : 		m_dwCurResumingSuspendTimeout = INFINITE;

  0000e	f06f 0300	 mvn         r3,#0
  00012	f8c1 3284	 str         r3,[r1,#0x284]

; 202  : 		m_dwCurBacklightTimeout = INFINITE;

  00016	68b9		 ldr         r1,[r7,#8]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 702  : {

  00018	4616		 mov         r6,r2
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 202  : 		m_dwCurBacklightTimeout = INFINITE;

  0001a	f8c1 3288	 str         r3,[r1,#0x288]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 708  : 	DWORD dwTimeout = m_pPwrStateMgr->GetSmallestTimeout (&TimeoutItem);

  0001e	68bc		 ldr         r4,[r7,#8]
  00020	4669		 mov         r1,sp
  00022	4620		 mov         r0,r4
  00024	6824		 ldr         r4,[r4]
  00026	69e4		 ldr         r4,[r4,#0x1C]
  00028	47a0		 blx         r4
  0002a	4601		 mov         r1,r0

; 709  : 	PLATFORM_ACTIVITY_EVENT activeEvent =
; 710  : 		PowerState::WaitForEvent (dwTimeout, dwNumOfExternEvent, pExternEventArray);

  0002c	4638		 mov         r0,r7
  0002e	462b		 mov         r3,r5
  00030	4632		 mov         r2,r6
  00032	f000 f800	 bl          |?WaitForEvent@PowerState@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|

; 711  : 	switch (activeEvent)

  00036	2801		 cmp         r0,#1
  00038	d00c		 beq         |$LN7@WaitForEve|
  0003a	2807		 cmp         r0,#7
  0003c	d003		 beq         |$LN6@WaitForEve|
  0003e	280f		 cmp         r0,#0xF
  00040	d10a		 bne         |$LN9@WaitForEve|
  00042		 |$LN2@WaitForEve|

; 712  : 	{
; 713  : 	  case PowerButtonPressed:
; 714  : 		  m_LastNewState = Unattended;

  00042	2302		 movs        r3,#2

; 715  : 		  break;

  00044	e007		 b           |$LN17@WaitForEve|
  00046		 |$LN6@WaitForEve|

; 718  : 		  break;
; 719  : 	  case Timeout:
; 720  : 		  {
; 721  : 			  switch (TimeoutItem)

  00046	9b00		 ldr         r3,[sp]
  00048	2b01		 cmp         r3,#1
  0004a	d0fa		 beq         |$LN2@WaitForEve|
  0004c	2b04		 cmp         r3,#4
  0004e	d103		 bne         |$LN9@WaitForEve|

; 722  : 			  {
; 723  : 				case UserActivityTimeout:
; 724  : 					m_LastNewState = UserIdle;

  00050	2301		 movs        r3,#1

; 725  : 					break;

  00052	e000		 b           |$LN17@WaitForEve|
  00054		 |$LN7@WaitForEve|

; 716  : 	  case UserActivity:
; 717  : 		  m_LastNewState = On;

  00054	2300		 movs        r3,#0
  00056		 |$LN17@WaitForEve|
  00056	607b		 str         r3,[r7,#4]
  00058		 |$LN9@WaitForEve|
  00058		 |$M22|

; 726  : 				case SuspendTimeout:
; 727  : 					m_LastNewState = Unattended;
; 728  : 					break;
; 729  : 				default:
; 730  : 					ASSERT (FALSE);
; 731  : 			  }
; 732  : 			  break;
; 733  : 		  }
; 734  : 	}
; 735  : 	return activeEvent;
; 736  : }

  00058	e8bd 88fc	 pop         {r2-r7,r11,pc}
  0005c		 |$M20|

			 ENDP  ; |?WaitForEvent@PowerStateBacklightOff@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|, PowerStateBacklightOff::WaitForEvent

	EXPORT	|?WaitForEvent@PowerStateScreenOff@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| ; PowerStateScreenOff::WaitForEvent

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?WaitForEvent@PowerStateScreenOff@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| DCD imagerel |$LN21@WaitForEve|
	DCD	0xfd7360ad
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?WaitForEvent@PowerStateScreenOff@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| PROC ; PowerStateScreenOff::WaitForEvent

; 662  : {

  00000		 |$LN21@WaitForEve|
  00000	e92d 48fc	 push        {r2-r7,r11,lr}
  00004	f20d 0b18	 addw        r11,sp,#0x18
  00008		 |$M19|
  00008	4607		 mov         r7,r0
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 214  : 		m_dwCurResumingSuspendTimeout = INFINITE;

  0000a	68b9		 ldr         r1,[r7,#8]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 662  : {

  0000c	461d		 mov         r5,r3
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 214  : 		m_dwCurResumingSuspendTimeout = INFINITE;

  0000e	f06f 0300	 mvn         r3,#0
  00012	f8c1 3284	 str         r3,[r1,#0x284]

; 202  : 		m_dwCurBacklightTimeout = INFINITE;

  00016	68b9		 ldr         r1,[r7,#8]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 662  : {

  00018	4616		 mov         r6,r2
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 202  : 		m_dwCurBacklightTimeout = INFINITE;

  0001a	f8c1 3288	 str         r3,[r1,#0x288]

; 203  : 	};
; 204  : 	void DisableUserIdleTimeout ()
; 205  : 	{
; 206  : 		m_dwCurUserIdleTimeout = INFINITE;

  0001e	68b9		 ldr         r1,[r7,#8]
  00020	f8c1 328c	 str         r3,[r1,#0x28C]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 669  : 	DWORD dwTimeout = m_pPwrStateMgr->GetSmallestTimeout (&TimeoutItem);

  00024	68bc		 ldr         r4,[r7,#8]
  00026	4669		 mov         r1,sp
  00028	4620		 mov         r0,r4
  0002a	6824		 ldr         r4,[r4]
  0002c	69e4		 ldr         r4,[r4,#0x1C]
  0002e	47a0		 blx         r4
  00030	4601		 mov         r1,r0

; 670  : 	PLATFORM_ACTIVITY_EVENT activeEvent =
; 671  : 		PowerState::WaitForEvent (dwTimeout, dwNumOfExternEvent, pExternEventArray);

  00032	4638		 mov         r0,r7
  00034	462b		 mov         r3,r5
  00036	4632		 mov         r2,r6
  00038	f000 f800	 bl          |?WaitForEvent@PowerState@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|

; 672  : 	switch (activeEvent)

  0003c	2807		 cmp         r0,#7
  0003e	d003		 beq         |$LN5@WaitForEve|
  00040	280f		 cmp         r0,#0xF
  00042	d106		 bne         |$LN1@WaitForEve|

; 673  : 	{
; 674  : 	  case PowerButtonPressed:
; 675  : 		  m_LastNewState = On;

  00044	2300		 movs        r3,#0

; 676  : 		  break;

  00046	e003		 b           |$LN17@WaitForEve|
  00048		 |$LN5@WaitForEve|

; 677  : 	  case Timeout:
; 678  : 		  {
; 679  : 			  switch (TimeoutItem)

  00048	9b00		 ldr         r3,[sp]
  0004a	2b01		 cmp         r3,#1
  0004c	d101		 bne         |$LN1@WaitForEve|

; 680  : 			  {
; 681  : 				case SuspendTimeout:
; 682  : 					m_LastNewState = Unattended;

  0004e	2302		 movs        r3,#2
  00050		 |$LN17@WaitForEve|
  00050	607b		 str         r3,[r7,#4]
  00052		 |$LN1@WaitForEve|
  00052		 |$M22|

; 683  : 					break;
; 684  : 				default:
; 685  : 					ASSERT (FALSE);
; 686  : 			  }
; 687  : 			  break;
; 688  : 		  }
; 689  : 	}
; 690  : 	return activeEvent;
; 691  : }

  00052	e8bd 88fc	 pop         {r2-r7,r11,pc}
  00056		 |$M20|

			 ENDP  ; |?WaitForEvent@PowerStateScreenOff@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|, PowerStateScreenOff::WaitForEvent

	EXPORT	|?WaitForEvent@PowerStateResuming@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| ; PowerStateResuming::WaitForEvent

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?WaitForEvent@PowerStateResuming@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| DCD imagerel |$LN12@WaitForEve|
	DCD	0xfd73607d
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?WaitForEvent@PowerStateResuming@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| PROC ; PowerStateResuming::WaitForEvent

; 613  : {

  00000		 |$LN12@WaitForEve|
  00000	e92d 48fc	 push        {r2-r7,r11,lr}
  00004	f20d 0b18	 addw        r11,sp,#0x18
  00008		 |$M10|
  00008	4607		 mov         r7,r0

; 614  : 	TIMEOUT_ITEM TimeoutItem;
; 615  : 	DWORD dwTimeout = m_pPwrStateMgr->GetSmallestTimeout (&TimeoutItem);

  0000a	68bc		 ldr         r4,[r7,#8]
  0000c	4669		 mov         r1,sp
  0000e	461d		 mov         r5,r3
  00010	4620		 mov         r0,r4
  00012	6824		 ldr         r4,[r4]
  00014	4616		 mov         r6,r2
  00016	69e4		 ldr         r4,[r4,#0x1C]
  00018	47a0		 blx         r4
  0001a	4601		 mov         r1,r0

; 616  : 	PLATFORM_ACTIVITY_EVENT activeEvent =
; 617  : 		PowerState::WaitForEvent (dwTimeout, dwNumOfExternEvent, pExternEventArray);

  0001c	4638		 mov         r0,r7
  0001e	462b		 mov         r3,r5
  00020	4632		 mov         r2,r6
  00022	f000 f800	 bl          |?WaitForEvent@PowerState@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|

; 618  : 	switch (activeEvent)

  00026	2801		 cmp         r0,#1
  00028	d003		 beq         |$LN2@WaitForEve|
  0002a	2807		 cmp         r0,#7
  0002c	d005		 beq         |$LN1@WaitForEve|
  0002e	280f		 cmp         r0,#0xF
  00030	d101		 bne         |$LN4@WaitForEve|
  00032		 |$LN2@WaitForEve|

; 619  : 	{
; 620  : 	  case PowerButtonPressed:
; 621  : 		  m_LastNewState = On;
; 622  : 		  break;
; 623  : 	  case UserActivity:
; 624  : 		  m_LastNewState = On;

  00032	2300		 movs        r3,#0
  00034		 |$LN8@WaitForEve|
  00034	607b		 str         r3,[r7,#4]
  00036		 |$LN4@WaitForEve|
  00036		 |$M13|

; 629  : 	}
; 630  : 	return activeEvent;
; 631  : }

  00036	e8bd 88fc	 pop         {r2-r7,r11,pc}
  0003a		 |$LN1@WaitForEve|

; 625  : 		  break;
; 626  : 	  case Timeout:
; 627  : 		  m_LastNewState = Unattended;

  0003a	2302		 movs        r3,#2

; 628  : 		  break;

  0003c	e7fa		 b           |$LN8@WaitForEve|
  0003e		 |$M11|

			 ENDP  ; |?WaitForEvent@PowerStateResuming@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|, PowerStateResuming::WaitForEvent

	EXPORT	|?WaitForEvent@PowerStateUnattended@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| ; PowerStateUnattended::WaitForEvent

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?WaitForEvent@PowerStateUnattended@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| DCD imagerel |$LN21@WaitForEve|
	DCD	0xfd7360ad
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?WaitForEvent@PowerStateUnattended@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| PROC ; PowerStateUnattended::WaitForEvent

; 566  : {

  00000		 |$LN21@WaitForEve|
  00000	e92d 48fc	 push        {r2-r7,r11,lr}
  00004	f20d 0b18	 addw        r11,sp,#0x18
  00008		 |$M19|
  00008	4607		 mov         r7,r0
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 214  : 		m_dwCurResumingSuspendTimeout = INFINITE;

  0000a	68b9		 ldr         r1,[r7,#8]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 566  : {

  0000c	461d		 mov         r5,r3
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 214  : 		m_dwCurResumingSuspendTimeout = INFINITE;

  0000e	f06f 0300	 mvn         r3,#0
  00012	f8c1 3284	 str         r3,[r1,#0x284]

; 202  : 		m_dwCurBacklightTimeout = INFINITE;

  00016	68b9		 ldr         r1,[r7,#8]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 566  : {

  00018	4616		 mov         r6,r2
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 202  : 		m_dwCurBacklightTimeout = INFINITE;

  0001a	f8c1 3288	 str         r3,[r1,#0x288]

; 203  : 	};
; 204  : 	void DisableUserIdleTimeout ()
; 205  : 	{
; 206  : 		m_dwCurUserIdleTimeout = INFINITE;

  0001e	68b9		 ldr         r1,[r7,#8]
  00020	f8c1 328c	 str         r3,[r1,#0x28C]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 573  : 	DWORD dwTimeout = m_pPwrStateMgr->GetSmallestTimeout (&TimeoutItem);

  00024	68bc		 ldr         r4,[r7,#8]
  00026	4669		 mov         r1,sp
  00028	4620		 mov         r0,r4
  0002a	6824		 ldr         r4,[r4]
  0002c	69e4		 ldr         r4,[r4,#0x1C]
  0002e	47a0		 blx         r4
  00030	4601		 mov         r1,r0

; 574  : 	PLATFORM_ACTIVITY_EVENT activeEvent =
; 575  : 		PowerState::WaitForEvent (dwTimeout, dwNumOfExternEvent, pExternEventArray);

  00032	4638		 mov         r0,r7
  00034	462b		 mov         r3,r5
  00036	4632		 mov         r2,r6
  00038	f000 f800	 bl          |?WaitForEvent@PowerState@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|

; 576  : 	switch (activeEvent)

  0003c	2807		 cmp         r0,#7
  0003e	d003		 beq         |$LN5@WaitForEve|
  00040	280f		 cmp         r0,#0xF
  00042	d106		 bne         |$LN1@WaitForEve|

; 577  : 	{
; 578  : 	  case PowerButtonPressed:
; 579  : 		  m_LastNewState = On;

  00044	2300		 movs        r3,#0

; 580  : 		  break;

  00046	e003		 b           |$LN17@WaitForEve|
  00048		 |$LN5@WaitForEve|

; 581  : 	  case Timeout:
; 582  : 		  {
; 583  : 			  switch (TimeoutItem)

  00048	9b00		 ldr         r3,[sp]
  0004a	2b01		 cmp         r3,#1
  0004c	d101		 bne         |$LN1@WaitForEve|

; 584  : 			  {
; 585  : 				case SuspendTimeout:
; 586  : 					m_LastNewState = Suspend;

  0004e	2304		 movs        r3,#4
  00050		 |$LN17@WaitForEve|
  00050	607b		 str         r3,[r7,#4]
  00052		 |$LN1@WaitForEve|
  00052		 |$M22|

; 587  : 					break;
; 588  : 				default:
; 589  : 					ASSERT (FALSE);
; 590  : 			  }
; 591  : 			  break;
; 592  : 		  }
; 593  : 	}
; 594  : 	return activeEvent;
; 595  : }

  00052	e8bd 88fc	 pop         {r2-r7,r11,pc}
  00056		 |$M20|

			 ENDP  ; |?WaitForEvent@PowerStateUnattended@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|, PowerStateUnattended::WaitForEvent

	EXPORT	|?WaitForEvent@PowerStateUserIdle@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| ; PowerStateUserIdle::WaitForEvent

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?WaitForEvent@PowerStateUserIdle@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| DCD imagerel |$LN23@WaitForEve|
	DCD	0xfd7360b5
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?WaitForEvent@PowerStateUserIdle@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| PROC ; PowerStateUserIdle::WaitForEvent

; 493  : {

  00000		 |$LN23@WaitForEve|
  00000	e92d 48fc	 push        {r2-r7,r11,lr}
  00004	f20d 0b18	 addw        r11,sp,#0x18
  00008		 |$M21|
  00008	4607		 mov         r7,r0
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 214  : 		m_dwCurResumingSuspendTimeout = INFINITE;

  0000a	68b9		 ldr         r1,[r7,#8]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 493  : {

  0000c	461d		 mov         r5,r3
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 214  : 		m_dwCurResumingSuspendTimeout = INFINITE;

  0000e	f06f 0300	 mvn         r3,#0
  00012	f8c1 3284	 str         r3,[r1,#0x284]

; 202  : 		m_dwCurBacklightTimeout = INFINITE;

  00016	68b9		 ldr         r1,[r7,#8]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 493  : {

  00018	4616		 mov         r6,r2
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 202  : 		m_dwCurBacklightTimeout = INFINITE;

  0001a	f8c1 3288	 str         r3,[r1,#0x288]

; 203  : 	};
; 204  : 	void DisableUserIdleTimeout ()
; 205  : 	{
; 206  : 		m_dwCurUserIdleTimeout = INFINITE;

  0001e	68b9		 ldr         r1,[r7,#8]
  00020	f8c1 328c	 str         r3,[r1,#0x28C]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 500  : 	DWORD dwTimeout = m_pPwrStateMgr->GetSmallestTimeout (&TimeoutItem);

  00024	68bc		 ldr         r4,[r7,#8]
  00026	4669		 mov         r1,sp
  00028	4620		 mov         r0,r4
  0002a	6824		 ldr         r4,[r4]
  0002c	69e4		 ldr         r4,[r4,#0x1C]
  0002e	47a0		 blx         r4
  00030	4601		 mov         r1,r0

; 501  : 	PLATFORM_ACTIVITY_EVENT activeEvent =
; 502  : 		PowerState::WaitForEvent (dwTimeout, dwNumOfExternEvent, pExternEventArray);

  00032	4638		 mov         r0,r7
  00034	462b		 mov         r3,r5
  00036	4632		 mov         r2,r6
  00038	f000 f800	 bl          |?WaitForEvent@PowerState@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|

; 503  : 	switch (activeEvent)

  0003c	2801		 cmp         r0,#1
  0003e	d008		 beq         |$LN6@WaitForEve|
  00040	2807		 cmp         r0,#7
  00042	d003		 beq         |$LN5@WaitForEve|
  00044	280f		 cmp         r0,#0xF
  00046		 |$LN19@WaitForEve|
  00046	d106		 bne         |$LN8@WaitForEve|

; 504  : 	{
; 505  : 	  case PowerButtonPressed:
; 506  : 		  m_LastNewState = Unattended;

  00048	2302		 movs        r3,#2

; 507  : 		  break;

  0004a	e003		 b           |$LN18@WaitForEve|
  0004c		 |$LN5@WaitForEve|

; 510  : 		  break;
; 511  : 	  case Timeout:
; 512  : 		  {
; 513  : 			  switch (TimeoutItem)

  0004c	9b00		 ldr         r3,[sp]
  0004e	2b01		 cmp         r3,#1

; 514  : 			  {
; 515  : 				case SuspendTimeout:
; 516  : 					m_LastNewState = Unattended;
; 517  : 					break;
; 518  : 				default:
; 519  : 					ASSERT (FALSE);
; 520  : 			  }
; 521  : 			  break;

  00050	e7f9		 b           |$LN19@WaitForEve|
  00052		 |$LN6@WaitForEve|

; 508  : 	  case UserActivity:
; 509  : 		  m_LastNewState = On;

  00052	2300		 movs        r3,#0
  00054		 |$LN18@WaitForEve|
  00054	607b		 str         r3,[r7,#4]
  00056		 |$LN8@WaitForEve|
  00056		 |$M24|

; 522  : 		  }
; 523  : 	}
; 524  : 	return activeEvent;
; 525  : }

  00056	e8bd 88fc	 pop         {r2-r7,r11,pc}
  0005a		 |$M22|

			 ENDP  ; |?WaitForEvent@PowerStateUserIdle@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|, PowerStateUserIdle::WaitForEvent

	EXPORT	|?WaitForEvent@PowerStateOn@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| ; PowerStateOn::WaitForEvent

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?WaitForEvent@PowerStateOn@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| DCD imagerel |$LN19@WaitForEve|
	DCD	0xfd7360ad
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?WaitForEvent@PowerStateOn@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z| PROC ; PowerStateOn::WaitForEvent

; 449  : {

  00000		 |$LN19@WaitForEve|
  00000	e92d 48fc	 push        {r2-r7,r11,lr}
  00004	f20d 0b18	 addw        r11,sp,#0x18
  00008		 |$M17|
  00008	4607		 mov         r7,r0
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 214  : 		m_dwCurResumingSuspendTimeout = INFINITE;

  0000a	68b9		 ldr         r1,[r7,#8]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 449  : {

  0000c	461d		 mov         r5,r3
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstatemgr.h

; 214  : 		m_dwCurResumingSuspendTimeout = INFINITE;

  0000e	f06f 0300	 mvn         r3,#0
  00012	f8c1 3284	 str         r3,[r1,#0x284]
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

; 454  : 	DWORD dwTimeout = m_pPwrStateMgr->GetSmallestTimeout (&TimeoutItem);

  00016	68bc		 ldr         r4,[r7,#8]
  00018	4669		 mov         r1,sp
  0001a	4616		 mov         r6,r2
  0001c	4620		 mov         r0,r4
  0001e	6824		 ldr         r4,[r4]
  00020	69e4		 ldr         r4,[r4,#0x1C]
  00022	47a0		 blx         r4
  00024	4601		 mov         r1,r0

; 455  : 	PLATFORM_ACTIVITY_EVENT activeEvent =
; 456  : 		PowerState::WaitForEvent (dwTimeout, dwNumOfExternEvent, pExternEventArray);

  00026	4638		 mov         r0,r7
  00028	462b		 mov         r3,r5
  0002a	4632		 mov         r2,r6
  0002c	f000 f800	 bl          |?WaitForEvent@PowerState@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|

; 457  : 	switch (activeEvent)

  00030	2807		 cmp         r0,#7
  00032	d005		 beq         |$LN7@WaitForEve|
  00034	280f		 cmp         r0,#0xF
  00036	d101		 bne         |$LN1@WaitForEve|
  00038		 |$LN2@WaitForEve|

; 472  : 				case SuspendTimeout:
; 473  : 					m_LastNewState = Unattended;

  00038	2302		 movs        r3,#2
  0003a		 |$LN15@WaitForEve|
  0003a	607b		 str         r3,[r7,#4]
  0003c		 |$LN1@WaitForEve|
  0003c		 |$M20|

; 474  : 					break;
; 475  : 				default:
; 476  : 					ASSERT (FALSE);
; 477  : 			  }
; 478  : 			  break;
; 479  : 		  }
; 480  : 	}
; 481  : 	return activeEvent;
; 482  : }

  0003c	e8bd 88fc	 pop         {r2-r7,r11,pc}
  00040		 |$LN7@WaitForEve|

; 458  : 	{
; 459  : 	  case PowerButtonPressed:
; 460  : 		  m_LastNewState = Unattended;
; 461  : 		  break;
; 462  : 	  case Timeout:
; 463  : 		  {
; 464  : 			  switch (TimeoutItem)

  00040	9b00		 ldr         r3,[sp]
  00042	2b01		 cmp         r3,#1
  00044	d0f8		 beq         |$LN2@WaitForEve|
  00046	2b03		 cmp         r3,#3
  00048	d003		 beq         |$LN4@WaitForEve|
  0004a	2b04		 cmp         r3,#4
  0004c	d1f6		 bne         |$LN1@WaitForEve|

; 469  : 				case UserActivityTimeout:
; 470  : 					m_LastNewState = UserIdle;

  0004e	2301		 movs        r3,#1

; 471  : 					break;

  00050	e7f3		 b           |$LN15@WaitForEve|
  00052		 |$LN4@WaitForEve|

; 465  : 			  {
; 466  : 				case BacklightTimeout:
; 467  : 					m_LastNewState = BacklightOff;

  00052	2306		 movs        r3,#6

; 468  : 					break;

  00054	e7f1		 b           |$LN15@WaitForEve|
  00056		 |$M18|

			 ENDP  ; |?WaitForEvent@PowerStateOn@@UAA?AW4PLATFORM_ACTIVITY_EVENT@@KKPAPAX@Z|, PowerStateOn::WaitForEvent

	EXPORT	|?DefaultEventHandle@PowerStateUnattended@@UAA?AW4PLATFORM_ACTIVITY_STATE@@W4PLATFORM_ACTIVITY_EVENT@@@Z| ; PowerStateUnattended::DefaultEventHandle

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?DefaultEventHandle@PowerStateUnattended@@UAA?AW4PLATFORM_ACTIVITY_STATE@@W4PLATFORM_ACTIVITY_EVENT@@@Z| DCD imagerel |$LN13@DefaultEve|
	DCD	0x316061
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?DefaultEventHandle@PowerStateUnattended@@UAA?AW4PLATFORM_ACTIVITY_STATE@@W4PLATFORM_ACTIVITY_EVENT@@@Z| PROC ; PowerStateUnattended::DefaultEventHandle

; 535  : {

  00000		 |$LN13@DefaultEve|
  00000	e92d 4830	 push        {r4,r5,r11,lr}
  00004	f20d 0b08	 addw        r11,sp,#8
  00008		 |$M11|
  00008	460d		 mov         r5,r1

; 536  : 	if (platActivityEvent == EnterUnattendedModeRequest)

  0000a	2d05		 cmp         r5,#5
  0000c	4604		 mov         r4,r0
  0000e	d105		 bne         |$LN1@DefaultEve|

; 537  : 	{
; 538  : 		m_pPwrStateMgr->ResetSystemIdleTimeTimeout (TRUE);

  00010	68a3		 ldr         r3,[r4,#8]
  00012	2101		 movs        r1,#1
  00014	4618		 mov         r0,r3
  00016	681b		 ldr         r3,[r3]
  00018	695b		 ldr         r3,[r3,#0x14]
  0001a	4798		 blx         r3
  0001c		 |$LN1@DefaultEve|

; 345  : 	switch (platActivityEvent)

  0001c	2d10		 cmp         r5,#0x10
  0001e	d101		 bne         |$LN4@DefaultEve|

; 346  : 	{
; 347  : 	  case AppButtonPressed:
; 348  : 		  m_LastNewState = On;

  00020	2300		 movs        r3,#0
  00022	6063		 str         r3,[r4,#4]
  00024		 |$LN4@DefaultEve|

; 349  : 		  break;
; 350  : 	  default:
; 351  : 		  break;
; 352  : 	}
; 353  : 	return GetLastNewState ();

  00024	6823		 ldr         r3,[r4]
  00026	4620		 mov         r0,r4
  00028	6a1b		 ldr         r3,[r3,#0x20]
  0002a	4798		 blx         r3
  0002c		 |$M14|

; 539  : 	}
; 540  : 	return PowerState::DefaultEventHandle (platActivityEvent);
; 541  : }

  0002c	e8bd 8830	 pop         {r4,r5,r11,pc}
  00030		 |$M12|

			 ENDP  ; |?DefaultEventHandle@PowerStateUnattended@@UAA?AW4PLATFORM_ACTIVITY_STATE@@W4PLATFORM_ACTIVITY_EVENT@@@Z|, PowerStateUnattended::DefaultEventHandle

	EXPORT	|?EnterState@PowerStateResuming@@UAAXXZ| ; PowerStateResuming::EnterState

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?EnterState@PowerStateResuming@@UAAXXZ| DCD imagerel |$LN6@EnterState|
	DCD	0xfd30603d
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?EnterState@PowerStateResuming@@UAAXXZ| PROC ; PowerStateResuming::EnterState

; 605  : {

  00000		 |$LN6@EnterState|
  00000	e92d 4818	 push        {r3,r4,r11,lr}
  00004	f20d 0b08	 addw        r11,sp,#8
  00008		 |$M4|
  00008	4604		 mov         r4,r0

; 606  : 	PowerState::EnterState ();

  0000a	f000 f800	 bl          |?EnterState@PowerState@@UAAXXZ|

; 607  : 	m_pPwrStateMgr->ReInitTimeOuts (FALSE);

  0000e	68a3		 ldr         r3,[r4,#8]
  00010	2100		 movs        r1,#0
  00012	4618		 mov         r0,r3
  00014	681b		 ldr         r3,[r3]
  00016	689b		 ldr         r3,[r3,#8]
  00018	4798		 blx         r3
  0001a		 |$M7|

; 608  : }

  0001a	e8bd 8818	 pop         {r3,r4,r11,pc}
  0001e		 |$M5|

			 ENDP  ; |?EnterState@PowerStateResuming@@UAAXXZ|, PowerStateResuming::EnterState

	EXPORT	|?EnterState@PowerStateUnattended@@UAAXXZ| ; PowerStateUnattended::EnterState

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?EnterState@PowerStateUnattended@@UAAXXZ| DCD imagerel |$LN6@EnterState|
	DCD	0xfd306041
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\pdd\pwstates.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?EnterState@PowerStateUnattended@@UAAXXZ| PROC ; PowerStateUnattended::EnterState

; 545  : {

  00000		 |$LN6@EnterState|
  00000	e92d 4818	 push        {r3,r4,r11,lr}
  00004	f20d 0b08	 addw        r11,sp,#8
  00008		 |$M4|
  00008	4604		 mov         r4,r0

; 546  : 	m_pPwrStateMgr->ResetSystemIdleTimeTimeout (TRUE);

  0000a	68a3		 ldr         r3,[r4,#8]
  0000c	2101		 movs        r1,#1
  0000e	4618		 mov         r0,r3
  00010	681b		 ldr         r3,[r3]
  00012	695b		 ldr         r3,[r3,#0x14]
  00014	4798		 blx         r3

; 547  : 	PowerState::EnterState ();

  00016	4620		 mov         r0,r4
  00018	f000 f800	 bl          |?EnterState@PowerState@@UAAXXZ|
  0001c		 |$M7|

; 548  : }

  0001c	e8bd 8818	 pop         {r3,r4,r11,pc}
  00020		 |$M5|

			 ENDP  ; |?EnterState@PowerStateUnattended@@UAAXXZ|, PowerStateUnattended::EnterState

	END
