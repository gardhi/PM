; Listing generated by Microsoft (R) Optimizing Compiler Version 17.00.50727.114 

	TTL	C:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pminit.cpp
	THUMB

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|ghevTimerResume| [ DATA ]
	EXPORT	|ghevPmShutdown| [ DATA ]
	EXPORT	|ghInst| [ DATA ]
	EXPORT	|gppActivityTimers| [ DATA ]
	EXPORT	|ghtPnP| [ DATA ]
	EXPORT	|ghtSystem| [ DATA ]
	EXPORT	|gpPowerNotifications| [ DATA ]
	EXPORT	|gpFloorDx| [ DATA ]
	EXPORT	|ghevPowerManagerReady| [ DATA ]
	EXPORT	|ghPmHeap| [ DATA ]
	EXPORT	|gpCeilingDx| [ DATA ]
	EXPORT	|gcsPowerManager| [ DATA ]
	EXPORT	|ghevResume| [ DATA ]
	EXPORT	|gpDeviceLists| [ DATA ]
	EXPORT	|gcsDeviceUpdateAPIs| [ DATA ]
	EXPORT	|ghtActivityTimers| [ DATA ]
	EXPORT	|gpSystemPowerState| [ DATA ]
	EXPORT	|ghtResume| [ DATA ]
	EXPORT	|idGenericPMDeviceClass| [ DATA ]
	EXPORT	|idPMDisplayDeviceClass| [ DATA ]
	EXPORT	|dpCurSettings| [ DATA ]
	EXPORT	|?g_pSysRegistryAccess@@3PAVSystemNotifyRegKey@@A| [ DATA ] ; g_pSysRegistryAccess

  00000			 AREA	 |.bss|, NOINIT
|ghevTimerResume| % 0x4
|ghevPmShutdown| % 0x4
|ghInst| %	0x4
|gppActivityTimers| % 0x4
|ghtPnP| %	0x4
|ghtSystem| %	0x4
|gpPowerNotifications| % 0x4
|gpFloorDx| %	0x4
|ghevPowerManagerReady| % 0x4
|ghPmHeap| %	0x4
|gpCeilingDx| %	0x4
|gcsPowerManager| % 0x14
|ghevResume| %	0x4
|gpDeviceLists| % 0x4
|gcsDeviceUpdateAPIs| % 0x14
|ghtActivityTimers| % 0x4
|gpSystemPowerState| % 0x4
|ghtResume| %	0x4
|?g_pSysRegistryAccess@@3PAVSystemNotifyRegKey@@A| % 0x4 ; g_pSysRegistryAccess

  00000			 AREA	 |.data|, DATA
|idGenericPMDeviceClass| DCD 0xa32942b7
	DCW	0x920c
	DCW	0x486b
	DCB	0xb0
	DCB	0xe6
	DCB	0x92
	DCB	0xa7
	DCB	0x2
	DCB	0xa9
	DCB	0x9b
	DCB	0x35
|idPMDisplayDeviceClass| DCD 0xeb91c7c9
	DCW	0x8bf6
	DCW	0x4a2d
	DCB	0x9a
	DCB	0xb8
	DCB	0x69
	DCB	0x72
	DCB	0x4e
	DCB	0xed
	DCB	0x97
	DCB	0xd1
|dpCurSettings| DCB "P", 0x0, "M", 0x0, 0x0, 0x0
	%	58
	DCB	"E", 0x0, "r", 0x0, "r", 0x0, "o", 0x0, "r", 0x0, "s", 0x0
	DCB	0x0, 0x0
	%	50
	DCB	"W", 0x0, "a", 0x0, "r", 0x0, "n", 0x0, "i", 0x0, "n", 0x0
	DCB	"g", 0x0, "s", 0x0, 0x0, 0x0
	%	46
	DCB	"I", 0x0, "n", 0x0, "i", 0x0, "t", 0x0, 0x0, 0x0
	%	54
	DCB	"R", 0x0, "e", 0x0, "s", 0x0, "u", 0x0, "m", 0x0, "e", 0x0
	DCB	0x0, 0x0
	%	50
	DCB	"D", 0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0
	DCB	0x0, 0x0
	%	50
	DCB	"I", 0x0, "o", 0x0, "c", 0x0, "t", 0x0, "l", 0x0, 0x0, 0x0
	%	52
	DCB	"R", 0x0, "e", 0x0, "f", 0x0, "c", 0x0, "n", 0x0, "t", 0x0
	DCB	0x0, 0x0
	%	50
	DCB	"R", 0x0, "e", 0x0, "q", 0x0, "u", 0x0, "i", 0x0, "r", 0x0
	DCB	"e", 0x0, 0x0, 0x0
	%	48
	DCB	"N", 0x0, "o", 0x0, "t", 0x0, "i", 0x0, "f", 0x0, "y", 0x0
	DCB	0x0, 0x0
	%	50
	DCB	"R", 0x0, "e", 0x0, "g", 0x0, "i", 0x0, "s", 0x0, "t", 0x0
	DCB	"r", 0x0, "y", 0x0, 0x0, 0x0
	%	46
	DCB	"P", 0x0, "l", 0x0, "a", 0x0, "t", 0x0, "f", 0x0, "o", 0x0
	DCB	"r", 0x0, "m", 0x0, 0x0, 0x0
	%	46
	DCB	"A", 0x0, "P", 0x0, "I", 0x0, 0x0, 0x0
	%	56
	DCB	"A", 0x0, "l", 0x0, "l", 0x0, "o", 0x0, "c", 0x0, 0x0, 0x0
	%	52
	DCB	"T", 0x0, "i", 0x0, "m", 0x0, "e", 0x0, "r", 0x0, "s", 0x0
	DCB	0x0, 0x0
	%	50
	DCB	0x0, 0x0
	%	62
	DCB	0x0, 0x0
	%	62
	DCD	0x3
	EXPORT	|SetEvent|
	IMPORT	|EventModify|
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\kfuncs.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |SetEvent| PROC

; 244  :     return EventModify(h,EVENT_SET);

  00000	2103		 movs        r1,#3
  00002		 |$M4|
  00002	f000 9000	 b           EventModify

			 ENDP  ; |SetEvent|

	EXPORT	|GetCurrentProcess|
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\kfuncs.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |GetCurrentProcess| PROC

; 368  :     return ((HANDLE)(SH_CURPROC+SYS_HANDLE_BASE));

  00000	2042		 movs        r0,#0x42
  00002		 |$M4|

; 369  : }

  00002	4770		 bx          lr

			 ENDP  ; |GetCurrentProcess|

	EXPORT	|GetCurrentProcessId|
	IMPORT	|__GetUserKData|
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\kfuncs.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |GetCurrentProcessId| PROC

; 376  :     return __GetUserKData (SYSHANDLE_OFFSET + (SH_CURPROC * sizeof(HANDLE)));

  00000	200c		 movs        r0,#0xC
  00002		 |$M4|
  00002	f000 9000	 b           __GetUserKData

			 ENDP  ; |GetCurrentProcessId|

	EXPORT	|?IsEqualGUID@@YAHABU_GUID@@0@Z|	; IsEqualGUID
	IMPORT	|memcmp|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?IsEqualGUID@@YAHABU_GUID@@0@Z| DCD imagerel |$LN8@IsEqualGUI|
	DCD	0x3f6031
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\guiddef.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?IsEqualGUID@@YAHABU_GUID@@0@Z| PROC	; IsEqualGUID

; 149  : {

  00000		 |$LN8@IsEqualGUI|
  00000	e92d 4800	 push        {r11,lr}
  00004	46eb		 mov         r11,sp
  00006		 |$M6|

; 150  :     return !memcmp(&rguid1, &rguid2, sizeof(GUID));

  00006	2210		 movs        r2,#0x10
  00008	f000 f800	 bl          memcmp
  0000c	b908		 cbnz        r0,|$LN3@IsEqualGUI|
  0000e	2001		 movs        r0,#1
  00010	e000		 b           |$LN4@IsEqualGUI|
  00012		 |$LN3@IsEqualGUI|
  00012	2000		 movs        r0,#0
  00014		 |$LN4@IsEqualGUI|
  00014		 |$M9|

; 151  : }

  00014	e8bd 8800	 pop         {r11,pc}
  00018		 |$M7|

			 ENDP  ; |?IsEqualGUID@@YAHABU_GUID@@0@Z|, IsEqualGUID

	IMPORT	|__security_push_cookie|
	IMPORT	|__security_pop_cookie|
	IMPORT	|__GSHandlerCheck|
	IMPORT	|StringCchVPrintfW|
	IMPORT	|StringCchLengthW|
	IMPORT	|CeLogData|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$CeLogMsg| DCD imagerel |$LN8@CeLogMsg|
	DCD	imagerel |$unwind2$CeLogMsg|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$CeLogMsg| DCD 0x44b00032
	DCD	0x1e889e8
	DCD	0x400a8fb
	DCD	0x8801e8ff
	DCD	0xff05ef00
	DCD	imagerel |__GSHandlerCheck|
	DCD	0xffffffe5
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\celog.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |CeLogMsg| PROC

; 1208 : {

  00000		 |$LN8@CeLogMsg|
  00000	b40f		 push        {r0-r3}
  00002	e92d 4800	 push        {r11,lr}
  00006	46eb		 mov         r11,sp
  00008	f000 f800	 bl          __security_push_cookie
  0000c	f2ad 2d24	 subw        sp,sp,#0x224
  00010		 |$M6|
  00010	4602		 mov         r2,r0

; 1209 :     va_list arglist;
; 1210 :     WCHAR   szTemp[MAX_PATH];
; 1211 :     size_t  cchLen;
; 1212 :     HRESULT hr;
; 1213 : 
; 1214 :     // Compose a single string using the input args
; 1215 :     va_start(arglist, szFormat);
; 1216 :     hr = StringCchVPrintfW(szTemp, MAX_PATH, szFormat, arglist);

  00012	a806		 add         r0,sp,#0x18
  00014	ab8d		 add         r3,sp,#0x234
  00016	f44f 7182	 mov         r1,#0x104
  0001a	928c		 str         r2,[sp,#0x230]
  0001c	f000 f800	 bl          StringCchVPrintfW

; 1217 :     if (SUCCEEDED(hr)) {

  00020	2800		 cmp         r0,#0
  00022	db17		 blt         |$LN1@CeLogMsg|

; 1218 :         hr = StringCchLengthW(szTemp, MAX_PATH, &cchLen);

  00024	aa04		 add         r2,sp,#0x10
  00026	a806		 add         r0,sp,#0x18
  00028	f44f 7182	 mov         r1,#0x104
  0002c	f000 f800	 bl          StringCchLengthW

; 1219 :         if (SUCCEEDED(hr)) {

  00030	2800		 cmp         r0,#0
  00032	db0f		 blt         |$LN1@CeLogMsg|

; 1220 :             CeLogData(TRUE, CELID_RAW_WCHAR, szTemp, (WORD)((cchLen + 1) * sizeof(WCHAR)),
; 1221 :                       0, CELZONE_ALWAYSON, 0, FALSE);

  00034	f04f 4380	 mov         r3,#0x40000000
  00038	9301		 str         r3,[sp,#4]
  0003a	9b04		 ldr         r3,[sp,#0x10]
  0003c	2200		 movs        r2,#0
  0003e	9203		 str         r2,[sp,#0xC]
  00040	3301		 adds        r3,#1
  00042	005b		 lsls        r3,r3,#1
  00044	9202		 str         r2,[sp,#8]
  00046	9200		 str         r2,[sp]
  00048	aa06		 add         r2,sp,#0x18
  0004a	214a		 movs        r1,#0x4A
  0004c	b29b		 uxth        r3,r3
  0004e	2001		 movs        r0,#1
  00050	f000 f800	 bl          CeLogData
  00054		 |$LN1@CeLogMsg|
  00054		 |$M9|

; 1222 :         }
; 1223 :     }
; 1224 : }

  00054	f20d 2d24	 addw        sp,sp,#0x224
  00058	f000 f800	 bl          __security_pop_cookie
  0005c	f85d bb04	 pop         {r11}
  00060	f85d fb14	 ldr         pc,[sp],#0x14
  00064		 |$M7|

			 ENDP  ; |CeLogMsg|

	EXPORT	|??8@YAHABU_GUID@@0@Z|			; operator==

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$??8@YAHABU_GUID@@0@Z| DCD imagerel |$LN10@operator|
	DCD	0x3f6031
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\guiddef.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |??8@YAHABU_GUID@@0@Z| PROC		; operator==

; 183  : {

  00000		 |$LN10@operator|
  00000	e92d 4800	 push        {r11,lr}
  00004	46eb		 mov         r11,sp
  00006		 |$M8|

; 150  :     return !memcmp(&rguid1, &rguid2, sizeof(GUID));

  00006	2210		 movs        r2,#0x10
  00008	f000 f800	 bl          memcmp
  0000c	b908		 cbnz        r0,|$LN5@operator|
  0000e	2001		 movs        r0,#1
  00010	e000		 b           |$LN6@operator|
  00012		 |$LN5@operator|
  00012	2000		 movs        r0,#0
  00014		 |$LN6@operator|
  00014		 |$M11|

; 184  :     return IsEqualGUID(guidOne,guidOther);
; 185  : }

  00014	e8bd 8800	 pop         {r11,pc}
  00018		 |$M9|

			 ENDP  ; |??8@YAHABU_GUID@@0@Z|, operator==

	EXPORT	|??_C@_1IG@DMCGIFIH@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?5?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAL?$AAL?$AA_?$AAP?$AAR?$AAO?$AAC?$AAE?$AAS?$AAS?$AA_?$AAA?$AAT?$AAT?$AAA?$AAC?$AAH?$AA?5?$AA?9?$AA?5?$AAC?$AAu?$AAr@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BM@ICKAFFLD@?$AAP?$AAo?$AAw?$AAe?$AAr?$AA?5?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1IG@NJENGIBE@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?5?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAL?$AAL?$AA_?$AAP?$AAR?$AAO?$AAC?$AAE?$AAS?$AAS?$AA_?$AAD?$AAE?$AAT?$AAA?$AAC?$AAH?$AA?5?$AA?9?$AA?5?$AAC?$AAu?$AAr@| [ DATA ] ; `string'
	EXPORT	|DllEntry|
	IMPORT	|RegisterDbgZones|
	IMPORT	|DisableThreadLibraryCalls|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$DllEntry| DCD imagerel |$LN26@DllEntry|
	DCD	0x3160f1

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1IG@NJENGIBE@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?5?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAL?$AAL?$AA_?$AAP?$AAR?$AAO?$AAC?$AAE?$AAS?$AAS?$AA_?$AAD?$AAE?$AAT?$AAA?$AAC?$AAH?$AA?5?$AA?9?$AA?5?$AAC?$AAu?$AAr@| DCB "*"
	DCB	0x0, "*", 0x0, "*", 0x0, " ", 0x0, "%", 0x0, "s", 0x0, ":"
	DCB	0x0, " ", 0x0, "D", 0x0, "L", 0x0, "L", 0x0, "_", 0x0, "P"
	DCB	0x0, "R", 0x0, "O", 0x0, "C", 0x0, "E", 0x0, "S", 0x0, "S"
	DCB	0x0, "_", 0x0, "D", 0x0, "E", 0x0, "T", 0x0, "A", 0x0, "C"
	DCB	0x0, "H", 0x0, " ", 0x0, "-", 0x0, " ", 0x0, "C", 0x0, "u"
	DCB	0x0, "r", 0x0, "r", 0x0, "e", 0x0, "n", 0x0, "t", 0x0, " "
	DCB	0x0, "P", 0x0, "r", 0x0, "o", 0x0, "c", 0x0, "e", 0x0, "s"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "x", 0x0, ",", 0x0, " ", 0x0, "I", 0x0, "D", 0x0, ":"
	DCB	0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "x", 0x0, " "
	DCB	0x0, "*", 0x0, "*", 0x0, "*", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BM@ICKAFFLD@?$AAP?$AAo?$AAw?$AAe?$AAr?$AA?5?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?$AA@| DCB "P"
	DCB	0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, " ", 0x0, "M"
	DCB	0x0, "a", 0x0, "n", 0x0, "a", 0x0, "g", 0x0, "e", 0x0, "r"
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1IG@DMCGIFIH@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?5?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAL?$AAL?$AA_?$AAP?$AAR?$AAO?$AAC?$AAE?$AAS?$AAS?$AA_?$AAA?$AAT?$AAT?$AAA?$AAC?$AAH?$AA?5?$AA?9?$AA?5?$AAC?$AAu?$AAr@| DCB "*"
	DCB	0x0, "*", 0x0, "*", 0x0, " ", 0x0, "%", 0x0, "s", 0x0, ":"
	DCB	0x0, " ", 0x0, "D", 0x0, "L", 0x0, "L", 0x0, "_", 0x0, "P"
	DCB	0x0, "R", 0x0, "O", 0x0, "C", 0x0, "E", 0x0, "S", 0x0, "S"
	DCB	0x0, "_", 0x0, "A", 0x0, "T", 0x0, "T", 0x0, "A", 0x0, "C"
	DCB	0x0, "H", 0x0, " ", 0x0, "-", 0x0, " ", 0x0, "C", 0x0, "u"
	DCB	0x0, "r", 0x0, "r", 0x0, "e", 0x0, "n", 0x0, "t", 0x0, " "
	DCB	0x0, "P", 0x0, "r", 0x0, "o", 0x0, "c", 0x0, "e", 0x0, "s"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "x", 0x0, ",", 0x0, " ", 0x0, "I", 0x0, "D", 0x0, ":"
	DCB	0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "x", 0x0, " "
	DCB	0x0, "*", 0x0, "*", 0x0, "*", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pminit.cpp
; File c:\wince800\public\common\sdk\inc\kfuncs.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pminit.cpp
; File c:\wince800\public\common\sdk\inc\kfuncs.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pminit.cpp
; File c:\wince800\public\common\sdk\inc\kfuncs.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pminit.cpp
; File c:\wince800\public\common\sdk\inc\kfuncs.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pminit.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |DllEntry| PROC

; 423  : {

  00000		 |$LN26@DllEntry|
  00000	e92d 4830	 push        {r4,r5,r11,lr}
  00004	f20d 0b08	 addw        r11,sp,#8
  00008		 |$M24|
  00008	4605		 mov         r5,r0

; 424  :     BOOL bRc = TRUE;
; 425  :     SETFNAME(_T("Power Manager"));
; 426  :     
; 427  :     UNREFERENCED_PARAMETER(hInst);
; 428  :     UNREFERENCED_PARAMETER(lpvReserved);
; 429  :     
; 430  :     switch (dwReason) {

  0000a	b1c9		 cbz         r1,|$LN3@DllEntry|
  0000c	2901		 cmp         r1,#1
  0000e	d130		 bne         |$LN5@DllEntry|

; 431  :     case DLL_PROCESS_ATTACH:
; 432  :         ghInst = (HINSTANCE) hInst;
; 433  :         RETAILREGISTERZONES(ghInst);    // zones in both debug and retail builds

  00010	4c1c		 ldr         r4,|$LN32@DllEntry| ; =|dpCurSettings|
  00012	4b19		 ldr         r3,|$LN29@DllEntry| ; =|ghInst|
  00014	4621		 mov         r1,r4
  00016	601d		 str         r5,[r3]
  00018	f000 f800	 bl          RegisterDbgZones

; 435  :             pszFname, GetCurrentProcess(), GetCurrentProcessId()));

  0001c	f8d4 3440	 ldr         r3,[r4,#0x440]
  00020	f013 0f04	 tst         r3,#4
  00024	d008		 beq         |$LN9@DllEntry|
; File c:\wince800\public\common\sdk\inc\kfuncs.h

; 376  :     return __GetUserKData (SYSHANDLE_OFFSET + (SH_CURPROC * sizeof(HANDLE)));

  00026	200c		 movs        r0,#0xC
  00028	f000 f800	 bl          __GetUserKData
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pminit.cpp

; 435  :             pszFname, GetCurrentProcess(), GetCurrentProcessId()));

  0002c	4914		 ldr         r1,|$LN31@DllEntry| ; =|??_C@_1BM@ICKAFFLD@?$AAP?$AAo?$AAw?$AAe?$AAr?$AA?5?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?$AA@|
; File c:\wince800\public\common\sdk\inc\kfuncs.h

; 376  :     return __GetUserKData (SYSHANDLE_OFFSET + (SH_CURPROC * sizeof(HANDLE)));

  0002e	4603		 mov         r3,r0
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pminit.cpp

; 435  :             pszFname, GetCurrentProcess(), GetCurrentProcessId()));

  00030	4815		 ldr         r0,|$LN33@DllEntry| ; =|??_C@_1IG@DMCGIFIH@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?5?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAL?$AAL?$AA_?$AAP?$AAR?$AAO?$AAC?$AAE?$AAS?$AAS?$AA_?$AAA?$AAT?$AAT?$AAA?$AAC?$AAH?$AA?5?$AA?9?$AA?5?$AAC?$AAu?$AAr@|
  00032	2242		 movs        r2,#0x42
  00034	f000 f800	 bl          CeLogMsg
  00038		 |$LN9@DllEntry|

; 436  :         DisableThreadLibraryCalls((HMODULE) hInst);

  00038	4628		 mov         r0,r5
  0003a	f000 f800	 bl          DisableThreadLibraryCalls

; 437  :         break;

  0003e	e018		 b           |$LN5@DllEntry|
  00040		 |$LN3@DllEntry|

; 441  :             pszFname, GetCurrentProcess(), GetCurrentProcessId()));

  00040	4b10		 ldr         r3,|$LN32@DllEntry| ; =|dpCurSettings|
  00042	f8d3 3440	 ldr         r3,[r3,#0x440]
  00046	f013 0f04	 tst         r3,#4
  0004a	d008		 beq         |$LN11@DllEntry|
; File c:\wince800\public\common\sdk\inc\kfuncs.h

; 376  :     return __GetUserKData (SYSHANDLE_OFFSET + (SH_CURPROC * sizeof(HANDLE)));

  0004c	200c		 movs        r0,#0xC
  0004e	f000 f800	 bl          __GetUserKData
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pminit.cpp

; 441  :             pszFname, GetCurrentProcess(), GetCurrentProcessId()));

  00052	490b		 ldr         r1,|$LN31@DllEntry| ; =|??_C@_1BM@ICKAFFLD@?$AAP?$AAo?$AAw?$AAe?$AAr?$AA?5?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?$AA@|
; File c:\wince800\public\common\sdk\inc\kfuncs.h

; 376  :     return __GetUserKData (SYSHANDLE_OFFSET + (SH_CURPROC * sizeof(HANDLE)));

  00054	4603		 mov         r3,r0
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pminit.cpp

; 441  :             pszFname, GetCurrentProcess(), GetCurrentProcessId()));

  00056	4809		 ldr         r0,|$LN30@DllEntry| ; =|??_C@_1IG@NJENGIBE@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?5?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAL?$AAL?$AA_?$AAP?$AAR?$AAO?$AAC?$AAE?$AAS?$AAS?$AA_?$AAD?$AAE?$AAT?$AAA?$AAC?$AAH?$AA?5?$AA?9?$AA?5?$AAC?$AAu?$AAr@|
  00058	2242		 movs        r2,#0x42
  0005a	f000 f800	 bl          CeLogMsg
  0005e		 |$LN11@DllEntry|

; 442  :         if (g_pSysRegistryAccess != NULL)

  0005e	4c06		 ldr         r4,|$LN29@DllEntry| ; =|ghInst|
  00060	6e23		 ldr         r3,[r4,#0x60]
  00062	b123		 cbz         r3,|$LN13@DllEntry|

; 443  :             delete g_pSysRegistryAccess;

  00064	4618		 mov         r0,r3
  00066	681b		 ldr         r3,[r3]
  00068	2101		 movs        r1,#1
  0006a	685b		 ldr         r3,[r3,#4]
  0006c	4798		 blx         r3
  0006e		 |$LN13@DllEntry|

; 444  :         g_pSysRegistryAccess = NULL;

  0006e	2300		 movs        r3,#0
  00070	6623		 str         r3,[r4,#0x60]
  00072		 |$LN5@DllEntry|

; 445  :         break;
; 446  :         
; 447  :     default:
; 448  :         break;
; 449  :     }
; 450  :    
; 451  :     return bRc;

  00072	2001		 movs        r0,#1
  00074		 |$M27|

; 452  : }

  00074	e8bd 8830	 pop         {r4,r5,r11,pc}
  00078		 |$LN28@DllEntry|
  00078		 |$LN29@DllEntry|
  00078	0000 0000	 DCD         |ghInst|
  0007c		 |$LN30@DllEntry|
  0007c	0000 0000	 DCD         |??_C@_1IG@NJENGIBE@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?5?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAL?$AAL?$AA_?$AAP?$AAR?$AAO?$AAC?$AAE?$AAS?$AAS?$AA_?$AAD?$AAE?$AAT?$AAA?$AAC?$AAH?$AA?5?$AA?9?$AA?5?$AAC?$AAu?$AAr@|
  00080		 |$LN31@DllEntry|
  00080	0000 0000	 DCD         |??_C@_1BM@ICKAFFLD@?$AAP?$AAo?$AAw?$AAe?$AAr?$AA?5?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?$AA@|
  00084		 |$LN32@DllEntry|
  00084	0000 0000	 DCD         |dpCurSettings|
  00088		 |$LN33@DllEntry|
  00088	0000 0000	 DCD         |??_C@_1IG@DMCGIFIH@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?5?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAL?$AAL?$AA_?$AAP?$AAR?$AAO?$AAC?$AAE?$AAS?$AAS?$AA_?$AAA?$AAT?$AAT?$AAA?$AAC?$AAH?$AA?5?$AA?9?$AA?5?$AAC?$AAu?$AAr@|
  0008c		 |$M25|

			 ENDP  ; |DllEntry|

	EXPORT	|??_C@_1DO@CKDJKBAK@?$AA?$CL?$AA?$CF?$AAs?$AA?3?$AA?5?$AAh?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs?$AAs?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AAe?$AAx?$AAi?$AAt?$AAi?$AAn?$AAg?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BC@BELJBPDP@?$AAP?$AAm?$AAN?$AAo?$AAt?$AAi?$AAf?$AAy?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1M@FKDMEONL@?$AA?9?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|PmNotify|
	IMPORT	|DeleteProcessRequirements|
	IMPORT	|DeleteProcessNotifications|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$PmNotify| DCD imagerel |$LN14@PmNotify|
	DCD	0x316089

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1M@FKDMEONL@?$AA?9?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@| DCB "-", 0x0
	DCB	"%", 0x0, "s", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BC@BELJBPDP@?$AAP?$AAm?$AAN?$AAo?$AAt?$AAi?$AAf?$AAy?$AA?$AA@| DCB "P"
	DCB	0x0, "m", 0x0, "N", 0x0, "o", 0x0, "t", 0x0, "i", 0x0, "f"
	DCB	0x0, "y", 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DO@CKDJKBAK@?$AA?$CL?$AA?$CF?$AAs?$AA?3?$AA?5?$AAh?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs?$AAs?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AAe?$AAx?$AAi?$AAt?$AAi?$AAn?$AAg?$AA?$AN?$AA?6?$AA?$AA@| DCB "+"
	DCB	0x0, "%", 0x0, "s", 0x0, ":", 0x0, " ", 0x0, "h", 0x0, "P"
	DCB	0x0, "r", 0x0, "o", 0x0, "c", 0x0, "e", 0x0, "s", 0x0, "s"
	DCB	0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8"
	DCB	0x0, "x", 0x0, " ", 0x0, "e", 0x0, "x", 0x0, "i", 0x0, "t"
	DCB	0x0, "i", 0x0, "n", 0x0, "g", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pminit.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |PmNotify| PROC

; 403  : {

  00000		 |$LN14@PmNotify|
  00000	e92d 4830	 push        {r4,r5,r11,lr}
  00004	f20d 0b08	 addw        r11,sp,#8
  00008		 |$M12|
  00008	460c		 mov         r4,r1

; 404  :     SETFNAME(_T("PmNotify"));
; 405  : 
; 406  :     UNREFERENCED_PARAMETER(hThread);
; 407  : 
; 408  :     switch(dwFlags) {

  0000a	b9c8		 cbnz        r0,|$LN9@PmNotify|

; 409  :     case DLL_PROCESS_DETACH:
; 410  :         // release any resources held by this process
; 411  :         PMLOGMSG(ZONE_API, (_T("+%s: hProcess 0x%08x exiting\r\n"), pszFname, hProcess));

  0000c	4d10		 ldr         r5,|$LN20@PmNotify| ; =|dpCurSettings|
  0000e	f8d5 3440	 ldr         r3,[r5,#0x440]
  00012	f413 6f00	 tst         r3,#0x800
  00016	d004		 beq         |$LN7@PmNotify|
  00018	480c		 ldr         r0,|$LN19@PmNotify| ; =|??_C@_1DO@CKDJKBAK@?$AA?$CL?$AA?$CF?$AAs?$AA?3?$AA?5?$AAh?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs?$AAs?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AAe?$AAx?$AAi?$AAt?$AAi?$AAn?$AAg?$AA?$AN?$AA?6?$AA?$AA@|
  0001a	460a		 mov         r2,r1
  0001c	4909		 ldr         r1,|$LN17@PmNotify| ; =|??_C@_1BC@BELJBPDP@?$AAP?$AAm?$AAN?$AAo?$AAt?$AAi?$AAf?$AAy?$AA?$AA@|
  0001e	f000 f800	 bl          CeLogMsg
  00022		 |$LN7@PmNotify|

; 412  :         DeleteProcessRequirements(hProcess);

  00022	4620		 mov         r0,r4
  00024	f000 f800	 bl          DeleteProcessRequirements

; 413  :         DeleteProcessNotifications(hProcess);

  00028	4620		 mov         r0,r4
  0002a	f000 f800	 bl          DeleteProcessNotifications

; 414  :         PMLOGMSG(ZONE_API, (_T("-%s\r\n"), pszFname));

  0002e	f8d5 3440	 ldr         r3,[r5,#0x440]
  00032	f413 6f00	 tst         r3,#0x800
  00036	d003		 beq         |$LN9@PmNotify|
  00038	4803		 ldr         r0,|$LN18@PmNotify| ; =|??_C@_1M@FKDMEONL@?$AA?9?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@|
  0003a	4902		 ldr         r1,|$LN17@PmNotify| ; =|??_C@_1BC@BELJBPDP@?$AAP?$AAm?$AAN?$AAo?$AAt?$AAi?$AAf?$AAy?$AA?$AA@|
  0003c	f000 f800	 bl          CeLogMsg
  00040		 |$LN9@PmNotify|
  00040		 |$M15|

; 415  :         break;
; 416  :     default:
; 417  :         break;
; 418  :     }
; 419  : }

  00040	e8bd 8830	 pop         {r4,r5,r11,pc}
  00044		 |$LN16@PmNotify|
  00044		 |$LN17@PmNotify|
  00044	0000 0000	 DCD         |??_C@_1BC@BELJBPDP@?$AAP?$AAm?$AAN?$AAo?$AAt?$AAi?$AAf?$AAy?$AA?$AA@|
  00048		 |$LN18@PmNotify|
  00048	0000 0000	 DCD         |??_C@_1M@FKDMEONL@?$AA?9?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@|
  0004c		 |$LN19@PmNotify|
  0004c	0000 0000	 DCD         |??_C@_1DO@CKDJKBAK@?$AA?$CL?$AA?$CF?$AAs?$AA?3?$AA?5?$AAh?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs?$AAs?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AAe?$AAx?$AAi?$AAt?$AAi?$AAn?$AAg?$AA?$AN?$AA?6?$AA?$AA@|
  00050		 |$LN20@PmNotify|
  00050	0000 0000	 DCD         |dpCurSettings|
  00054		 |$M13|

			 ENDP  ; |PmNotify|

	EXPORT	|??_C@_1BM@OBHJEKIL@?$AA?$CF?$AAs?$AA?2?$AAI?$AAn?$AAt?$AAe?$AAr?$AAf?$AAa?$AAc?$AAe?$AAs?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EE@DAMLNPFA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAt?$AAy?$AAp?$AAe?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAv?$AAa?$AAl?$AAu?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CA@CAGDLEBG@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAs?$AAI?$AAn?$AAi?$AAt?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EC@OJCNELMO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAt?$AAo?$AA?5?$AAG?$AAU?$AAI?$AAD?$AA?$AN?$AA?6@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GC@HMMKDNKJ@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAf?$AAa?$AAu?$AAl?$AAt?$AA?5?$AAG?$AAU?$AAI?$AAD?$AA?5?$AAf?$AAo?$AAu?$AAn?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAr?$AAe?$AAg?$AAi?$AAs?$AAt@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EA@IPLGNFH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EM@FNHBJNHN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAP?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAI?$AAn?$AAi?$AAt?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi@| [ DATA ] ; `string'
	EXPORT	|??_C@_1HA@PHCGCLLJ@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAP?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAI?$AAn?$AAi?$AAt?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EO@FIGOIHNC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAd?$AAu?$AAr?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAa@| [ DATA ] ; `string'
	EXPORT	|?DeviceListsInit@@YAHXZ|		; DeviceListsInit
	IMPORT	|StringCchPrintfW|
	IMPORT	|RegOpenKeyExW|
	IMPORT	|RegEnumValueW|
	IMPORT	|ConvertStringToGuid|
	IMPORT	|DeviceListCreate|
	IMPORT	|PlatformDeviceListInit|
	IMPORT	|DeviceListDestroy|
	IMPORT	|RegCloseKey|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?DeviceListsInit@@YAHXZ| DCD imagerel |$LN63@DeviceList|
	DCD	imagerel |$unwind2$?DeviceListsInit@@YAHXZ|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$?DeviceListsInit@@YAHXZ| DCD 0x33b000c3
	DCD	0x1e88ee8
	DCD	0xe8ffdffc
	DCD	0xffdf01
	DCD	imagerel |__GSHandlerCheck|
	DCD	0xffffffd9

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EO@FIGOIHNC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAd?$AAu?$AAr?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAa@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "r", 0x0, "r"
	DCB	0x0, "o", 0x0, "r", 0x0, " ", 0x0, "d", 0x0, "u", 0x0, "r"
	DCB	0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "l", 0x0, "i"
	DCB	0x0, "s", 0x0, "t", 0x0, " ", 0x0, "i", 0x0, "n", 0x0, "i"
	DCB	0x0, "t", 0x0, "i", 0x0, "a", 0x0, "l", 0x0, "i", 0x0, "z"
	DCB	0x0, "a", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HA@PHCGCLLJ@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAP?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAI?$AAn?$AAi?$AAt?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "P", 0x0, "l", 0x0, "a"
	DCB	0x0, "t", 0x0, "f", 0x0, "o", 0x0, "r", 0x0, "m", 0x0, "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "L"
	DCB	0x0, "i", 0x0, "s", 0x0, "t", 0x0, "I", 0x0, "n", 0x0, "i"
	DCB	0x0, "t", 0x0, "(", 0x0, ")", 0x0, " ", 0x0, "f", 0x0, "a"
	DCB	0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, " ", 0x0, "f"
	DCB	0x0, "o", 0x0, "r", 0x0, " ", 0x0, "d", 0x0, "e", 0x0, "f"
	DCB	0x0, "a", 0x0, "u", 0x0, "l", 0x0, "t", 0x0, " ", 0x0, "c"
	DCB	0x0, "l", 0x0, "a", 0x0, "s", 0x0, "s", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EM@FNHBJNHN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAP?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAI?$AAn?$AAi?$AAt?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "P", 0x0, "l", 0x0, "a"
	DCB	0x0, "t", 0x0, "f", 0x0, "o", 0x0, "r", 0x0, "m", 0x0, "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "L"
	DCB	0x0, "i", 0x0, "s", 0x0, "t", 0x0, "I", 0x0, "n", 0x0, "i"
	DCB	0x0, "t", 0x0, "(", 0x0, ")", 0x0, " ", 0x0, "f", 0x0, "a"
	DCB	0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EA@IPLGNFH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "D", 0x0, "e", 0x0, "v"
	DCB	0x0, "i", 0x0, "c", 0x0, "e", 0x0, "L", 0x0, "i", 0x0, "s"
	DCB	0x0, "t", 0x0, "C", 0x0, "r", 0x0, "e", 0x0, "a", 0x0, "t"
	DCB	0x0, "e", 0x0, "(", 0x0, ")", 0x0, " ", 0x0, "f", 0x0, "a"
	DCB	0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GC@HMMKDNKJ@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAf?$AAa?$AAu?$AAl?$AAt?$AA?5?$AAG?$AAU?$AAI?$AAD?$AA?5?$AAf?$AAo?$AAu?$AAn?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAr?$AAe?$AAg?$AAi?$AAs?$AAt@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "d", 0x0, "e", 0x0, "f"
	DCB	0x0, "a", 0x0, "u", 0x0, "l", 0x0, "t", 0x0, " ", 0x0, "G"
	DCB	0x0, "U", 0x0, "I", 0x0, "D", 0x0, " ", 0x0, "f", 0x0, "o"
	DCB	0x0, "u", 0x0, "n", 0x0, "d", 0x0, " ", 0x0, "i", 0x0, "n"
	DCB	0x0, " ", 0x0, "r", 0x0, "e", 0x0, "g", 0x0, "i", 0x0, "s"
	DCB	0x0, "t", 0x0, "r", 0x0, "y", 0x0, " ", 0x0, "a", 0x0, "s"
	DCB	0x0, " ", 0x0, "e", 0x0, "x", 0x0, "p", 0x0, "e", 0x0, "c"
	DCB	0x0, "t", 0x0, "e", 0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EC@OJCNELMO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAt?$AAo?$AA?5?$AAG?$AAU?$AAI?$AAD?$AA?$AN?$AA?6@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "c", 0x0, "a", 0x0, "n"
	DCB	0x0, "'", 0x0, "t", 0x0, " ", 0x0, "c", 0x0, "o", 0x0, "n"
	DCB	0x0, "v", 0x0, "e", 0x0, "r", 0x0, "t", 0x0, " ", 0x0, "'"
	DCB	0x0, "%", 0x0, "s", 0x0, "'", 0x0, " ", 0x0, "t", 0x0, "o"
	DCB	0x0, " ", 0x0, "G", 0x0, "U", 0x0, "I", 0x0, "D", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CA@CAGDLEBG@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAs?$AAI?$AAn?$AAi?$AAt?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "L"
	DCB	0x0, "i", 0x0, "s", 0x0, "t", 0x0, "s", 0x0, "I", 0x0, "n"
	DCB	0x0, "i", 0x0, "t", 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EE@DAMLNPFA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAt?$AAy?$AAp?$AAe?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAv?$AAa?$AAl?$AAu?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "i", 0x0, "n", 0x0, "v"
	DCB	0x0, "a", 0x0, "l", 0x0, "i", 0x0, "d", 0x0, " ", 0x0, "t"
	DCB	0x0, "y", 0x0, "p", 0x0, "e", 0x0, " ", 0x0, "f", 0x0, "o"
	DCB	0x0, "r", 0x0, " ", 0x0, "v", 0x0, "a", 0x0, "l", 0x0, "u"
	DCB	0x0, "e", 0x0, " ", 0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@| DCB "S"
	DCB	0x0, "Y", 0x0, "S", 0x0, "T", 0x0, "E", 0x0, "M", 0x0, "\\"
	DCB	0x0, "C", 0x0, "u", 0x0, "r", 0x0, "r", 0x0, "e", 0x0, "n"
	DCB	0x0, "t", 0x0, "C", 0x0, "o", 0x0, "n", 0x0, "t", 0x0, "r"
	DCB	0x0, "o", 0x0, "l", 0x0, "S", 0x0, "e", 0x0, "t", 0x0, "\\"
	DCB	0x0, "C", 0x0, "o", 0x0, "n", 0x0, "t", 0x0, "r", 0x0, "o"
	DCB	0x0, "l", 0x0, "\\", 0x0, "P", 0x0, "o", 0x0, "w", 0x0, "e"
	DCB	0x0, "r", 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BM@OBHJEKIL@?$AA?$CF?$AAs?$AA?2?$AAI?$AAn?$AAt?$AAe?$AAr?$AAf?$AAa?$AAc?$AAe?$AAs?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, "\\", 0x0, "I", 0x0, "n", 0x0, "t", 0x0, "e"
	DCB	0x0, "r", 0x0, "f", 0x0, "a", 0x0, "c", 0x0, "e", 0x0, "s"
	DCB	0x0, 0x0, 0x0				; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pminit.cpp
; File c:\wince800\public\common\sdk\inc\guiddef.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pminit.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?DeviceListsInit@@YAHXZ| PROC		; DeviceListsInit

; 97   : {

  00000		 |$LN63@DeviceList|
  00000	e92d 4ff0	 push        {r4-r11,lr}
  00004	f20d 0b1c	 addw        r11,sp,#0x1C
  00008	f000 f800	 bl          __security_push_cookie
  0000c	f2ad 2d38	 subw        sp,sp,#0x238
  00010		 |$M61|

; 98   :     BOOL fOk = TRUE;
; 99   :     PDEVICE_LIST pdl;
; 100  :     DWORD dwStatus;
; 101  :     HKEY hk;
; 102  :     TCHAR szBuf[MAX_PATH];
; 103  :     SETFNAME(_T("DeviceListsInit"));
; 104  : 
; 105  :     // enumerate all the device classes
; 106  :     VERIFY(SUCCEEDED(StringCchPrintf(szBuf,_countof(szBuf), _T("%s\\Interfaces"), PWRMGR_REG_KEY)));

  00010	4b68		 ldr         r3,|$LN77@DeviceList| ; =|??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@|
  00012	4a67		 ldr         r2,|$LN76@DeviceList| ; =|??_C@_1BM@OBHJEKIL@?$AA?$CF?$AAs?$AA?2?$AAI?$AAn?$AAt?$AAe?$AAr?$AAf?$AAa?$AAc?$AAe?$AAs?$AA?$AA@|
  00014	f44f 7982	 mov         r9,#0x104
  00018	4649		 mov         r1,r9
  0001a	a80c		 add         r0,sp,#0x30
  0001c	2501		 movs        r5,#1
  0001e	f000 f800	 bl          StringCchPrintfW

; 107  :     dwStatus = RegOpenKeyEx(HKEY_LOCAL_MACHINE, szBuf, 0, 0, &hk);

  00022	ab04		 add         r3,sp,#0x10
  00024	07e8		 lsls        r0,r5,#0x1F
  00026	9300		 str         r3,[sp]
  00028	2300		 movs        r3,#0
  0002a	a90c		 add         r1,sp,#0x30
  0002c	2200		 movs        r2,#0
  0002e	3002		 adds        r0,#2
  00030	f000 f800	 bl          RegOpenKeyExW

; 108  :     if(dwStatus == ERROR_SUCCESS) {

  00034	4e5d		 ldr         r6,|$LN75@DeviceList| ; =|gpDeviceLists|
  00036	4f5c		 ldr         r7,|$LN74@DeviceList| ; =|idGenericPMDeviceClass|
  00038	2400		 movs        r4,#0
  0003a	2800		 cmp         r0,#0
  0003c	d16c		 bne         |$LN53@DeviceList|

; 109  :         DWORD dwIndex = 0;

  0003e	f04f 0800	 mov         r8,#0
  00042	f10d 0a14	 add         r10,sp,#0x14
  00046		 |$LL22@DeviceList|

; 110  :         do {
; 111  :             DWORD cbValueName = _countof(szBuf), dwType;
; 112  :             GUID idInterface;
; 113  : 
; 114  :             dwStatus = RegEnumValue(hk, dwIndex, szBuf, &cbValueName, NULL,
; 115  :                 &dwType, NULL, NULL);

  00046	9804		 ldr         r0,[sp,#0x10]
  00048	ab06		 add         r3,sp,#0x18
  0004a	aa0c		 add         r2,sp,#0x30
  0004c	4641		 mov         r1,r8
  0004e	f8cd 9018	 str         r9,[sp,#0x18]
  00052	9403		 str         r4,[sp,#0xC]
  00054	9402		 str         r4,[sp,#8]
  00056	f8cd a004	 str         r10,[sp,#4]
  0005a	9400		 str         r4,[sp]
  0005c	f000 f800	 bl          RegEnumValueW

; 116  :             if(dwStatus == ERROR_SUCCESS) {

  00060	2800		 cmp         r0,#0
  00062	d150		 bne         |$LN52@DeviceList|

; 117  :                 if(dwType != REG_SZ) {

  00064	9b05		 ldr         r3,[sp,#0x14]
  00066	2b01		 cmp         r3,#1
  00068	d006		 beq         |$LN18@DeviceList|

; 118  :                     PMLOGMSG(ZONE_WARN, (_T("%s: invalid type for value '%s'\r\n"),
; 119  :                         pszFname, szBuf));

  0006a	f8d7 3460	 ldr         r3,[r7,#0x460]
  0006e	f013 0f02	 tst         r3,#2
  00072	d045		 beq         |$LN9@DeviceList|
  00074	484b		 ldr         r0,|$LN73@DeviceList| ; =|??_C@_1EE@DAMLNPFA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAt?$AAy?$AAp?$AAe?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAv?$AAa?$AAl?$AAu?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN@|

; 120  :                 } else if(!ConvertStringToGuid(szBuf, &idInterface)) {

  00076	e00a		 b           |$LN59@DeviceList|
  00078		 |$LN18@DeviceList|
  00078	a908		 add         r1,sp,#0x20
  0007a	a80c		 add         r0,sp,#0x30
  0007c	f000 f800	 bl          ConvertStringToGuid
  00080	b950		 cbnz        r0,|$LN16@DeviceList|

; 121  :                     PMLOGMSG(ZONE_WARN, (_T("%s: can't convert '%s' to GUID\r\n"),
; 122  :                         pszFname, szBuf));

  00082	f8d7 3460	 ldr         r3,[r7,#0x460]
  00086	f013 0f02	 tst         r3,#2
  0008a	d039		 beq         |$LN9@DeviceList|
  0008c	4844		 ldr         r0,|$LN72@DeviceList| ; =|??_C@_1EC@OJCNELMO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAt?$AAo?$AA?5?$AAG?$AAU?$AAI?$AAD?$AA?$AN?$AA?6@|
  0008e		 |$LN59@DeviceList|
  0008e	493e		 ldr         r1,|$LN66@DeviceList| ; =|??_C@_1CA@CAGDLEBG@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAs?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  00090	aa0c		 add         r2,sp,#0x30
  00092	f000 f800	 bl          CeLogMsg

; 123  :                 } else if(idInterface == idGenericPMDeviceClass) {

  00096	e033		 b           |$LN9@DeviceList|
  00098		 |$LN16@DeviceList|
; File c:\wince800\public\common\sdk\inc\guiddef.h

; 150  :     return !memcmp(&rguid1, &rguid2, sizeof(GUID));

  00098	2210		 movs        r2,#0x10
  0009a	4639		 mov         r1,r7
  0009c	a808		 add         r0,sp,#0x20
  0009e	f000 f800	 bl          memcmp
  000a2	b948		 cbnz        r0,|$LN14@DeviceList|
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pminit.cpp

; 125  :                         pszFname));

  000a4	f8d7 3460	 ldr         r3,[r7,#0x460]
  000a8	f013 0f04	 tst         r3,#4
  000ac	d028		 beq         |$LN9@DeviceList|
  000ae	4936		 ldr         r1,|$LN66@DeviceList| ; =|??_C@_1CA@CAGDLEBG@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAs?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  000b0	483a		 ldr         r0,|$LN71@DeviceList| ; =|??_C@_1GC@HMMKDNKJ@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAf?$AAa?$AAu?$AAl?$AAt?$AA?5?$AAG?$AAU?$AAI?$AAD?$AA?5?$AAf?$AAo?$AAu?$AAn?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAr?$AAe?$AAg?$AAi?$AAs?$AAt@|
  000b2	f000 f800	 bl          CeLogMsg

; 126  :                 } else if((pdl = DeviceListCreate(&idInterface)) == NULL) {

  000b6	e023		 b           |$LN9@DeviceList|
  000b8		 |$LN14@DeviceList|
  000b8	a808		 add         r0,sp,#0x20
  000ba	f000 f800	 bl          DeviceListCreate
  000be	4604		 mov         r4,r0
  000c0	b94c		 cbnz        r4,|$LN12@DeviceList|

; 127  :                     PMLOGMSG(ZONE_WARN, (_T("%s: DeviceListCreate() failed\r\n"), 
; 128  :                         pszFname));

  000c2	f8d7 3460	 ldr         r3,[r7,#0x460]
  000c6	f013 0f02	 tst         r3,#2
  000ca	d018		 beq         |$LN56@DeviceList|
  000cc	492e		 ldr         r1,|$LN66@DeviceList| ; =|??_C@_1CA@CAGDLEBG@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAs?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  000ce	4832		 ldr         r0,|$LN70@DeviceList| ; =|??_C@_1EA@IPLGNFH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  000d0	f000 f800	 bl          CeLogMsg

; 129  :                 } else if(PlatformDeviceListInit(pdl) == FALSE) {

  000d4	e013		 b           |$LN56@DeviceList|
  000d6		 |$LN12@DeviceList|
  000d6	4620		 mov         r0,r4
  000d8	f000 f800	 bl          PlatformDeviceListInit
  000dc	b960		 cbnz        r0,|$LN10@DeviceList|

; 130  :                     PMLOGMSG(ZONE_WARN, (_T("%s: PlatformDeviceListInit() failed\r\n"), 
; 131  :                         pszFname));

  000de	f8d7 3460	 ldr         r3,[r7,#0x460]
  000e2	f013 0f02	 tst         r3,#2
  000e6	d003		 beq         |$LN34@DeviceList|
  000e8	4927		 ldr         r1,|$LN66@DeviceList| ; =|??_C@_1CA@CAGDLEBG@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAs?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  000ea	482a		 ldr         r0,|$LN69@DeviceList| ; =|??_C@_1EM@FNHBJNHN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAP?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAI?$AAn?$AAi?$AAt?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi@|
  000ec	f000 f800	 bl          CeLogMsg
  000f0		 |$LN34@DeviceList|

; 132  :                     DeviceListDestroy(pdl);

  000f0	4620		 mov         r0,r4
  000f2	f000 f800	 bl          DeviceListDestroy

; 133  :                 } else {

  000f6	e002		 b           |$LN56@DeviceList|
  000f8		 |$LN10@DeviceList|

; 134  :                     // add the new entry to the list
; 135  :                     pdl->pNext = gpDeviceLists;

  000f8	6833		 ldr         r3,[r6]
  000fa	6163		 str         r3,[r4,#0x14]

; 136  :                     gpDeviceLists = pdl;

  000fc	6034		 str         r4,[r6]
  000fe		 |$LN56@DeviceList|
  000fe	2400		 movs        r4,#0
  00100		 |$LN9@DeviceList|

; 137  :                 }
; 138  : 
; 139  :                 // update the index
; 140  :                 dwIndex++;

  00100	f108 0801	 add         r8,r8,#1

; 141  :             }
; 142  :         } while(dwStatus == ERROR_SUCCESS);

  00104	e79f		 b           |$LL22@DeviceList|
  00106		 |$LN52@DeviceList|

; 143  : 
; 144  :         // check for abnormal termination of the loop
; 145  :         if(dwStatus != ERROR_NO_MORE_ITEMS) {

  00106	f240 1303	 mov         r3,#0x103
  0010a	4298		 cmp         r0,r3
  0010c	d000		 beq         |$LN8@DeviceList|

; 146  :             fOk = FALSE;

  0010e	2500		 movs        r5,#0
  00110		 |$LN8@DeviceList|

; 147  :         }
; 148  : 
; 149  :         // close the registry handle
; 150  :         RegCloseKey(hk);

  00110	9804		 ldr         r0,[sp,#0x10]
  00112	f000 f800	 bl          RegCloseKey

; 151  :     }
; 152  : 
; 153  :     // add the default list last
; 154  :     if(fOk) {

  00116	b1c5		 cbz         r5,|$LN51@DeviceList|
  00118		 |$LN53@DeviceList|

; 155  :         fOk = FALSE;
; 156  :         pdl = DeviceListCreate(&idGenericPMDeviceClass);

  00118	4638		 mov         r0,r7
  0011a	2500		 movs        r5,#0
  0011c	f000 f800	 bl          DeviceListCreate
  00120	4604		 mov         r4,r0

; 157  :         if(pdl != NULL) {

  00122	b18c		 cbz         r4,|$LN55@DeviceList|

; 158  :             if(PlatformDeviceListInit(pdl) == FALSE) {

  00124	f000 f800	 bl          PlatformDeviceListInit
  00128	b9c8		 cbnz        r0,|$LN5@DeviceList|

; 159  :                 PMLOGMSG(ZONE_INIT || ZONE_WARN, 
; 160  :                     (_T("%s: PlatformDeviceListInit() failed for default class\r\n"),
; 161  :                     pszFname));

  0012a	f8d7 3460	 ldr         r3,[r7,#0x460]
  0012e	f013 0f04	 tst         r3,#4
  00132	d102		 bne         |$LN36@DeviceList|
  00134	f013 0f02	 tst         r3,#2
  00138	d003		 beq         |$LN37@DeviceList|
  0013a		 |$LN36@DeviceList|
  0013a	4815		 ldr         r0,|$LN68@DeviceList| ; =|??_C@_1HA@PHCGCLLJ@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAP?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAI?$AAn?$AAi?$AAt?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi@|
  0013c	4912		 ldr         r1,|$LN66@DeviceList| ; =|??_C@_1CA@CAGDLEBG@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAs?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  0013e	f000 f800	 bl          CeLogMsg
  00142		 |$LN37@DeviceList|

; 162  :                 DeviceListDestroy(pdl);

  00142	4620		 mov         r0,r4
  00144	f000 f800	 bl          DeviceListDestroy
  00148		 |$LN55@DeviceList|
  00148	2400		 movs        r4,#0
  0014a		 |$LN51@DeviceList|

; 173  :         PMLOGMSG(ZONE_WARN, (_T("%s: error during list initialization\r\n"), 
; 174  :             pszFname));

  0014a	f8d7 3460	 ldr         r3,[r7,#0x460]
  0014e	f013 0f02	 tst         r3,#2
  00152	d00e		 beq         |$LN38@DeviceList|
  00154	480d		 ldr         r0,|$LN67@DeviceList| ; =|??_C@_1EO@FIGOIHNC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAd?$AAu?$AAr?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAa@|
  00156	490c		 ldr         r1,|$LN66@DeviceList| ; =|??_C@_1CA@CAGDLEBG@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAs?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  00158	f000 f800	 bl          CeLogMsg

; 175  :         while(gpDeviceLists != NULL) {

  0015c	e009		 b           |$LN38@DeviceList|
  0015e		 |$LN5@DeviceList|

; 163  :             } else {
; 164  :                 pdl->pNext = gpDeviceLists;

  0015e	6833		 ldr         r3,[r6]

; 165  :                 gpDeviceLists = pdl;
; 166  :                 fOk = TRUE;

  00160	2501		 movs        r5,#1
  00162	6163		 str         r3,[r4,#0x14]
  00164	6034		 str         r4,[r6]

; 167  :             }
; 168  :         }
; 169  :     }
; 170  : 
; 171  :     // clean up if necessary
; 172  :     if(!fOk) {

  00166	e007		 b           |$LN1@DeviceList|
  00168		 |$LL2@DeviceList|

; 176  :             pdl = gpDeviceLists;
; 177  :             gpDeviceLists = pdl->pNext;

  00168	6943		 ldr         r3,[r0,#0x14]
  0016a	6033		 str         r3,[r6]

; 178  :             pdl->pNext = NULL;

  0016c	6144		 str         r4,[r0,#0x14]

; 179  :             DeviceListDestroy(pdl);

  0016e	f000 f800	 bl          DeviceListDestroy
  00172		 |$LN38@DeviceList|

; 175  :         while(gpDeviceLists != NULL) {

  00172	6830		 ldr         r0,[r6]
  00174	2800		 cmp         r0,#0
  00176	d1f7		 bne         |$LL2@DeviceList|
  00178		 |$LN1@DeviceList|

; 180  :         }
; 181  :     }
; 182  : 
; 183  :     return fOk;
; 184  : }

  00178	4628		 mov         r0,r5
  0017a		 |$M64|
  0017a	f20d 2d38	 addw        sp,sp,#0x238
  0017e	f000 f800	 bl          __security_pop_cookie
  00182	e8bd 8ff0	 pop         {r4-r11,pc}
  00186		 |$LN78@DeviceList|
  00186		 |$M79|
  00186	defe		 __debugbreak
  00188		 |$LN65@DeviceList|
  00188		 |$LN66@DeviceList|
  00188	0000 0000	 DCD         |??_C@_1CA@CAGDLEBG@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAs?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  0018c		 |$LN67@DeviceList|
  0018c	0000 0000	 DCD         |??_C@_1EO@FIGOIHNC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAd?$AAu?$AAr?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAa@|
  00190		 |$LN68@DeviceList|
  00190	0000 0000	 DCD         |??_C@_1HA@PHCGCLLJ@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAP?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAI?$AAn?$AAi?$AAt?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi@|
  00194		 |$LN69@DeviceList|
  00194	0000 0000	 DCD         |??_C@_1EM@FNHBJNHN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAP?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAI?$AAn?$AAi?$AAt?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi@|
  00198		 |$LN70@DeviceList|
  00198	0000 0000	 DCD         |??_C@_1EA@IPLGNFH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  0019c		 |$LN71@DeviceList|
  0019c	0000 0000	 DCD         |??_C@_1GC@HMMKDNKJ@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAf?$AAa?$AAu?$AAl?$AAt?$AA?5?$AAG?$AAU?$AAI?$AAD?$AA?5?$AAf?$AAo?$AAu?$AAn?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAr?$AAe?$AAg?$AAi?$AAs?$AAt@|
  001a0		 |$LN72@DeviceList|
  001a0	0000 0000	 DCD         |??_C@_1EC@OJCNELMO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAt?$AAo?$AA?5?$AAG?$AAU?$AAI?$AAD?$AA?$AN?$AA?6@|
  001a4		 |$LN73@DeviceList|
  001a4	0000 0000	 DCD         |??_C@_1EE@DAMLNPFA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAt?$AAy?$AAp?$AAe?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAv?$AAa?$AAl?$AAu?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN@|
  001a8		 |$LN74@DeviceList|
  001a8	0000 0000	 DCD         |idGenericPMDeviceClass|
  001ac		 |$LN75@DeviceList|
  001ac	0000 0000	 DCD         |gpDeviceLists|
  001b0		 |$LN76@DeviceList|
  001b0	0000 0000	 DCD         |??_C@_1BM@OBHJEKIL@?$AA?$CF?$AAs?$AA?2?$AAI?$AAn?$AAt?$AAe?$AAr?$AAf?$AAa?$AAc?$AAe?$AAs?$AA?$AA@|
  001b4		 |$LN77@DeviceList|
  001b4	0000 0000	 DCD         |??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@|
  001b8		 |$M62|

			 ENDP  ; |?DeviceListsInit@@YAHXZ|, DeviceListsInit

	EXPORT	|??_C@_1M@LFABOLDL@?$AA?$CL?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1O@NDNKNHPJ@?$AAP?$AAm?$AAI?$AAn?$AAi?$AAt?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FM@CIIPHLJM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAs?$AAh?$AAu@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FK@KDNBKLHB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAP?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAP?$AAM?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr?$AAy?$AA?$CI?$AA?$CJ@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DC@OOKIINAM@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?1?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AAR?$AAe?$AAa?$AAd?$AAy?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DK@HMANBMPF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAu?$AAr?$AAe?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DM@GDOFDLJI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAu?$AAr?$AAe?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EI@OEHMKAOO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAu?$AAr@| [ DATA ] ; `string'
	EXPORT	|??_C@_1HA@PHFPGFKF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAW?$AAa?$AAi?$AAt?$AAF?$AAo?$AAr?$AAM?$AAu?$AAl?$AAt?$AAi?$AAp?$AAl?$AAe?$AAO?$AAb?$AAj?$AAe?$AAc?$AAt?$AAs?$AA?$CI?$AA?$CJ?$AA?5?$AAr?$AAe?$AAt@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EK@MHHINMNC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAy?$AAs?$AAt?$AAe?$AAm?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAu@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FG@LNDLJJOC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAy?$AAs?$AAt?$AAe?$AAm?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAa?$AAt?$AAi?$AAo?$AAn@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DO@JOHFJEDC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAP?$AAn?$AAP?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EE@OMMAAAMF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAr?$AAe?$AAs?$AAu?$AAm?$AAe?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?$AN@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EE@CIFABHGF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAs?$AAy?$AAs?$AAt?$AAe?$AAm?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?$AN@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FG@OCCOMIBI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAa?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AA?5?$AAt?$AAi?$AAm?$AAe?$AAr@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CM@JOGFCBGM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAl?$AAo?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAh?$AAa?$AAn?$AAd?$AAl?$AAe?$AAs?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CI@JMHLNJN@?$AA?9?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|PmInit|
	IMPORT	|InitializeCriticalSection|
	IMPORT	|GetProcessHeap|
	IMPORT	|CreateEventW|
	IMPORT	|PlatformValidatePMRegistry|
	IMPORT	|PnpThreadProc|
	IMPORT	|CreateThread|
	IMPORT	|ResumeThreadProc|
	IMPORT	|ActivityTimersThreadProc|
	IMPORT	|WaitForMultipleObjects|
	IMPORT	|GetLastError|
	IMPORT	|?PMExt_Init@@YAHXZ|			; PMExt_Init
	IMPORT	|SystemThreadProc|
	IMPORT	|PmSetSystemPowerState|
	IMPORT	|?PMExt_DeInit@@YAHXZ|			; PMExt_DeInit
	IMPORT	|WaitForSingleObject|
	IMPORT	|CloseHandle|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$PmInit| DCD imagerel |$LN83@PmInit|
	DCD	0x37607e5

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CI@JMHLNJN@?$AA?9?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@| DCB "-"
	DCB	0x0, "%", 0x0, "s", 0x0, ":", 0x0, " ", 0x0, "r", 0x0, "e"
	DCB	0x0, "t", 0x0, "u", 0x0, "r", 0x0, "n", 0x0, "i", 0x0, "n"
	DCB	0x0, "g", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CM@JOGFCBGM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAl?$AAo?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAh?$AAa?$AAn?$AAd?$AAl?$AAe?$AAs?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "c", 0x0, "l", 0x0, "o"
	DCB	0x0, "s", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "h"
	DCB	0x0, "a", 0x0, "n", 0x0, "d", 0x0, "l", 0x0, "e", 0x0, "s"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FG@OCCOMIBI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAa?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AA?5?$AAt?$AAi?$AAm?$AAe?$AAr@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "s", 0x0, "h", 0x0, "u"
	DCB	0x0, "t", 0x0, "t", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " "
	DCB	0x0, "d", 0x0, "o", 0x0, "w", 0x0, "n", 0x0, " ", 0x0, "a"
	DCB	0x0, "c", 0x0, "t", 0x0, "i", 0x0, "v", 0x0, "i", 0x0, "t"
	DCB	0x0, "y", 0x0, " ", 0x0, "t", 0x0, "i", 0x0, "m", 0x0, "e"
	DCB	0x0, "r", 0x0, "s", 0x0, " ", 0x0, "t", 0x0, "h", 0x0, "r"
	DCB	0x0, "e", 0x0, "a", 0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EE@CIFABHGF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAs?$AAy?$AAs?$AAt?$AAe?$AAm?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?$AN@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "s", 0x0, "h", 0x0, "u"
	DCB	0x0, "t", 0x0, "t", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " "
	DCB	0x0, "d", 0x0, "o", 0x0, "w", 0x0, "n", 0x0, " ", 0x0, "s"
	DCB	0x0, "y", 0x0, "s", 0x0, "t", 0x0, "e", 0x0, "m", 0x0, " "
	DCB	0x0, "t", 0x0, "h", 0x0, "r", 0x0, "e", 0x0, "a", 0x0, "d"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EE@OMMAAAMF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAr?$AAe?$AAs?$AAu?$AAm?$AAe?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?$AN@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "s", 0x0, "h", 0x0, "u"
	DCB	0x0, "t", 0x0, "t", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " "
	DCB	0x0, "d", 0x0, "o", 0x0, "w", 0x0, "n", 0x0, " ", 0x0, "r"
	DCB	0x0, "e", 0x0, "s", 0x0, "u", 0x0, "m", 0x0, "e", 0x0, " "
	DCB	0x0, "t", 0x0, "h", 0x0, "r", 0x0, "e", 0x0, "a", 0x0, "d"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DO@JOHFJEDC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAP?$AAn?$AAP?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "s", 0x0, "h", 0x0, "u"
	DCB	0x0, "t", 0x0, "t", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " "
	DCB	0x0, "d", 0x0, "o", 0x0, "w", 0x0, "n", 0x0, " ", 0x0, "P"
	DCB	0x0, "n", 0x0, "P", 0x0, " ", 0x0, "t", 0x0, "h", 0x0, "r"
	DCB	0x0, "e", 0x0, "a", 0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FG@LNDLJJOC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAy?$AAs?$AAt?$AAe?$AAm?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAa?$AAt?$AAi?$AAo?$AAn@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "s", 0x0, "y", 0x0, "s"
	DCB	0x0, "t", 0x0, "e", 0x0, "m", 0x0, " ", 0x0, "t", 0x0, "h"
	DCB	0x0, "r", 0x0, "e", 0x0, "a", 0x0, "d", 0x0, " ", 0x0, "i"
	DCB	0x0, "n", 0x0, "i", 0x0, "t", 0x0, "i", 0x0, "a", 0x0, "l"
	DCB	0x0, "i", 0x0, "z", 0x0, "a", 0x0, "t", 0x0, "i", 0x0, "o"
	DCB	0x0, "n", 0x0, " ", 0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l"
	DCB	0x0, "u", 0x0, "r", 0x0, "e", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EK@MHHINMNC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAy?$AAs?$AAt?$AAe?$AAm?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAu@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "s", 0x0, "y", 0x0, "s"
	DCB	0x0, "t", 0x0, "e", 0x0, "m", 0x0, " ", 0x0, "t", 0x0, "h"
	DCB	0x0, "r", 0x0, "e", 0x0, "a", 0x0, "d", 0x0, " ", 0x0, "c"
	DCB	0x0, "r", 0x0, "e", 0x0, "a", 0x0, "t", 0x0, "i", 0x0, "o"
	DCB	0x0, "n", 0x0, " ", 0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l"
	DCB	0x0, "u", 0x0, "r", 0x0, "e", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HA@PHFPGFKF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAW?$AAa?$AAi?$AAt?$AAF?$AAo?$AAr?$AAM?$AAu?$AAl?$AAt?$AAi?$AAp?$AAl?$AAe?$AAO?$AAb?$AAj?$AAe?$AAc?$AAt?$AAs?$AA?$CI?$AA?$CJ?$AA?5?$AAr?$AAe?$AAt@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "W", 0x0, "a", 0x0, "i"
	DCB	0x0, "t", 0x0, "F", 0x0, "o", 0x0, "r", 0x0, "M", 0x0, "u"
	DCB	0x0, "l", 0x0, "t", 0x0, "i", 0x0, "p", 0x0, "l", 0x0, "e"
	DCB	0x0, "O", 0x0, "b", 0x0, "j", 0x0, "e", 0x0, "c", 0x0, "t"
	DCB	0x0, "s", 0x0, "(", 0x0, ")", 0x0, " ", 0x0, "r", 0x0, "e"
	DCB	0x0, "t", 0x0, "u", 0x0, "r", 0x0, "n", 0x0, "d", 0x0, " "
	DCB	0x0, "%", 0x0, "d", 0x0, ",", 0x0, " ", 0x0, "s", 0x0, "t"
	DCB	0x0, "a", 0x0, "t", 0x0, "u", 0x0, "s", 0x0, " ", 0x0, "i"
	DCB	0x0, "s", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EI@OEHMKAOO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAu?$AAr@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "t", 0x0, "h", 0x0, "r"
	DCB	0x0, "e", 0x0, "a", 0x0, "d", 0x0, " ", 0x0, "i", 0x0, "n"
	DCB	0x0, "i", 0x0, "t", 0x0, "i", 0x0, "a", 0x0, "l", 0x0, "i"
	DCB	0x0, "z", 0x0, "a", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, " ", 0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "u"
	DCB	0x0, "r", 0x0, "e", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DM@GDOFDLJI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAu?$AAr?$AAe?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "t", 0x0, "h", 0x0, "r"
	DCB	0x0, "e", 0x0, "a", 0x0, "d", 0x0, " ", 0x0, "c", 0x0, "r"
	DCB	0x0, "e", 0x0, "a", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, " ", 0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "u"
	DCB	0x0, "r", 0x0, "e", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DK@HMANBMPF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAu?$AAr?$AAe?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "v", 0x0, "e"
	DCB	0x0, "n", 0x0, "t", 0x0, " ", 0x0, "c", 0x0, "r", 0x0, "e"
	DCB	0x0, "a", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n", 0x0, " "
	DCB	0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "u", 0x0, "r"
	DCB	0x0, "e", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DC@OOKIINAM@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?1?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AAR?$AAe?$AAa?$AAd?$AAy?$AA?$AA@| DCB "S"
	DCB	0x0, "Y", 0x0, "S", 0x0, "T", 0x0, "E", 0x0, "M", 0x0, "/"
	DCB	0x0, "P", 0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "M"
	DCB	0x0, "a", 0x0, "n", 0x0, "a", 0x0, "g", 0x0, "e", 0x0, "r"
	DCB	0x0, "R", 0x0, "e", 0x0, "a", 0x0, "d", 0x0, "y", 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FK@KDNBKLHB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAP?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAP?$AAM?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr?$AAy?$AA?$CI?$AA?$CJ@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "P", 0x0, "l", 0x0, "a"
	DCB	0x0, "t", 0x0, "f", 0x0, "o", 0x0, "r", 0x0, "m", 0x0, "V"
	DCB	0x0, "a", 0x0, "l", 0x0, "i", 0x0, "d", 0x0, "a", 0x0, "t"
	DCB	0x0, "e", 0x0, "P", 0x0, "M", 0x0, "R", 0x0, "e", 0x0, "g"
	DCB	0x0, "i", 0x0, "s", 0x0, "t", 0x0, "r", 0x0, "y", 0x0, "("
	DCB	0x0, ")", 0x0, " ", 0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l"
	DCB	0x0, "e", 0x0, "d", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FM@CIIPHLJM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAs?$AAh?$AAu@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "C", 0x0, "r", 0x0, "e"
	DCB	0x0, "a", 0x0, "t", 0x0, "e", 0x0, "E", 0x0, "v", 0x0, "e"
	DCB	0x0, "n", 0x0, "t", 0x0, "(", 0x0, ")", 0x0, " ", 0x0, "f"
	DCB	0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, " "
	DCB	0x0, "f", 0x0, "o", 0x0, "r", 0x0, " ", 0x0, "s", 0x0, "h"
	DCB	0x0, "u", 0x0, "t", 0x0, "d", 0x0, "o", 0x0, "w", 0x0, "n"
	DCB	0x0, " ", 0x0, "e", 0x0, "v", 0x0, "e", 0x0, "n", 0x0, "t"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1O@NDNKNHPJ@?$AAP?$AAm?$AAI?$AAn?$AAi?$AAt?$AA?$AA@| DCB "P", 0x0, "m"
	DCB	0x0, "I", 0x0, "n", 0x0, "i", 0x0, "t", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1M@LFABOLDL@?$AA?$CL?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@| DCB "+", 0x0
	DCB	"%", 0x0, "s", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pminit.cpp
; File c:\wince800\public\common\sdk\inc\kfuncs.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pminit.cpp
; File c:\wince800\public\common\sdk\inc\kfuncs.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pminit.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |PmInit| PROC

; 191  : {

  00000		 |$LN83@PmInit|
  00000	e92d 4ff0	 push        {r4-r11,lr}
  00004	f20d 0b1c	 addw        r11,sp,#0x1C
  00008	b08d		 sub         sp,sp,#0x34
  0000a		 |$M81|

; 192  :     BOOL fOk = TRUE;
; 193  :     HANDLE hevPnPReady = NULL, hevResumeReady = NULL, hevSystemReady = NULL;
; 194  :     HANDLE hevActivityTimersReady = NULL, hevDummy = NULL;
; 195  :     SETFNAME(_T("PmInit"));
; 196  : 
; 197  :     PMLOGMSG(ZONE_INIT || ZONE_API, (_T("+%s\r\n"), pszFname));

  0000a	f8df 6440	 ldr         r6,|$LN108@PmInit|	; =|dpCurSettings|
  0000e	2300		 movs        r3,#0
  00010	9302		 str         r3,[sp,#8]
  00012	f8d6 3440	 ldr         r3,[r6,#0x440]
  00016	2700		 movs        r7,#0
  00018	f04f 0a00	 mov         r10,#0
  0001c	f04f 0800	 mov         r8,#0
  00020	f04f 0900	 mov         r9,#0
  00024	f013 0f04	 tst         r3,#4
  00028	9703		 str         r7,[sp,#0xC]
  0002a	d102		 bne         |$LN40@PmInit|
  0002c	f413 6f00	 tst         r3,#0x800
  00030	d005		 beq         |$LN41@PmInit|
  00032		 |$LN40@PmInit|
  00032	f8df 0414	 ldr         r0,|$LN107@PmInit|	; =|??_C@_1M@LFABOLDL@?$AA?$CL?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@|
  00036	f8df 13bc	 ldr.w       r1,|$LN86@PmInit|	; =|??_C@_1O@NDNKNHPJ@?$AAP?$AAm?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  0003a	f000 f800	 bl          CeLogMsg
  0003e		 |$LN41@PmInit|

; 198  : 
; 199  :     // set up globals
; 200  :     InitializeCriticalSection(&gcsPowerManager);

  0003e	f8df 4404	 ldr         r4,|$LN106@PmInit|	; =|ghevTimerResume|
  00042	f114 002c	 adds        r0,r4,#0x2C
  00046	f000 f800	 bl          InitializeCriticalSection

; 201  :     InitializeCriticalSection(&gcsDeviceUpdateAPIs);

  0004a	f114 0048	 adds        r0,r4,#0x48
  0004e	f000 f800	 bl          InitializeCriticalSection

; 202  :     gpFloorDx = NULL;

  00052	2300		 movs        r3,#0
  00054	61e3		 str         r3,[r4,#0x1C]

; 203  :     gpCeilingDx = NULL;

  00056	62a3		 str         r3,[r4,#0x28]

; 204  :     gpPowerNotifications = NULL;

  00058	61a3		 str         r3,[r4,#0x18]

; 205  :     gpSystemPowerState = NULL;

  0005a	6623		 str         r3,[r4,#0x60]

; 206  :     ghPmHeap = GetProcessHeap();

  0005c	f000 f800	 bl          GetProcessHeap
  00060	6260		 str         r0,[r4,#0x24]

; 207  :     gpDeviceLists = NULL;

  00062	2300		 movs        r3,#0

; 208  :     gppActivityTimers = NULL;
; 209  :     ghevPowerManagerReady = NULL;
; 210  :     ghevResume = NULL;
; 211  :     ghevTimerResume = NULL;
; 212  :     ghtPnP = NULL;
; 213  :     ghtResume = NULL;
; 214  :     ghtActivityTimers = NULL;
; 215  :     ghtSystem = NULL;
; 216  : 
; 217  :     // cleanup event (hopefully never used)
; 218  :     ghevPmShutdown = CreateEvent(NULL, TRUE, FALSE, NULL);

  00064	2000		 movs        r0,#0
  00066	2200		 movs        r2,#0
  00068	2101		 movs        r1,#1
  0006a	6463		 str         r3,[r4,#0x44]
  0006c	60e3		 str         r3,[r4,#0xC]
  0006e	6223		 str         r3,[r4,#0x20]
  00070	6423		 str         r3,[r4,#0x40]
  00072	6023		 str         r3,[r4]
  00074	6123		 str         r3,[r4,#0x10]
  00076	6663		 str         r3,[r4,#0x64]
  00078	65e3		 str         r3,[r4,#0x5C]
  0007a	6163		 str         r3,[r4,#0x14]
  0007c	f000 f800	 bl          CreateEventW
  00080	6060		 str         r0,[r4,#4]

; 219  :     if(ghevPmShutdown == NULL) {

  00082	b940		 cbnz        r0,|$LN77@PmInit|

; 220  :         PMLOGMSG(ZONE_ERROR, (_T("%s: CreateEvent() failed for shutdown event\r\n"), pszFname));

  00084	f8d6 3440	 ldr         r3,[r6,#0x440]
  00088	f013 0f01	 tst         r3,#1
  0008c	f000 809e	 beq         |$LN48@PmInit|
  00090	f8df 03ac	 ldr.w       r0,|$LN105@PmInit|	; =|??_C@_1FM@CIIPHLJM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAs?$AAh?$AAu@|

; 221  :         fOk = FALSE;
; 222  :     } 
; 223  : 
; 224  :     // validate the power management registry settings.  OEM code should use this
; 225  :     // routine to make sure that registry settings are present for all the power
; 226  :     // states they expect to support.  If the registry is not configured, the OEM
; 227  :     // code can treat it as a fatal error or perform its own initialization.
; 228  :     if(fOk) {

  00094	e097		 b           |$LN79@PmInit|
  00096		 |$LN77@PmInit|

; 229  : 		//RETAILMSG(1,(TEXT("DEBUG : PlatformValidatePMRegistry\r\n")));
; 230  :         DWORD dwStatus = PlatformValidatePMRegistry();

  00096	f000 f800	 bl          PlatformValidatePMRegistry
  0009a	4602		 mov         r2,r0

; 231  :         if(dwStatus != ERROR_SUCCESS) {

  0009c	b162		 cbz         r2,|$LN35@PmInit|

; 232  : 			//RETAILMSG(1,(TEXT("DEBUG : PlatformValidatePMRegistry error\r\n")));
; 233  :             PMLOGMSG(ZONE_ERROR, (_T("%s: PlatformValidatePMRegistry() failed %d\r\n"), 
; 234  :                 pszFname, dwStatus));

  0009e	f8d6 3440	 ldr         r3,[r6,#0x440]
  000a2	f013 0f01	 tst         r3,#1
  000a6	f000 8091	 beq         |$LN48@PmInit|
  000aa	f8df 0390	 ldr.w       r0,|$LN104@PmInit|	; =|??_C@_1FK@KDNBKLHB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAP?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAP?$AAM?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr?$AAy?$AA?$CI?$AA?$CJ@|
  000ae	f8df 1344	 ldr.w       r1,|$LN86@PmInit|	; =|??_C@_1O@NDNKNHPJ@?$AAP?$AAm?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  000b2	f000 f800	 bl          CeLogMsg

; 235  :             fOk = FALSE;
; 236  :         } else {

  000b6	e089		 b           |$LN48@PmInit|
  000b8		 |$LN35@PmInit|

; 237  : 			//RETAILMSG(1,(TEXT("DEBUG : DeviceListsInit\r\n")));
; 238  :             // read the list of interface types we will monitor
; 239  :             fOk = DeviceListsInit();

  000b8	f000 f800	 bl          |?DeviceListsInit@@YAHXZ|
  000bc	4605		 mov         r5,r0

; 240  :         }
; 241  :     }
; 242  : 
; 243  :     // create events
; 244  :     if(fOk) {

  000be	2d00		 cmp         r5,#0
  000c0	f000 8085	 beq         |$LN78@PmInit|

; 245  :         ghevPowerManagerReady = CreateEvent(NULL, TRUE, FALSE, _T("SYSTEM/PowerManagerReady"));

  000c4	f8df 3370	 ldr.w       r3,|$LN103@PmInit|	; =|??_C@_1DC@OOKIINAM@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?1?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AAR?$AAe?$AAa?$AAd?$AAy?$AA?$AA@|
  000c8	2200		 movs        r2,#0
  000ca	2101		 movs        r1,#1
  000cc	2000		 movs        r0,#0
  000ce	f000 f800	 bl          CreateEventW
  000d2	6220		 str         r0,[r4,#0x20]

; 246  :         ghevResume = CreateEvent(NULL, FALSE, FALSE, NULL);

  000d4	2000		 movs        r0,#0
  000d6	2300		 movs        r3,#0
  000d8	2200		 movs        r2,#0
  000da	2100		 movs        r1,#0
  000dc	f000 f800	 bl          CreateEventW
  000e0	6420		 str         r0,[r4,#0x40]

; 247  :         ghevTimerResume = CreateEvent(NULL, FALSE, FALSE, NULL);

  000e2	2000		 movs        r0,#0
  000e4	2300		 movs        r3,#0
  000e6	2200		 movs        r2,#0
  000e8	2100		 movs        r1,#0
  000ea	f000 f800	 bl          CreateEventW
  000ee	6020		 str         r0,[r4]

; 248  :         hevPnPReady = CreateEvent(NULL, FALSE, FALSE, NULL);

  000f0	2000		 movs        r0,#0
  000f2	2300		 movs        r3,#0
  000f4	2200		 movs        r2,#0
  000f6	2100		 movs        r1,#0
  000f8	f000 f800	 bl          CreateEventW
  000fc	4607		 mov         r7,r0

; 249  :         hevResumeReady = CreateEvent(NULL, FALSE, FALSE, NULL);

  000fe	2000		 movs        r0,#0
  00100	2300		 movs        r3,#0
  00102	2200		 movs        r2,#0
  00104	2100		 movs        r1,#0
  00106	9703		 str         r7,[sp,#0xC]
  00108	f000 f800	 bl          CreateEventW
  0010c	4682		 mov         r10,r0

; 250  :         hevSystemReady = CreateEvent(NULL, FALSE, FALSE, NULL);

  0010e	2000		 movs        r0,#0
  00110	2300		 movs        r3,#0
  00112	2200		 movs        r2,#0
  00114	2100		 movs        r1,#0
  00116	f000 f800	 bl          CreateEventW
  0011a	4680		 mov         r8,r0

; 251  :         hevActivityTimersReady = CreateEvent(NULL, FALSE, FALSE, NULL);

  0011c	2000		 movs        r0,#0
  0011e	2300		 movs        r3,#0
  00120	2200		 movs        r2,#0
  00122	2100		 movs        r1,#0
  00124	f000 f800	 bl          CreateEventW
  00128	4681		 mov         r9,r0

; 252  :         hevDummy = CreateEvent(NULL, FALSE, FALSE, NULL);

  0012a	2000		 movs        r0,#0
  0012c	2300		 movs        r3,#0
  0012e	2200		 movs        r2,#0
  00130	2100		 movs        r1,#0
  00132	f000 f800	 bl          CreateEventW
  00136	4603		 mov         r3,r0
  00138	9302		 str         r3,[sp,#8]

; 253  : 
; 254  :         // check everything
; 255  :         if(hevPnPReady == NULL
; 256  :         || hevResumeReady == NULL 
; 257  :         || hevSystemReady == NULL
; 258  :         || hevActivityTimersReady == NULL
; 259  :         || hevDummy == NULL
; 260  :         || ghevPowerManagerReady == NULL
; 261  :         || ghevTimerResume == NULL
; 262  :         || ghevResume == NULL) {

  0013a	b17f		 cbz         r7,|$LN31@PmInit|
  0013c	f1ba 0f00	 cmp         r10,#0
  00140	d00c		 beq         |$LN31@PmInit|
  00142	f1b8 0f00	 cmp         r8,#0
  00146	d009		 beq         |$LN31@PmInit|
  00148	f1b9 0f00	 cmp         r9,#0
  0014c	d006		 beq         |$LN31@PmInit|
  0014e	b12b		 cbz         r3,|$LN31@PmInit|
  00150	6a23		 ldr         r3,[r4,#0x20]
  00152	b11b		 cbz         r3,|$LN31@PmInit|
  00154	6823		 ldr         r3,[r4]
  00156	b10b		 cbz         r3,|$LN31@PmInit|
  00158	6c23		 ldr         r3,[r4,#0x40]
  0015a	b94b		 cbnz        r3,|$LN32@PmInit|
  0015c		 |$LN31@PmInit|

; 263  :             PMLOGMSG(ZONE_ERROR, (_T("%s: event creation failure\r\n"), pszFname));

  0015c	f8d6 3440	 ldr         r3,[r6,#0x440]
  00160	f013 0f01	 tst         r3,#1
  00164	d003		 beq         |$LN46@PmInit|
  00166	48b3		 ldr         r0,|$LN102@PmInit|	; =|??_C@_1DK@HMANBMPF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAu?$AAr?$AAe?$AA?$AN?$AA?6?$AA?$AA@|
  00168	49a2		 ldr         r1,|$LN86@PmInit|	; =|??_C@_1O@NDNKNHPJ@?$AAP?$AAm?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  0016a	f000 f800	 bl          CeLogMsg
  0016e		 |$LN46@PmInit|

; 264  :             fOk = FALSE;

  0016e	2500		 movs        r5,#0
  00170		 |$LN32@PmInit|

; 265  :         }
; 266  :     }
; 267  : 
; 268  :     // start threads
; 269  :     if(fOk) {

  00170	b36d		 cbz         r5,|$LN78@PmInit|

; 270  :         ghtPnP = CreateThread(NULL, 0, PnpThreadProc, (LPVOID) hevPnPReady, 0, NULL);

  00172	4aaf		 ldr         r2,|$LN101@PmInit|	; =|PnpThreadProc|
  00174	2300		 movs        r3,#0
  00176	9301		 str         r3,[sp,#4]
  00178	9300		 str         r3,[sp]
  0017a	463b		 mov         r3,r7
  0017c	2100		 movs        r1,#0
  0017e	2000		 movs        r0,#0
  00180	f000 f800	 bl          CreateThread

; 271  :         ghtResume = CreateThread(NULL, 0, ResumeThreadProc, (LPVOID) hevResumeReady, 0, NULL);

  00184	4aa9		 ldr         r2,|$LN100@PmInit|	; =|ResumeThreadProc|
  00186	2300		 movs        r3,#0
  00188	9301		 str         r3,[sp,#4]
  0018a	9300		 str         r3,[sp]
  0018c	6120		 str         r0,[r4,#0x10]
  0018e	4653		 mov         r3,r10
  00190	2100		 movs        r1,#0
  00192	2000		 movs        r0,#0
  00194	f000 f800	 bl          CreateThread

; 272  :         ghtActivityTimers = CreateThread(NULL, 0, ActivityTimersThreadProc, 
; 273  :             (LPVOID) hevActivityTimersReady, 0, NULL);

  00198	4aa3		 ldr         r2,|$LN99@PmInit|	; =|ActivityTimersThreadProc|
  0019a	2300		 movs        r3,#0
  0019c	9301		 str         r3,[sp,#4]
  0019e	9300		 str         r3,[sp]
  001a0	6660		 str         r0,[r4,#0x64]
  001a2	464b		 mov         r3,r9
  001a4	2100		 movs        r1,#0
  001a6	2000		 movs        r0,#0
  001a8	f000 f800	 bl          CreateThread
  001ac	6923		 ldr         r3,[r4,#0x10]
  001ae	65e0		 str         r0,[r4,#0x5C]

; 274  :         
; 275  :         // check everything
; 276  :         if(ghtPnP == NULL 
; 277  :         || ghtResume == NULL 
; 278  :         || ghtActivityTimers == NULL) {

  001b0	b11b		 cbz         r3,|$LN28@PmInit|
  001b2	6e63		 ldr         r3,[r4,#0x64]
  001b4	b10b		 cbz         r3,|$LN28@PmInit|
  001b6	4603		 mov         r3,r0
  001b8	b94b		 cbnz        r3,|$LN78@PmInit|
  001ba		 |$LN28@PmInit|

; 279  :             PMLOGMSG(ZONE_ERROR, (_T("%s: thread creation failure\r\n"), pszFname));

  001ba	f8d6 3440	 ldr         r3,[r6,#0x440]
  001be	f013 0f01	 tst         r3,#1
  001c2	d003		 beq         |$LN48@PmInit|
  001c4	4897		 ldr         r0,|$LN98@PmInit|	; =|??_C@_1DM@GDOFDLJI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAu?$AAr?$AAe?$AA?$AN?$AA?6?$AA?$AA@|
  001c6		 |$LN79@PmInit|
  001c6	498b		 ldr         r1,|$LN86@PmInit|	; =|??_C@_1O@NDNKNHPJ@?$AAP?$AAm?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  001c8	f000 f800	 bl          CeLogMsg
  001cc		 |$LN48@PmInit|

; 280  :             fOk = FALSE;

  001cc	2500		 movs        r5,#0
  001ce		 |$LN78@PmInit|

; 221  :         fOk = FALSE;
; 222  :     } 
; 223  : 
; 224  :     // validate the power management registry settings.  OEM code should use this
; 225  :     // routine to make sure that registry settings are present for all the power
; 226  :     // states they expect to support.  If the registry is not configured, the OEM
; 227  :     // code can treat it as a fatal error or perform its own initialization.
; 228  :     if(fOk) {

  001ce	6923		 ldr         r3,[r4,#0x10]

; 281  :         }
; 282  :     }
; 283  : 
; 284  :     // wait for threads to initialize (or fail to initialize)
; 285  :     #define NUM_OF_READY_EXIT_PAIR 3
; 286  :     HANDLE hEvents[] = { hevPnPReady, hevResumeReady, hevActivityTimersReady, 

  001d0	9706		 str         r7,[sp,#0x18]
  001d2	f8cd a01c	 str         r10,[sp,#0x1C]

; 287  :         ghtPnP, ghtResume, ghtActivityTimers };

  001d6	9309		 str         r3,[sp,#0x24]
  001d8	6e63		 ldr         r3,[r4,#0x64]
  001da	f8cd 9020	 str         r9,[sp,#0x20]

; 288  :     int iReady = 0;

  001de	2700		 movs        r7,#0
  001e0	930a		 str         r3,[sp,#0x28]
  001e2	6de3		 ldr         r3,[r4,#0x5C]
  001e4	930b		 str         r3,[sp,#0x2C]
  001e6		 |$LL27@PmInit|

; 289  :     while( iReady < NUM_OF_READY_EXIT_PAIR  && fOk) {

  001e6	2d00		 cmp         r5,#0
  001e8	d065		 beq         |$LN16@PmInit|

; 290  :         DWORD dwStatus = WaitForMultipleObjects(_countof(hEvents), hEvents, FALSE, INFINITE);

  001ea	f06f 0300	 mvn         r3,#0
  001ee	2200		 movs        r2,#0
  001f0	a906		 add         r1,sp,#0x18
  001f2	2006		 movs        r0,#6
  001f4	f000 f800	 bl          WaitForMultipleObjects

; 291  :         switch(dwStatus) {

  001f8	2802		 cmp         r0,#2
  001fa	d917		 bls         |$LN23@PmInit|

; 300  :             break;
; 301  : 
; 302  :         // thread exiting events
; 303  :         case (WAIT_OBJECT_0 + 3):   // pnp exited
; 304  :         case (WAIT_OBJECT_0 + 4):   // resume exited
; 305  :         case (WAIT_OBJECT_0 + 5):   // activity timers exited
; 306  :             PMLOGMSG(ZONE_ERROR, (_T("%s: thread initialization failure\r\n"), pszFname));

  001fc	f8d6 3440	 ldr         r3,[r6,#0x440]
  00200	2805		 cmp         r0,#5
  00202	d808		 bhi         |$LN21@PmInit|
  00204	f013 0f01	 tst         r3,#1
  00208	d003		 beq         |$LN50@PmInit|
  0020a	497a		 ldr         r1,|$LN86@PmInit|	; =|??_C@_1O@NDNKNHPJ@?$AAP?$AAm?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  0020c	4884		 ldr         r0,|$LN97@PmInit|	; =|??_C@_1EI@OEHMKAOO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAu?$AAr@|
  0020e	f000 f800	 bl          CeLogMsg
  00212		 |$LN50@PmInit|

; 307  :             fOk = FALSE;

  00212	2500		 movs        r5,#0

; 308  :             break;

  00214	e010		 b           |$LN24@PmInit|
  00216		 |$LN21@PmInit|

; 309  :         default:
; 310  :             PMLOGMSG(ZONE_ERROR, (_T("%s: WaitForMultipleObjects() returnd %d, status is %d\r\n"),
; 311  :                 pszFname, GetLastError()));

  00216	f013 0f01	 tst         r3,#1
  0021a	d0fa		 beq         |$LN50@PmInit|
  0021c	f000 f800	 bl          GetLastError
  00220	4974		 ldr         r1,|$LN86@PmInit|	; =|??_C@_1O@NDNKNHPJ@?$AAP?$AAm?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  00222	4602		 mov         r2,r0
  00224	487d		 ldr         r0,|$LN96@PmInit|	; =|??_C@_1HA@PHFPGFKF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAW?$AAa?$AAi?$AAt?$AAF?$AAo?$AAr?$AAM?$AAu?$AAl?$AAt?$AAi?$AAp?$AAl?$AAe?$AAO?$AAb?$AAj?$AAe?$AAc?$AAt?$AAs?$AA?$CI?$AA?$CJ?$AA?5?$AAr?$AAe?$AAt@|
  00226	f000 f800	 bl          CeLogMsg

; 312  :             fOk = FALSE;

  0022a	e7f2		 b           |$LN50@PmInit|
  0022c		 |$LN23@PmInit|

; 292  :         // thread ready events
; 293  :         case (WAIT_OBJECT_0 + 0):   // pnp ready
; 294  :         case (WAIT_OBJECT_0 + 1):   // resume ready
; 295  :         case (WAIT_OBJECT_0 + 2):   // activity timers ready
; 296  :             // don't watch for the thread exiting now -- some may do
; 297  :             // so if they don't have work to do.
; 298  :             hEvents[dwStatus - WAIT_OBJECT_0 + NUM_OF_READY_EXIT_PAIR] = hevDummy;

  0022c	9a02		 ldr         r2,[sp,#8]
  0022e	ab06		 add         r3,sp,#0x18
  00230	eb03 0380	 add         r3,r3,r0,lsl #2
  00234	60da		 str         r2,[r3,#0xC]

; 299  :             iReady++;

  00236	3701		 adds        r7,#1
  00238		 |$LN24@PmInit|

; 289  :     while( iReady < NUM_OF_READY_EXIT_PAIR  && fOk) {

  00238	2f03		 cmp         r7,#3
  0023a	dbd4		 blt         |$LL27@PmInit|

; 313  :             break;
; 314  :         }
; 315  :     }
; 316  : 
; 317  :     if (fOk) {

  0023c	b3dd		 cbz         r5,|$LN16@PmInit|

; 318  :         fOk = PMExt_Init();

  0023e	f000 f800	 bl          |?PMExt_Init@@YAHXZ|
  00242	4605		 mov         r5,r0

; 319  :     }
; 320  :     // if everything is initialized, we're ready start the system thread
; 321  :     if(fOk) {

  00244	b3bd		 cbz         r5,|$LN16@PmInit|

; 322  :         // check that the thread started
; 323  :         ghtSystem = CreateThread(NULL, 0, SystemThreadProc, (LPVOID) hevSystemReady, 0, NULL);

  00246	4a74		 ldr         r2,|$LN95@PmInit|	; =|SystemThreadProc|
  00248	2300		 movs        r3,#0
  0024a	9301		 str         r3,[sp,#4]
  0024c	9300		 str         r3,[sp]
  0024e	4643		 mov         r3,r8
  00250	2100		 movs        r1,#0
  00252	2000		 movs        r0,#0
  00254	f000 f800	 bl          CreateThread
  00258	6160		 str         r0,[r4,#0x14]

; 324  :         if(ghtSystem == NULL) {

  0025a	b950		 cbnz        r0,|$LN18@PmInit|

; 325  :             PMLOGMSG(ZONE_ERROR, (_T("%s: system thread creation failure\r\n"), pszFname));

  0025c	f8d6 3440	 ldr         r3,[r6,#0x440]
  00260	f013 0f01	 tst         r3,#1
  00264	d004		 beq         |$LN54@PmInit|
  00266	486b		 ldr         r0,|$LN94@PmInit|	; =|??_C@_1EK@MHHINMNC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAy?$AAs?$AAt?$AAe?$AAm?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAu@|
  00268	4962		 ldr         r1,|$LN86@PmInit|	; =|??_C@_1O@NDNKNHPJ@?$AAP?$AAm?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  0026a	f000 f800	 bl          CeLogMsg
  0026e	6960		 ldr         r0,[r4,#0x14]
  00270		 |$LN54@PmInit|

; 326  :             fOk = FALSE;

  00270	2500		 movs        r5,#0
  00272		 |$LN18@PmInit|

; 327  :         }
; 328  :         
; 329  :         // wait for it to initialize or exit
; 330  :         HANDLE hSystemEvents[] = { hevSystemReady, ghtSystem };

  00272	9005		 str         r0,[sp,#0x14]

; 331  :         DWORD dwStatus = WaitForMultipleObjects(_countof(hSystemEvents), hSystemEvents, FALSE, INFINITE);

  00274	2002		 movs        r0,#2
  00276	a904		 add         r1,sp,#0x10
  00278	f06f 0300	 mvn         r3,#0
  0027c	2200		 movs        r2,#0
  0027e	f8cd 8010	 str         r8,[sp,#0x10]
  00282	f000 f800	 bl          WaitForMultipleObjects

; 332  :         if(dwStatus != WAIT_OBJECT_0) {

  00286	b148		 cbz         r0,|$LN17@PmInit|

; 333  :             PMLOGMSG(ZONE_ERROR, (_T("%s: system thread initialization failure\r\n"), pszFname));

  00288	f8d6 3440	 ldr         r3,[r6,#0x440]
  0028c	f013 0f01	 tst         r3,#1
  00290	d003		 beq         |$LN56@PmInit|
  00292	485f		 ldr         r0,|$LN93@PmInit|	; =|??_C@_1FG@LNDLJJOC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAy?$AAs?$AAt?$AAe?$AAm?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAa?$AAt?$AAi?$AAo?$AAn@|
  00294	4957		 ldr         r1,|$LN86@PmInit|	; =|??_C@_1O@NDNKNHPJ@?$AAP?$AAm?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  00296	f000 f800	 bl          CeLogMsg
  0029a		 |$LN56@PmInit|

; 334  :             fOk = FALSE;

  0029a	2500		 movs        r5,#0
  0029c		 |$LN17@PmInit|

; 335  :         }
; 336  :     } 
; 337  :     
; 338  :     // should we signal that our API is ready?
; 339  :     if(fOk) {

  0029c	b15d		 cbz         r5,|$LN16@PmInit|

; 340  :         // yes, the PM is initialized
; 341  :         PmSetSystemPowerState(NULL, POWER_STATE_ON, POWER_FORCE);

  0029e	f44f 5280	 mov         r2,#0x1000
  002a2	f44f 3180	 mov         r1,#0x10000
  002a6	2000		 movs        r0,#0
  002a8	f000 f800	 bl          PmSetSystemPowerState
; File c:\wince800\public\common\sdk\inc\kfuncs.h

; 244  :     return EventModify(h,EVENT_SET);

  002ac	6a20		 ldr         r0,[r4,#0x20]
  002ae	2103		 movs        r1,#3
  002b0	f000 f800	 bl          EventModify
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pminit.cpp

; 343  :     } else {

  002b4	e06b		 b           |$LN6@PmInit|
  002b6		 |$LN16@PmInit|

; 344  :         // no, clean up
; 345  :         if(ghevPmShutdown != NULL) {

  002b6	6860		 ldr         r0,[r4,#4]
  002b8	b110		 cbz         r0,|$LN73@PmInit|
; File c:\wince800\public\common\sdk\inc\kfuncs.h

; 244  :     return EventModify(h,EVENT_SET);

  002ba	2103		 movs        r1,#3
  002bc	f000 f800	 bl          EventModify
  002c0		 |$LN73@PmInit|
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pminit.cpp

; 349  :         PMExt_DeInit();

  002c0	f000 f800	 bl          |?PMExt_DeInit@@YAHXZ|

; 350  : 
; 351  :         // wait for threads to exit
; 352  :         if(ghtPnP != NULL) {

  002c4	6920		 ldr         r0,[r4,#0x10]
  002c6	b180		 cbz         r0,|$LN13@PmInit|

; 353  :             PMLOGMSG(ZONE_ERROR, (_T("%s: shutting down PnP thread\r\n"), pszFname));

  002c8	f8d6 3440	 ldr         r3,[r6,#0x440]
  002cc	f013 0f01	 tst         r3,#1
  002d0	d004		 beq         |$LN58@PmInit|
  002d2	484e		 ldr         r0,|$LN92@PmInit|	; =|??_C@_1DO@JOHFJEDC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAP?$AAn?$AAP?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  002d4	4947		 ldr         r1,|$LN86@PmInit|	; =|??_C@_1O@NDNKNHPJ@?$AAP?$AAm?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  002d6	f000 f800	 bl          CeLogMsg
  002da	6920		 ldr         r0,[r4,#0x10]
  002dc		 |$LN58@PmInit|

; 354  :             WaitForSingleObject(ghtPnP, INFINITE);

  002dc	f06f 0100	 mvn         r1,#0
  002e0	f000 f800	 bl          WaitForSingleObject

; 355  :             CloseHandle(ghtPnP);

  002e4	6920		 ldr         r0,[r4,#0x10]
  002e6	f000 f800	 bl          CloseHandle
  002ea		 |$LN13@PmInit|

; 356  :         }
; 357  :         if(ghtResume != NULL) {

  002ea	6e60		 ldr         r0,[r4,#0x64]
  002ec	b180		 cbz         r0,|$LN12@PmInit|

; 358  :             PMLOGMSG(ZONE_ERROR, (_T("%s: shutting down resume thread\r\n"), pszFname));

  002ee	f8d6 3440	 ldr         r3,[r6,#0x440]
  002f2	f013 0f01	 tst         r3,#1
  002f6	d004		 beq         |$LN60@PmInit|
  002f8	4843		 ldr         r0,|$LN91@PmInit|	; =|??_C@_1EE@OMMAAAMF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAr?$AAe?$AAs?$AAu?$AAm?$AAe?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?$AN@|
  002fa	493e		 ldr         r1,|$LN86@PmInit|	; =|??_C@_1O@NDNKNHPJ@?$AAP?$AAm?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  002fc	f000 f800	 bl          CeLogMsg
  00300	6e60		 ldr         r0,[r4,#0x64]
  00302		 |$LN60@PmInit|

; 359  :             WaitForSingleObject(ghtResume, INFINITE);

  00302	f06f 0100	 mvn         r1,#0
  00306	f000 f800	 bl          WaitForSingleObject

; 360  :             CloseHandle(ghtResume);

  0030a	6e60		 ldr         r0,[r4,#0x64]
  0030c	f000 f800	 bl          CloseHandle
  00310		 |$LN12@PmInit|

; 361  :         }
; 362  :         if(ghtSystem != NULL) {

  00310	6960		 ldr         r0,[r4,#0x14]
  00312	b180		 cbz         r0,|$LN11@PmInit|

; 363  :             PMLOGMSG(ZONE_ERROR, (_T("%s: shutting down system thread\r\n"), pszFname));

  00314	f8d6 3440	 ldr         r3,[r6,#0x440]
  00318	f013 0f01	 tst         r3,#1
  0031c	d004		 beq         |$LN62@PmInit|
  0031e	4839		 ldr         r0,|$LN90@PmInit|	; =|??_C@_1EE@CIFABHGF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAs?$AAy?$AAs?$AAt?$AAe?$AAm?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?$AN@|
  00320	4934		 ldr         r1,|$LN86@PmInit|	; =|??_C@_1O@NDNKNHPJ@?$AAP?$AAm?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  00322	f000 f800	 bl          CeLogMsg
  00326	6960		 ldr         r0,[r4,#0x14]
  00328		 |$LN62@PmInit|

; 364  :             WaitForSingleObject(ghtSystem, INFINITE);

  00328	f06f 0100	 mvn         r1,#0
  0032c	f000 f800	 bl          WaitForSingleObject

; 365  :             CloseHandle(ghtSystem);

  00330	6960		 ldr         r0,[r4,#0x14]
  00332	f000 f800	 bl          CloseHandle
  00336		 |$LN11@PmInit|

; 366  :         }
; 367  :         if(ghtActivityTimers != NULL) {

  00336	6de0		 ldr         r0,[r4,#0x5C]
  00338	b180		 cbz         r0,|$LN10@PmInit|

; 368  :             PMLOGMSG(ZONE_ERROR, (_T("%s: shutting down activity timers thread\r\n"), pszFname));

  0033a	f8d6 3440	 ldr         r3,[r6,#0x440]
  0033e	f013 0f01	 tst         r3,#1
  00342	d004		 beq         |$LN64@PmInit|
  00344	482e		 ldr         r0,|$LN89@PmInit|	; =|??_C@_1FG@OCCOMIBI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAa?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AA?5?$AAt?$AAi?$AAm?$AAe?$AAr@|
  00346	492b		 ldr         r1,|$LN86@PmInit|	; =|??_C@_1O@NDNKNHPJ@?$AAP?$AAm?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  00348	f000 f800	 bl          CeLogMsg
  0034c	6de0		 ldr         r0,[r4,#0x5C]
  0034e		 |$LN64@PmInit|

; 369  :             WaitForSingleObject(ghtActivityTimers, INFINITE);

  0034e	f06f 0100	 mvn         r1,#0
  00352	f000 f800	 bl          WaitForSingleObject

; 370  :             CloseHandle(ghtActivityTimers);

  00356	6de0		 ldr         r0,[r4,#0x5C]
  00358	f000 f800	 bl          CloseHandle
  0035c		 |$LN10@PmInit|

; 371  :         }
; 372  : 
; 373  :         PMLOGMSG(ZONE_ERROR, (_T("%s: closing handles\r\n"), pszFname));

  0035c	f8d6 3440	 ldr         r3,[r6,#0x440]
  00360	f013 0f01	 tst         r3,#1
  00364	d003		 beq         |$LN66@PmInit|
  00366	4825		 ldr         r0,|$LN88@PmInit|	; =|??_C@_1CM@JOGFCBGM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAl?$AAo?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAh?$AAa?$AAn?$AAd?$AAl?$AAe?$AAs?$AA?$AN?$AA?6?$AA?$AA@|
  00368	4922		 ldr         r1,|$LN86@PmInit|	; =|??_C@_1O@NDNKNHPJ@?$AAP?$AAm?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  0036a	f000 f800	 bl          CeLogMsg
  0036e		 |$LN66@PmInit|

; 374  :         if(ghevPmShutdown != NULL) CloseHandle(ghevPmShutdown);

  0036e	6860		 ldr         r0,[r4,#4]
  00370	b108		 cbz         r0,|$LN9@PmInit|
  00372	f000 f800	 bl          CloseHandle
  00376		 |$LN9@PmInit|

; 375  :         if(ghevPowerManagerReady != NULL) CloseHandle(ghevPowerManagerReady);

  00376	6a20		 ldr         r0,[r4,#0x20]
  00378	b108		 cbz         r0,|$LN8@PmInit|
  0037a	f000 f800	 bl          CloseHandle
  0037e		 |$LN8@PmInit|

; 376  :         if(ghevResume != NULL) CloseHandle(ghevResume);

  0037e	6c20		 ldr         r0,[r4,#0x40]
  00380	b108		 cbz         r0,|$LN7@PmInit|
  00382	f000 f800	 bl          CloseHandle
  00386		 |$LN7@PmInit|

; 377  :         if(ghevTimerResume != NULL) CloseHandle(ghevTimerResume);

  00386	6820		 ldr         r0,[r4]
  00388	b108		 cbz         r0,|$LN6@PmInit|
  0038a	f000 f800	 bl          CloseHandle
  0038e		 |$LN6@PmInit|

; 378  :     }
; 379  : 
; 380  :     // clean up status handles
; 381  :     if(hevPnPReady != NULL) CloseHandle(hevPnPReady);

  0038e	9803		 ldr         r0,[sp,#0xC]
  00390	b108		 cbz         r0,|$LN5@PmInit|
  00392	f000 f800	 bl          CloseHandle
  00396		 |$LN5@PmInit|

; 382  :     if(hevResumeReady != NULL) CloseHandle(hevResumeReady);

  00396	f1ba 0f00	 cmp         r10,#0
  0039a	d002		 beq         |$LN4@PmInit|
  0039c	4650		 mov         r0,r10
  0039e	f000 f800	 bl          CloseHandle
  003a2		 |$LN4@PmInit|

; 383  :     if(hevSystemReady != NULL) CloseHandle(hevSystemReady);

  003a2	f1b8 0f00	 cmp         r8,#0
  003a6	d002		 beq         |$LN3@PmInit|
  003a8	4640		 mov         r0,r8
  003aa	f000 f800	 bl          CloseHandle
  003ae		 |$LN3@PmInit|

; 384  :     if(hevActivityTimersReady != NULL) CloseHandle(hevActivityTimersReady);

  003ae	f1b9 0f00	 cmp         r9,#0
  003b2	d002		 beq         |$LN2@PmInit|
  003b4	4648		 mov         r0,r9
  003b6	f000 f800	 bl          CloseHandle
  003ba		 |$LN2@PmInit|

; 385  :     if(hevDummy != NULL) CloseHandle(hevDummy);

  003ba	9b02		 ldr         r3,[sp,#8]
  003bc	b113		 cbz         r3,|$LN1@PmInit|
  003be	4618		 mov         r0,r3
  003c0	f000 f800	 bl          CloseHandle
  003c4		 |$LN1@PmInit|

; 386  : 
; 387  :     PMLOGMSG((!fOk && ZONE_ERROR) || ZONE_INIT || ZONE_API, 
; 388  :         (_T("-%s: returning %d\r\n"), pszFname, fOk));

  003c4	b925		 cbnz        r5,|$LN68@PmInit|
  003c6	f8d6 3440	 ldr         r3,[r6,#0x440]
  003ca	f013 0f01	 tst         r3,#1
  003ce	d107		 bne         |$LN69@PmInit|
  003d0		 |$LN68@PmInit|

; 343  :     } else {

  003d0	f8d6 3440	 ldr         r3,[r6,#0x440]

; 386  : 
; 387  :     PMLOGMSG((!fOk && ZONE_ERROR) || ZONE_INIT || ZONE_API, 
; 388  :         (_T("-%s: returning %d\r\n"), pszFname, fOk));

  003d4	f013 0f04	 tst         r3,#4
  003d8	d102		 bne         |$LN69@PmInit|
  003da	f413 6f00	 tst         r3,#0x800
  003de	d004		 beq         |$LN70@PmInit|
  003e0		 |$LN69@PmInit|
  003e0	4805		 ldr         r0,|$LN87@PmInit|	; =|??_C@_1CI@JMHLNJN@?$AA?9?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  003e2	4904		 ldr         r1,|$LN86@PmInit|	; =|??_C@_1O@NDNKNHPJ@?$AAP?$AAm?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  003e4	462a		 mov         r2,r5
  003e6	f000 f800	 bl          CeLogMsg
  003ea		 |$LN70@PmInit|

; 389  : 
; 390  :     DEBUGCHK(fOk);      // make sure we raise a red flag if the init fails
; 391  : 
; 392  :     return fOk;
; 393  : }

  003ea	4628		 mov         r0,r5
  003ec		 |$M84|
  003ec	b00d		 add         sp,sp,#0x34
  003ee	e8bd 8ff0	 pop         {r4-r11,pc}
  003f2		 |$LN109@PmInit|
  003f2		 |$M110|
  003f2	defe		 __debugbreak
  003f4		 |$LN85@PmInit|
  003f4		 |$LN86@PmInit|
  003f4	0000 0000	 DCD         |??_C@_1O@NDNKNHPJ@?$AAP?$AAm?$AAI?$AAn?$AAi?$AAt?$AA?$AA@|
  003f8		 |$LN87@PmInit|
  003f8	0000 0000	 DCD         |??_C@_1CI@JMHLNJN@?$AA?9?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  003fc		 |$LN88@PmInit|
  003fc	0000 0000	 DCD         |??_C@_1CM@JOGFCBGM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAl?$AAo?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAh?$AAa?$AAn?$AAd?$AAl?$AAe?$AAs?$AA?$AN?$AA?6?$AA?$AA@|
  00400		 |$LN89@PmInit|
  00400	0000 0000	 DCD         |??_C@_1FG@OCCOMIBI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAa?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AA?5?$AAt?$AAi?$AAm?$AAe?$AAr@|
  00404		 |$LN90@PmInit|
  00404	0000 0000	 DCD         |??_C@_1EE@CIFABHGF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAs?$AAy?$AAs?$AAt?$AAe?$AAm?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?$AN@|
  00408		 |$LN91@PmInit|
  00408	0000 0000	 DCD         |??_C@_1EE@OMMAAAMF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAr?$AAe?$AAs?$AAu?$AAm?$AAe?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?$AN@|
  0040c		 |$LN92@PmInit|
  0040c	0000 0000	 DCD         |??_C@_1DO@JOHFJEDC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAP?$AAn?$AAP?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  00410		 |$LN93@PmInit|
  00410	0000 0000	 DCD         |??_C@_1FG@LNDLJJOC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAy?$AAs?$AAt?$AAe?$AAm?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAa?$AAt?$AAi?$AAo?$AAn@|
  00414		 |$LN94@PmInit|
  00414	0000 0000	 DCD         |??_C@_1EK@MHHINMNC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAy?$AAs?$AAt?$AAe?$AAm?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAu@|
  00418		 |$LN95@PmInit|
  00418	0000 0000	 DCD         |SystemThreadProc|
  0041c		 |$LN96@PmInit|
  0041c	0000 0000	 DCD         |??_C@_1HA@PHFPGFKF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAW?$AAa?$AAi?$AAt?$AAF?$AAo?$AAr?$AAM?$AAu?$AAl?$AAt?$AAi?$AAp?$AAl?$AAe?$AAO?$AAb?$AAj?$AAe?$AAc?$AAt?$AAs?$AA?$CI?$AA?$CJ?$AA?5?$AAr?$AAe?$AAt@|
  00420		 |$LN97@PmInit|
  00420	0000 0000	 DCD         |??_C@_1EI@OEHMKAOO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAu?$AAr@|
  00424		 |$LN98@PmInit|
  00424	0000 0000	 DCD         |??_C@_1DM@GDOFDLJI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAu?$AAr?$AAe?$AA?$AN?$AA?6?$AA?$AA@|
  00428		 |$LN99@PmInit|
  00428	0000 0000	 DCD         |ActivityTimersThreadProc|
  0042c		 |$LN100@PmInit|
  0042c	0000 0000	 DCD         |ResumeThreadProc|
  00430		 |$LN101@PmInit|
  00430	0000 0000	 DCD         |PnpThreadProc|
  00434		 |$LN102@PmInit|
  00434	0000 0000	 DCD         |??_C@_1DK@HMANBMPF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAu?$AAr?$AAe?$AA?$AN?$AA?6?$AA?$AA@|
  00438		 |$LN103@PmInit|
  00438	0000 0000	 DCD         |??_C@_1DC@OOKIINAM@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?1?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AAR?$AAe?$AAa?$AAd?$AAy?$AA?$AA@|
  0043c		 |$LN104@PmInit|
  0043c	0000 0000	 DCD         |??_C@_1FK@KDNBKLHB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAP?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AAV?$AAa?$AAl?$AAi?$AAd?$AAa?$AAt?$AAe?$AAP?$AAM?$AAR?$AAe?$AAg?$AAi?$AAs?$AAt?$AAr?$AAy?$AA?$CI?$AA?$CJ@|
  00440		 |$LN105@PmInit|
  00440	0000 0000	 DCD         |??_C@_1FM@CIIPHLJM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AAE?$AAv?$AAe?$AAn?$AAt?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAs?$AAh?$AAu@|
  00444		 |$LN106@PmInit|
  00444	0000 0000	 DCD         |ghevTimerResume|
  00448		 |$LN107@PmInit|
  00448	0000 0000	 DCD         |??_C@_1M@LFABOLDL@?$AA?$CL?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@|
  0044c		 |$LN108@PmInit|
  0044c	0000 0000	 DCD         |dpCurSettings|
  00450		 |$M82|

			 ENDP  ; |PmInit|

	END
