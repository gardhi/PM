; Listing generated by Microsoft (R) Optimizing Compiler Version 17.00.50727.114 

	TTL	C:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp
	THUMB

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|?IsEqualGUID@@YAHABU_GUID@@0@Z|	; IsEqualGUID
	IMPORT	|memcmp|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?IsEqualGUID@@YAHABU_GUID@@0@Z| DCD imagerel |$LN8@IsEqualGUI|
	DCD	0x3f6031
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\guiddef.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?IsEqualGUID@@YAHABU_GUID@@0@Z| PROC	; IsEqualGUID

; 149  : {

  00000		 |$LN8@IsEqualGUI|
  00000	e92d 4800	 push        {r11,lr}
  00004	46eb		 mov         r11,sp
  00006		 |$M6|

; 150  :     return !memcmp(&rguid1, &rguid2, sizeof(GUID));

  00006	2210		 movs        r2,#0x10
  00008	f000 f800	 bl          memcmp
  0000c	b908		 cbnz        r0,|$LN3@IsEqualGUI|
  0000e	2001		 movs        r0,#1
  00010	e000		 b           |$LN4@IsEqualGUI|
  00012		 |$LN3@IsEqualGUI|
  00012	2000		 movs        r0,#0
  00014		 |$LN4@IsEqualGUI|
  00014		 |$M9|

; 151  : }

  00014	e8bd 8800	 pop         {r11,pc}
  00018		 |$M7|

			 ENDP  ; |?IsEqualGUID@@YAHABU_GUID@@0@Z|, IsEqualGUID

	IMPORT	|__security_push_cookie|
	IMPORT	|__security_pop_cookie|
	IMPORT	|__GSHandlerCheck|
	IMPORT	|StringCchVPrintfW|
	IMPORT	|StringCchLengthW|
	IMPORT	|CeLogData|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$CeLogMsg| DCD imagerel |$LN8@CeLogMsg|
	DCD	imagerel |$unwind2$CeLogMsg|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$CeLogMsg| DCD 0x44b00032
	DCD	0x1e889e8
	DCD	0x400a8fb
	DCD	0x8801e8ff
	DCD	0xff05ef00
	DCD	imagerel |__GSHandlerCheck|
	DCD	0xffffffe5
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\celog.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |CeLogMsg| PROC

; 1208 : {

  00000		 |$LN8@CeLogMsg|
  00000	b40f		 push        {r0-r3}
  00002	e92d 4800	 push        {r11,lr}
  00006	46eb		 mov         r11,sp
  00008	f000 f800	 bl          __security_push_cookie
  0000c	f2ad 2d24	 subw        sp,sp,#0x224
  00010		 |$M6|
  00010	4602		 mov         r2,r0

; 1209 :     va_list arglist;
; 1210 :     WCHAR   szTemp[MAX_PATH];
; 1211 :     size_t  cchLen;
; 1212 :     HRESULT hr;
; 1213 : 
; 1214 :     // Compose a single string using the input args
; 1215 :     va_start(arglist, szFormat);
; 1216 :     hr = StringCchVPrintfW(szTemp, MAX_PATH, szFormat, arglist);

  00012	a806		 add         r0,sp,#0x18
  00014	ab8d		 add         r3,sp,#0x234
  00016	f44f 7182	 mov         r1,#0x104
  0001a	928c		 str         r2,[sp,#0x230]
  0001c	f000 f800	 bl          StringCchVPrintfW

; 1217 :     if (SUCCEEDED(hr)) {

  00020	2800		 cmp         r0,#0
  00022	db17		 blt         |$LN1@CeLogMsg|

; 1218 :         hr = StringCchLengthW(szTemp, MAX_PATH, &cchLen);

  00024	aa04		 add         r2,sp,#0x10
  00026	a806		 add         r0,sp,#0x18
  00028	f44f 7182	 mov         r1,#0x104
  0002c	f000 f800	 bl          StringCchLengthW

; 1219 :         if (SUCCEEDED(hr)) {

  00030	2800		 cmp         r0,#0
  00032	db0f		 blt         |$LN1@CeLogMsg|

; 1220 :             CeLogData(TRUE, CELID_RAW_WCHAR, szTemp, (WORD)((cchLen + 1) * sizeof(WCHAR)),
; 1221 :                       0, CELZONE_ALWAYSON, 0, FALSE);

  00034	f04f 4380	 mov         r3,#0x40000000
  00038	9301		 str         r3,[sp,#4]
  0003a	9b04		 ldr         r3,[sp,#0x10]
  0003c	2200		 movs        r2,#0
  0003e	9203		 str         r2,[sp,#0xC]
  00040	3301		 adds        r3,#1
  00042	005b		 lsls        r3,r3,#1
  00044	9202		 str         r2,[sp,#8]
  00046	9200		 str         r2,[sp]
  00048	aa06		 add         r2,sp,#0x18
  0004a	214a		 movs        r1,#0x4A
  0004c	b29b		 uxth        r3,r3
  0004e	2001		 movs        r0,#1
  00050	f000 f800	 bl          CeLogData
  00054		 |$LN1@CeLogMsg|
  00054		 |$M9|

; 1222 :         }
; 1223 :     }
; 1224 : }

  00054	f20d 2d24	 addw        sp,sp,#0x224
  00058	f000 f800	 bl          __security_pop_cookie
  0005c	f85d bb04	 pop         {r11}
  00060	f85d fb14	 ldr         pc,[sp],#0x14
  00064		 |$M7|

			 ENDP  ; |CeLogMsg|

	EXPORT	|PmLock|
	IMPORT	|gcsPowerManager|
	IMPORT	|EnterCriticalSection|
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |PmLock| PROC

; 93   :     EnterCriticalSection(&gcsPowerManager);

  00000	4801		 ldr         r0,|$LN6@PmLock|	; =|gcsPowerManager|
  00002		 |$M4|
  00002	f000 9000	 b           EnterCriticalSection
  00006		 |$LN7@PmLock|
  00006		 |$M8|
  00006	defe		 __debugbreak
  00008		 |$LN5@PmLock|
  00008		 |$LN6@PmLock|
  00008	0000 0000	 DCD         |gcsPowerManager|

			 ENDP  ; |PmLock|

	EXPORT	|PmUnlock|
	IMPORT	|LeaveCriticalSection|
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |PmUnlock| PROC

; 100  :     LeaveCriticalSection(&gcsPowerManager);

  00000	4801		 ldr         r0,|$LN6@PmUnlock|	; =|gcsPowerManager|
  00002		 |$M4|
  00002	f000 9000	 b           LeaveCriticalSection
  00006		 |$LN7@PmUnlock|
  00006		 |$M8|
  00006	defe		 __debugbreak
  00008		 |$LN5@PmUnlock|
  00008		 |$LN6@PmUnlock|
  00008	0000 0000	 DCD         |gcsPowerManager|

			 ENDP  ; |PmUnlock|

	EXPORT	|PmEnterUpdate|
	IMPORT	|gcsDeviceUpdateAPIs|
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |PmEnterUpdate| PROC

; 107  :     EnterCriticalSection(&gcsDeviceUpdateAPIs);

  00000	4801		 ldr         r0,|$LN6@PmEnterUpd| ; =|gcsDeviceUpdateAPIs|
  00002		 |$M4|
  00002	f000 9000	 b           EnterCriticalSection
  00006		 |$LN7@PmEnterUpd|
  00006		 |$M8|
  00006	defe		 __debugbreak
  00008		 |$LN5@PmEnterUpd|
  00008		 |$LN6@PmEnterUpd|
  00008	0000 0000	 DCD         |gcsDeviceUpdateAPIs|

			 ENDP  ; |PmEnterUpdate|

	EXPORT	|PmLeaveUpdate|
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |PmLeaveUpdate| PROC

; 114  :     LeaveCriticalSection(&gcsDeviceUpdateAPIs);

  00000	4801		 ldr         r0,|$LN6@PmLeaveUpd| ; =|gcsDeviceUpdateAPIs|
  00002		 |$M4|
  00002	f000 9000	 b           LeaveCriticalSection
  00006		 |$LN7@PmLeaveUpd|
  00006		 |$M8|
  00006	defe		 __debugbreak
  00008		 |$LN5@PmLeaveUpd|
  00008		 |$LN6@PmLeaveUpd|
  00008	0000 0000	 DCD         |gcsDeviceUpdateAPIs|

			 ENDP  ; |PmLeaveUpdate|


  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?HexStringToDword@@YAHAAPBGAAKHG@Z| DCD imagerel |$LN23@HexStringT|
	DCD	0x3360ed
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?HexStringToDword@@YAHAAPBGAAKHG@Z| PROC ; HexStringToDword

; 212  : {

  00000		 |$LN23@HexStringT|
  00000	e92d 48f0	 push        {r4-r7,r11,lr}
  00004	f20d 0b10	 addw        r11,sp,#0x10
  00008		 |$M21|
  00008	461e		 mov         r6,r3

; 213  :     int Count;
; 214  :     
; 215  :     Value = 0;

  0000a	2300		 movs        r3,#0

; 216  :     for (Count = 0; Count < cDigits; Count++, lpsz++)

  0000c	2700		 movs        r7,#0
  0000e	600b		 str         r3,[r1]
  00010	2a00		 cmp         r2,#0
  00012	dd23		 ble         |$LN9@HexStringT|
  00014		 |$LL11@HexStringT|

; 217  :     {
; 218  :         if (*lpsz >= '0' && *lpsz <= '9')

  00014	6804		 ldr         r4,[r0]
  00016	8825		 ldrh        r5,[r4]
  00018	2d30		 cmp         r5,#0x30
  0001a	d307		 bcc         |$LN8@HexStringT|
  0001c	2d39		 cmp         r5,#0x39
  0001e	d805		 bhi         |$LN8@HexStringT|

; 219  :             Value = (Value << 4) + *lpsz - '0';

  00020	680c		 ldr         r4,[r1]
  00022	eb05 1404	 add         r4,r5,r4,lsl #4
  00026	3c30		 subs        r4,r4,#0x30
  00028	600c		 str         r4,[r1]
  0002a	e011		 b           |$LN10@HexStringT|
  0002c		 |$LN8@HexStringT|

; 220  :         else if (*lpsz >= 'A' && *lpsz <= 'F')

  0002c	2d41		 cmp         r5,#0x41
  0002e	d306		 bcc         |$LN6@HexStringT|
  00030	2d46		 cmp         r5,#0x46
  00032	d804		 bhi         |$LN6@HexStringT|

; 221  :             Value = (Value << 4) + *lpsz - 'A' + 10;

  00034	680b		 ldr         r3,[r1]
  00036	eb05 1303	 add         r3,r5,r3,lsl #4
  0003a	3b37		 subs        r3,r3,#0x37
  0003c	e007		 b           |$LN19@HexStringT|
  0003e		 |$LN6@HexStringT|

; 222  :         else if (*lpsz >= 'a' && *lpsz <= 'f')

  0003e	2d61		 cmp         r5,#0x61
  00040	d317		 bcc         |$LN4@HexStringT|
  00042	2d66		 cmp         r5,#0x66
  00044	d815		 bhi         |$LN4@HexStringT|

; 223  :             Value = (Value << 4) + *lpsz - 'a' + 10;

  00046	680b		 ldr         r3,[r1]
  00048	eb05 1303	 add         r3,r5,r3,lsl #4
  0004c	3b57		 subs        r3,r3,#0x57
  0004e		 |$LN19@HexStringT|
  0004e	600b		 str         r3,[r1]
  00050		 |$LN10@HexStringT|

; 216  :     for (Count = 0; Count < cDigits; Count++, lpsz++)

  00050	6803		 ldr         r3,[r0]
  00052	3701		 adds        r7,#1
  00054	3302		 adds        r3,#2
  00056	6003		 str         r3,[r0]
  00058	4297		 cmp         r7,r2
  0005a	dbdb		 blt         |$LL11@HexStringT|
  0005c		 |$LN9@HexStringT|

; 226  :     }
; 227  :     
; 228  :     if (chDelim != 0)

  0005c	b136		 cbz         r6,|$LN2@HexStringT|

; 229  :         return *lpsz++ == chDelim;

  0005e	6802		 ldr         r2,[r0]
  00060	8813		 ldrh        r3,[r2]
  00062	42b3		 cmp         r3,r6
  00064	f102 0302	 add         r3,r2,#2
  00068	6003		 str         r3,[r0]
  0006a	d102		 bne         |$LN4@HexStringT|
  0006c		 |$LN2@HexStringT|

; 230  :     else
; 231  :         return TRUE;

  0006c	2001		 movs        r0,#1
  0006e		 |$LN1@HexStringT|
  0006e		 |$M24|

; 232  : }

  0006e	e8bd 88f0	 pop         {r4-r7,r11,pc}
  00072		 |$LN4@HexStringT|

; 224  :         else
; 225  :             return(FALSE);

  00072	2000		 movs        r0,#0
  00074	e7fb		 b           |$LN1@HexStringT|
  00076		 |$M22|

			 ENDP  ; |?HexStringToDword@@YAHAAPBGAAKHG@Z|, HexStringToDword

	EXPORT	|??8@YAHABU_GUID@@0@Z|			; operator==

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$??8@YAHABU_GUID@@0@Z| DCD imagerel |$LN10@operator|
	DCD	0x3f6031
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\guiddef.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |??8@YAHABU_GUID@@0@Z| PROC		; operator==

; 183  : {

  00000		 |$LN10@operator|
  00000	e92d 4800	 push        {r11,lr}
  00004	46eb		 mov         r11,sp
  00006		 |$M8|

; 150  :     return !memcmp(&rguid1, &rguid2, sizeof(GUID));

  00006	2210		 movs        r2,#0x10
  00008	f000 f800	 bl          memcmp
  0000c	b908		 cbnz        r0,|$LN5@operator|
  0000e	2001		 movs        r0,#1
  00010	e000		 b           |$LN6@operator|
  00012		 |$LN5@operator|
  00012	2000		 movs        r0,#0
  00014		 |$LN6@operator|
  00014		 |$M11|

; 184  :     return IsEqualGUID(guidOne,guidOther);
; 185  : }

  00014	e8bd 8800	 pop         {r11,pc}
  00018		 |$M9|

			 ENDP  ; |??8@YAHABU_GUID@@0@Z|, operator==

	EXPORT	|??_C@_1EC@JAIMPFEK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAc?$AAa?$AAl?$AAc?$AAu?$AAl?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAi?$AAz?$AAe?$AA?$AN?$AA?6@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BK@HBDDEGID@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAS?$AAi?$AAz?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|DeviceIdSize|
	IMPORT	|wcslen|
	IMPORT	|__C_specific_handler|
	IMPORT	|dpCurSettings|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceIdSize| DCD imagerel |$LN23@DeviceIdSi|
	DCD	imagerel |$unwind2$DeviceIdSize|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$DeviceIdSize| DCD 0x20100026
	DCD	0x9ca8fcc7
	DCD	0xff
	DCD	imagerel |__C_specific_handler|
	DCD	0x1
	DCD	imagerel |$LN15@DeviceIdSi|
	DCD	imagerel |$LN16@DeviceIdSi|
	DCD	0x1
	DCD	imagerel |$LN12@DeviceIdSi|

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BK@HBDDEGID@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAS?$AAi?$AAz?$AAe?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "I"
	DCB	0x0, "d", 0x0, "S", 0x0, "i", 0x0, "z", 0x0, "e", 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EC@JAIMPFEK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAc?$AAa?$AAl?$AAc?$AAu?$AAl?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAi?$AAz?$AAe?$AA?$AN?$AA?6@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "x", 0x0, "c"
	DCB	0x0, "e", 0x0, "p", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, " ", 0x0, "c", 0x0, "a", 0x0, "l", 0x0, "c", 0x0, "u"
	DCB	0x0, "l", 0x0, "a", 0x0, "t", 0x0, "i", 0x0, "n", 0x0, "g"
	DCB	0x0, " ", 0x0, "s", 0x0, "i", 0x0, "z", 0x0, "e", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |DeviceIdSize| PROC

; 339  : {

  00000		 |$LN23@DeviceIdSi|
  00000	e92d 489c	 push        {r2-r4,r7,r11,lr}
  00004	f20d 0b10	 addw        r11,sp,#0x10
  00008	466f		 mov         r7,sp
  0000a		 |$LN21@DeviceIdSi|
  0000a	4604		 mov         r4,r0

; 340  :     DWORD dwSize;
; 341  :     SETFNAME(_T("DeviceIdSize"));
; 342  : 
; 343  :     if(pId != NULL) {

  0000c	b1dc		 cbz         r4,|$LN5@DeviceIdSi|
  0000e		 |$LN15@DeviceIdSi|

; 344  :         // calculate the amount of memory to allocate
; 345  :         __try {
; 346  :             dwSize = sizeof(*pId);

  0000e	2008		 movs        r0,#8
  00010	6038		 str         r0,[r7]

; 347  :             if(pId->pszName != NULL) {

  00012	6863		 ldr         r3,[r4,#4]
  00014	b12b		 cbz         r3,|$LN3@DeviceIdSi|

; 348  :                 dwSize += (_tcslen(pId->pszName) + 1) * sizeof(pId->pszName[0]);

  00016	4618		 mov         r0,r3
  00018	f000 f800	 bl          wcslen
  0001c	1d43		 adds        r3,r0,#5
  0001e	0058		 lsls        r0,r3,#1
  00020	6038		 str         r0,[r7]
  00022		 |$LN3@DeviceIdSi|

; 349  :             }
; 350  :             if(pId->pGuid != NULL) {

  00022	6823		 ldr         r3,[r4]
  00024	b10b		 cbz         r3,|$LN16@DeviceIdSi|

; 351  :                 dwSize += sizeof(GUID);

  00026	3010		 adds        r0,r0,#0x10
  00028	6038		 str         r0,[r7]
  0002a		 |$LN16@DeviceIdSi|

; 352  :             }
; 353  :         }

  0002a	e00d		 b           |$LN1@DeviceIdSi|
  0002c		 |$LN12@DeviceIdSi|
  0002c		 |$LN14@DeviceIdSi|

; 354  :         __except(EXCEPTION_EXECUTE_HANDLER) {
; 355  :             PMLOGMSG(ZONE_WARN, (_T("%s: exception calculating size\r\n"), pszFname));

  0002c	4b09		 ldr         r3,|$LN29@DeviceIdSi| ; =|dpCurSettings|
  0002e	f8d3 3440	 ldr         r3,[r3,#0x440]
  00032	f013 0f02	 tst         r3,#2
  00036	d003		 beq         |$LN8@DeviceIdSi|
  00038	4905		 ldr         r1,|$LN28@DeviceIdSi| ; =|??_C@_1BK@HBDDEGID@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAS?$AAi?$AAz?$AAe?$AA?$AA@|
  0003a	4804		 ldr         r0,|$LN27@DeviceIdSi| ; =|??_C@_1EC@JAIMPFEK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAc?$AAa?$AAl?$AAc?$AAu?$AAl?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAi?$AAz?$AAe?$AA?$AN?$AA?6@|
  0003c	f000 f800	 bl          CeLogMsg
  00040		 |$LN8@DeviceIdSi|

; 356  :             dwSize = 0;;

  00040	2000		 movs        r0,#0
  00042	6038		 str         r0,[r7]
  00044	e000		 b           |$LN1@DeviceIdSi|
  00046		 |$LN5@DeviceIdSi|

; 357  :         }
; 358  :     } else {
; 359  :         dwSize = 0;

  00046	2000		 movs        r0,#0
  00048		 |$LN1@DeviceIdSi|
  00048		 |$M25|

; 360  :     }
; 361  : 
; 362  :     return dwSize;
; 363  : }

  00048	e8bd 889c	 pop         {r2-r4,r7,r11,pc}
  0004c		 |$LN26@DeviceIdSi|
  0004c		 |$LN27@DeviceIdSi|
  0004c	0000 0000	 DCD         |??_C@_1EC@JAIMPFEK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAc?$AAa?$AAl?$AAc?$AAu?$AAl?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAi?$AAz?$AAe?$AA?$AN?$AA?6@|
  00050		 |$LN28@DeviceIdSi|
  00050	0000 0000	 DCD         |??_C@_1BK@HBDDEGID@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAS?$AAi?$AAz?$AAe?$AA?$AA@|
  00054		 |$LN29@DeviceIdSi|
  00054	0000 0000	 DCD         |dpCurSettings|

			 ENDP  ; |DeviceIdSize|

  00058		 |$LN22@DeviceIdSi|
	EXPORT	|??_C@_1CK@LIONPPLD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAf?$AAr?$AAe?$AAe?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1O@JGKCFIJB@?$AAP?$AAm?$AAF?$AAr?$AAe?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EC@HEMEJBJB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAH?$AAe?$AAa?$AAp?$AAF?$AAr?$AAe?$AAe?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6@| [ DATA ] ; `string'
	EXPORT	|PmFree|
	IMPORT	|ghPmHeap|
	IMPORT	|HeapFree|
	IMPORT	|GetLastError|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$PmFree| DCD imagerel |$LN11@PmFree|
	DCD	0xfd3260a1

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EC@HEMEJBJB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAH?$AAe?$AAa?$AAp?$AAF?$AAr?$AAe?$AAe?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "H", 0x0, "e", 0x0, "a"
	DCB	0x0, "p", 0x0, "F", 0x0, "r", 0x0, "e", 0x0, "e", 0x0, "("
	DCB	0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x"
	DCB	0x0, ")", 0x0, " ", 0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l"
	DCB	0x0, "e", 0x0, "d", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1O@JGKCFIJB@?$AAP?$AAm?$AAF?$AAr?$AAe?$AAe?$AA?$AA@| DCB "P", 0x0, "m"
	DCB	0x0, "F", 0x0, "r", 0x0, "e", 0x0, "e", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CK@LIONPPLD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAf?$AAr?$AAe?$AAe?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "f", 0x0, "r", 0x0, "e"
	DCB	0x0, "e", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "0"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |PmFree| PROC

; 176  : {

  00000		 |$LN11@PmFree|
  00000	e92d 4878	 push        {r3-r6,r11,lr}
  00004	f20d 0b10	 addw        r11,sp,#0x10
  00008		 |$M9|

; 177  :     SETFNAME(_T("PmFree"));
; 178  : 
; 179  :     PMLOGMSG(ZONE_ALLOC, (_T("%s: freeing 0x%08x\r\n"), pszFname, pvMemory));

  00008	4d15		 ldr         r5,|$LN18@PmFree|	; =|dpCurSettings|
  0000a	4604		 mov         r4,r0
  0000c	f8d5 3440	 ldr         r3,[r5,#0x440]
  00010	f413 5f80	 tst         r3,#0x1000
  00014	d004		 beq         |$LN4@PmFree|
  00016	4811		 ldr         r0,|$LN17@PmFree|	; =|??_C@_1CK@LIONPPLD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAf?$AAr?$AAe?$AAe?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  00018	490e		 ldr         r1,|$LN15@PmFree|	; =|??_C@_1O@JGKCFIJB@?$AAP?$AAm?$AAF?$AAr?$AAe?$AAe?$AA?$AA@|
  0001a	4622		 mov         r2,r4
  0001c	f000 f800	 bl          CeLogMsg
  00020		 |$LN4@PmFree|

; 180  : 
; 181  :     DEBUGCHK(pvMemory != NULL);
; 182  : 
; 183  : #ifdef DEBUGALLOC
; 184  :     // fill 
; 185  :     if(pvMemory != NULL) {
; 186  :         PDWORD pdwMemory = (PDWORD) ((DWORD) pvMemory - HEAPHEADERSIZE);
; 187  :         DEBUGCHK(pdwMemory[0] == HEAPSIGNATURE && pdwMemory[1] > HEAPHEADERSIZE);
; 188  :         memset(pdwMemory, 0xDD, pdwMemory[1]);
; 189  :         pvMemory = pdwMemory;
; 190  :     }
; 191  : #endif  // DEBUGALLOCl
; 192  : 
; 193  :     BOOL fOk = HeapFree(ghPmHeap, 0, pvMemory);

  00020	4b0d		 ldr         r3,|$LN16@PmFree|	; =|ghPmHeap|
  00022	4622		 mov         r2,r4
  00024	2100		 movs        r1,#0
  00026	6818		 ldr         r0,[r3]
  00028	f000 f800	 bl          HeapFree
  0002c	4606		 mov         r6,r0

; 194  :     if(!fOk) {

  0002e	b966		 cbnz        r6,|$LN6@PmFree|

; 195  :         PMLOGMSG(ZONE_WARN, (_T("%s: HeapFree(0x%08x) failed %d\r\n"), pszFname,
; 196  :             pvMemory, GetLastError()));

  00030	f8d5 3440	 ldr         r3,[r5,#0x440]
  00034	f013 0f02	 tst         r3,#2
  00038	d007		 beq         |$LN6@PmFree|
  0003a	f000 f800	 bl          GetLastError
  0003e	4905		 ldr         r1,|$LN15@PmFree|	; =|??_C@_1O@JGKCFIJB@?$AAP?$AAm?$AAF?$AAr?$AAe?$AAe?$AA?$AA@|
  00040	4603		 mov         r3,r0
  00042	4803		 ldr         r0,|$LN14@PmFree|	; =|??_C@_1EC@HEMEJBJB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAH?$AAe?$AAa?$AAp?$AAF?$AAr?$AAe?$AAe?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6@|
  00044	4622		 mov         r2,r4
  00046	f000 f800	 bl          CeLogMsg
  0004a		 |$LN6@PmFree|

; 197  :     }
; 198  : #ifdef DEBUG
; 199  :     else {
; 200  :         InterlockedDecrement(&glTotalObjects);
; 201  :         DEBUGCHK(glTotalObjects >= 0);
; 202  :     }
; 203  : #endif  // DEBUG
; 204  :     return fOk;
; 205  : }

  0004a	4630		 mov         r0,r6
  0004c		 |$M12|
  0004c	e8bd 8878	 pop         {r3-r6,r11,pc}
  00050		 |$LN13@PmFree|
  00050		 |$LN14@PmFree|
  00050	0000 0000	 DCD         |??_C@_1EC@HEMEJBJB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAH?$AAe?$AAa?$AAp?$AAF?$AAr?$AAe?$AAe?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6@|
  00054		 |$LN15@PmFree|
  00054	0000 0000	 DCD         |??_C@_1O@JGKCFIJB@?$AAP?$AAm?$AAF?$AAr?$AAe?$AAe?$AA?$AA@|
  00058		 |$LN16@PmFree|
  00058	0000 0000	 DCD         |ghPmHeap|
  0005c		 |$LN17@PmFree|
  0005c	0000 0000	 DCD         |??_C@_1CK@LIONPPLD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAf?$AAr?$AAe?$AAe?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  00060		 |$LN18@PmFree|
  00060	0000 0000	 DCD         |dpCurSettings|
  00064		 |$M10|

			 ENDP  ; |PmFree|

	EXPORT	|??_C@_1DM@MIMNLNGK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAH?$AAe?$AAa?$AAp?$AAA?$AAl?$AAl?$AAo?$AAc?$AA?$CI?$AA?$CF?$AAd?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BA@NHFCMMEL@?$AAP?$AAm?$AAA?$AAl?$AAl?$AAo?$AAc?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EK@MBDJHLOB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AA?5?$AA?$CF?$AAd?$AA?5?$AAb?$AAy?$AAt?$AAe?$AAs?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAe?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0@| [ DATA ] ; `string'
	EXPORT	|PmAlloc|
	IMPORT	|HeapAlloc|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$PmAlloc| DCD imagerel |$LN12@PmAlloc|
	DCD	0xfd3260a5

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EK@MBDJHLOB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AA?5?$AA?$CF?$AAd?$AA?5?$AAb?$AAy?$AAt?$AAe?$AAs?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAe?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "a", 0x0, "l", 0x0, "l"
	DCB	0x0, "o", 0x0, "c", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, " "
	DCB	0x0, "b", 0x0, "y", 0x0, "t", 0x0, "e", 0x0, "s", 0x0, " "
	DCB	0x0, "r", 0x0, "e", 0x0, "t", 0x0, "u", 0x0, "r", 0x0, "n"
	DCB	0x0, "e", 0x0, "d", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "8", 0x0, "x", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BA@NHFCMMEL@?$AAP?$AAm?$AAA?$AAl?$AAl?$AAo?$AAc?$AA?$AA@| DCB "P", 0x0
	DCB	"m", 0x0, "A", 0x0, "l", 0x0, "l", 0x0, "o", 0x0, "c", 0x0
	DCB	0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DM@MIMNLNGK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAH?$AAe?$AAa?$AAp?$AAA?$AAl?$AAl?$AAo?$AAc?$AA?$CI?$AA?$CF?$AAd?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "H", 0x0, "e", 0x0, "a"
	DCB	0x0, "p", 0x0, "A", 0x0, "l", 0x0, "l", 0x0, "o", 0x0, "c"
	DCB	0x0, "(", 0x0, "%", 0x0, "d", 0x0, ")", 0x0, " ", 0x0, "f"
	DCB	0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, " "
	DCB	0x0, "%", 0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |PmAlloc| PROC

; 131  : {

  00000		 |$LN12@PmAlloc|
  00000	e92d 4878	 push        {r3-r6,r11,lr}
  00004	f20d 0b10	 addw        r11,sp,#0x10
  00008		 |$M10|

; 132  :     SETFNAME(_T("PmAlloc"));
; 133  : 
; 134  :     DEBUGCHK(dwSize != 0);
; 135  : 
; 136  : #ifdef DEBUGALLOC
; 137  :     // prepend a header so we can track post-free accesses of the memory
; 138  :     dwSize += HEAPHEADERSIZE;
; 139  : #endif  // DEBUGALLOC
; 140  : 
; 141  :     PVOID pvRet = HeapAlloc(ghPmHeap, 0, dwSize);

  00008	4b16		 ldr         r3,|$LN19@PmAlloc|	; =|ghPmHeap|
  0000a	4606		 mov         r6,r0
  0000c	4602		 mov         r2,r0
  0000e	6818		 ldr         r0,[r3]
  00010	2100		 movs        r1,#0
  00012	f000 f800	 bl          HeapAlloc
  00016	4604		 mov         r4,r0

; 142  :     if(pvRet == NULL) {

  00018	4d11		 ldr         r5,|$LN18@PmAlloc|	; =|dpCurSettings|
  0001a	b964		 cbnz        r4,|$LN8@PmAlloc|

; 143  :         PMLOGMSG(ZONE_WARN, (_T("%s: HeapAlloc(%d) failed %d\r\n"), pszFname,
; 144  :             dwSize, GetLastError()));

  0001c	f8d5 3440	 ldr         r3,[r5,#0x440]
  00020	f013 0f02	 tst         r3,#2
  00024	d007		 beq         |$LN8@PmAlloc|
  00026	f000 f800	 bl          GetLastError
  0002a	490a		 ldr         r1,|$LN15@PmAlloc|	; =|??_C@_1BA@NHFCMMEL@?$AAP?$AAm?$AAA?$AAl?$AAl?$AAo?$AAc?$AA?$AA@|
  0002c	4603		 mov         r3,r0
  0002e	480b		 ldr         r0,|$LN17@PmAlloc|	; =|??_C@_1DM@MIMNLNGK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAH?$AAe?$AAa?$AAp?$AAA?$AAl?$AAl?$AAo?$AAc?$AA?$CI?$AA?$CF?$AAd?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  00030	4632		 mov         r2,r6
  00032	f000 f800	 bl          CeLogMsg
  00036		 |$LN8@PmAlloc|
  00036	f8d5 3440	 ldr         r3,[r5,#0x440]

; 145  :     }
; 146  : #ifdef DEBUG
; 147  :     else {
; 148  :         InterlockedIncrement(&glTotalObjects);
; 149  :     }
; 150  : #endif  // DEBUG
; 151  : 
; 152  : #ifdef DEBUGALLOC
; 153  :     // fill memory with a diagnostic pattern for debugging
; 154  :     if(pvRet != NULL) {
; 155  :         memset(pvRet, 0xAA, dwSize);
; 156  :         PDWORD pdwRet = (PDWORD) pvRet;
; 157  :         pdwRet[0] = HEAPSIGNATURE;  // record a signature
; 158  :         pdwRet[1] = dwSize;         // and the real size of the buffer
; 159  :         pvRet = &pdwRet[HEAPHEADERSIZE / sizeof(DWORD)]; // return a pointer to a buffer of the requested size
; 160  :     }
; 161  : #endif  // DEBUGALLOC
; 162  : 
; 163  : #ifdef DEBUG
; 164  :     PMLOGMSG(ZONE_ALLOC, (_T("%s: alloc %d bytes returned 0x%08x (%d total objects allocated)\r\n"), 
; 165  :         pszFname, dwSize, pvRet, glTotalObjects));
; 166  : #else   // DEBUG
; 167  :     PMLOGMSG(ZONE_ALLOC, (_T("%s: alloc %d bytes returned 0x%08x\r\n"), 
; 168  :         pszFname, dwSize, pvRet));

  0003a	f413 5f80	 tst         r3,#0x1000
  0003e	d005		 beq         |$LN6@PmAlloc|
  00040	4805		 ldr         r0,|$LN16@PmAlloc|	; =|??_C@_1EK@MBDJHLOB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AA?5?$AA?$CF?$AAd?$AA?5?$AAb?$AAy?$AAt?$AAe?$AAs?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAe?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0@|
  00042	4904		 ldr         r1,|$LN15@PmAlloc|	; =|??_C@_1BA@NHFCMMEL@?$AAP?$AAm?$AAA?$AAl?$AAl?$AAo?$AAc?$AA?$AA@|
  00044	4623		 mov         r3,r4
  00046	4632		 mov         r2,r6
  00048	f000 f800	 bl          CeLogMsg
  0004c		 |$LN6@PmAlloc|

; 169  : #endif  // DEBUG
; 170  :     return pvRet;
; 171  : }

  0004c	4620		 mov         r0,r4
  0004e		 |$M13|
  0004e	e8bd 8878	 pop         {r3-r6,r11,pc}
  00052		 |$LN20@PmAlloc|
  00052		 |$M21|
  00052	defe		 __debugbreak
  00054		 |$LN14@PmAlloc|
  00054		 |$LN15@PmAlloc|
  00054	0000 0000	 DCD         |??_C@_1BA@NHFCMMEL@?$AAP?$AAm?$AAA?$AAl?$AAl?$AAo?$AAc?$AA?$AA@|
  00058		 |$LN16@PmAlloc|
  00058	0000 0000	 DCD         |??_C@_1EK@MBDJHLOB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AA?5?$AA?$CF?$AAd?$AA?5?$AAb?$AAy?$AAt?$AAe?$AAs?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAe?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0@|
  0005c		 |$LN17@PmAlloc|
  0005c	0000 0000	 DCD         |??_C@_1DM@MIMNLNGK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAH?$AAe?$AAa?$AAp?$AAA?$AAl?$AAl?$AAo?$AAc?$AA?$CI?$AA?$CF?$AAd?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  00060		 |$LN18@PmAlloc|
  00060	0000 0000	 DCD         |dpCurSettings|
  00064		 |$LN19@PmAlloc|
  00064	0000 0000	 DCD         |ghPmHeap|
  00068		 |$M11|

			 ENDP  ; |PmAlloc|

	EXPORT	|??_C@_1DE@CNNOGCPE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAw?$AAr?$AAo?$AAn?$AAg?$AA?5?$AAt?$AAy?$AAp?$AAe?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CG@KHNILHMB@?$AAR?$AAe?$AAg?$AAQ?$AAu?$AAe?$AAr?$AAy?$AAT?$AAy?$AAp?$AAe?$AAd?$AAV?$AAa?$AAl?$AAu?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|RegQueryTypedValue|
	IMPORT	|RegQueryValueExW|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$RegQueryTypedValue| DCD imagerel |$LN9@RegQueryTy|
	DCD	0xfdb06079

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CG@KHNILHMB@?$AAR?$AAe?$AAg?$AAQ?$AAu?$AAe?$AAr?$AAy?$AAT?$AAy?$AAp?$AAe?$AAd?$AAV?$AAa?$AAl?$AAu?$AAe?$AA?$AA@| DCB "R"
	DCB	0x0, "e", 0x0, "g", 0x0, "Q", 0x0, "u", 0x0, "e", 0x0, "r"
	DCB	0x0, "y", 0x0, "T", 0x0, "y", 0x0, "p", 0x0, "e", 0x0, "d"
	DCB	0x0, "V", 0x0, "a", 0x0, "l", 0x0, "u", 0x0, "e", 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DE@CNNOGCPE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAw?$AAr?$AAo?$AAn?$AAg?$AA?5?$AAt?$AAy?$AAp?$AAe?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "w", 0x0, "r", 0x0, "o"
	DCB	0x0, "n", 0x0, "g", 0x0, " ", 0x0, "t", 0x0, "y", 0x0, "p"
	DCB	0x0, "e", 0x0, " ", 0x0, "f", 0x0, "o", 0x0, "r", 0x0, " "
	DCB	0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |RegQueryTypedValue| PROC

; 39   : {

  00000		 |$LN9@RegQueryTy|
  00000	e92d 481e	 push        {r1-r4,r11,lr}
  00004	f20d 0b10	 addw        r11,sp,#0x10
  00008		 |$M7|

; 40   :     DWORD dwActualType;
; 41   :     SETFNAME(_T("RegQueryTypedValue"));
; 42   : 
; 43   :     DWORD dwStatus = RegQueryValueEx(hk, pszValue, NULL, &dwActualType, 
; 44   :         (PBYTE) pvData, pdwSize);

  00008	9301		 str         r3,[sp,#4]
  0000a	9200		 str         r2,[sp]
  0000c	ab02		 add         r3,sp,#8
  0000e	2200		 movs        r2,#0
  00010	460c		 mov         r4,r1
  00012	f000 f800	 bl          RegQueryValueExW

; 45   :     if(dwStatus == ERROR_SUCCESS && dwActualType != dwType) {

  00016	b978		 cbnz        r0,|$LN1@RegQueryTy|
  00018	9a06		 ldr         r2,[sp,#0x18]
  0001a	9b02		 ldr         r3,[sp,#8]
  0001c	4293		 cmp         r3,r2
  0001e	d00b		 beq         |$LN1@RegQueryTy|

; 46   :         PMLOGMSG(ZONE_WARN, (_T("%s: wrong type for '%s'\r\n"),
; 47   :             pszFname, pszValue));

  00020	4b08		 ldr         r3,|$LN14@RegQueryTy| ; =|dpCurSettings|
  00022	f8d3 3440	 ldr         r3,[r3,#0x440]
  00026	f013 0f02	 tst         r3,#2
  0002a	d004		 beq         |$LN4@RegQueryTy|
  0002c	4904		 ldr         r1,|$LN13@RegQueryTy| ; =|??_C@_1CG@KHNILHMB@?$AAR?$AAe?$AAg?$AAQ?$AAu?$AAe?$AAr?$AAy?$AAT?$AAy?$AAp?$AAe?$AAd?$AAV?$AAa?$AAl?$AAu?$AAe?$AA?$AA@|
  0002e	4803		 ldr         r0,|$LN12@RegQueryTy| ; =|??_C@_1DE@CNNOGCPE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAw?$AAr?$AAo?$AAn?$AAg?$AA?5?$AAt?$AAy?$AAp?$AAe?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@|
  00030	4622		 mov         r2,r4
  00032	f000 f800	 bl          CeLogMsg
  00036		 |$LN4@RegQueryTy|

; 48   :         dwStatus = ERROR_INVALID_DATA;

  00036	200d		 movs        r0,#0xD
  00038		 |$LN1@RegQueryTy|
  00038		 |$M10|

; 49   :     }
; 50   : 
; 51   :     return dwStatus;
; 52   : }

  00038	e8bd 881e	 pop         {r1-r4,r11,pc}
  0003c		 |$LN11@RegQueryTy|
  0003c		 |$LN12@RegQueryTy|
  0003c	0000 0000	 DCD         |??_C@_1DE@CNNOGCPE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAw?$AAr?$AAo?$AAn?$AAg?$AA?5?$AAt?$AAy?$AAp?$AAe?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@|
  00040		 |$LN13@RegQueryTy|
  00040	0000 0000	 DCD         |??_C@_1CG@KHNILHMB@?$AAR?$AAe?$AAg?$AAQ?$AAu?$AAe?$AAr?$AAy?$AAT?$AAy?$AAp?$AAe?$AAd?$AAV?$AAa?$AAl?$AAu?$AAe?$AA?$AA@|
  00044		 |$LN14@RegQueryTy|
  00044	0000 0000	 DCD         |dpCurSettings|
  00048		 |$M8|

			 ENDP  ; |RegQueryTypedValue|

	EXPORT	|??_C@_1FI@IIFPFJAK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AA0?$AAx?$AA?$CF?$AAx?$AA?$CJ?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DM@CIMKIPJD@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAF?$AAi?$AAn?$AAd?$AAB?$AAy?$AAW?$AAa?$AAk?$AAe?$AAS?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|ActivityTimerFindByWakeSource|
	IMPORT	|gppActivityTimers|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$ActivityTimerFindByWakeSource| DCD imagerel |$LN27@ActivityTi|
	DCD	0xfdb260c9

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DM@CIMKIPJD@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAF?$AAi?$AAn?$AAd?$AAB?$AAy?$AAW?$AAa?$AAk?$AAe?$AAS?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?$AA@| DCB "A"
	DCB	0x0, "c", 0x0, "t", 0x0, "i", 0x0, "v", 0x0, "i", 0x0, "t"
	DCB	0x0, "y", 0x0, "T", 0x0, "i", 0x0, "m", 0x0, "e", 0x0, "r"
	DCB	0x0, "F", 0x0, "i", 0x0, "n", 0x0, "d", 0x0, "B", 0x0, "y"
	DCB	0x0, "W", 0x0, "a", 0x0, "k", 0x0, "e", 0x0, "S", 0x0, "o"
	DCB	0x0, "u", 0x0, "r", 0x0, "c", 0x0, "e", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FI@IIFPFJAK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AA0?$AAx?$AA?$CF?$AAx?$AA?$CJ?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "s", 0x0, "e", 0x0, "a"
	DCB	0x0, "r", 0x0, "c", 0x0, "h", 0x0, " ", 0x0, "f", 0x0, "o"
	DCB	0x0, "r", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, " ", 0x0, "("
	DCB	0x0, "0", 0x0, "x", 0x0, "%", 0x0, "x", 0x0, ")", 0x0, " "
	DCB	0x0, "r", 0x0, "e", 0x0, "t", 0x0, "u", 0x0, "r", 0x0, "n"
	DCB	0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "0", 0x0, "x"
	DCB	0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |ActivityTimerFindByWakeSource| PROC

; 1676 : {

  00000		 |$LN27@ActivityTi|
  00000	e92d 487e	 push        {r1-r6,r11,lr}
  00004	f20d 0b18	 addw        r11,sp,#0x18
  00008		 |$M25|
  00008	4606		 mov         r6,r0

; 93   :     EnterCriticalSection(&gcsPowerManager);

  0000a	4819		 ldr         r0,|$LN33@ActivityTi| ; =|gcsPowerManager|

; 1677 :     PACTIVITY_TIMER pat = NULL;

  0000c	2400		 movs        r4,#0

; 1678 :     BOOL fDone = FALSE;

  0000e	2500		 movs        r5,#0

; 93   :     EnterCriticalSection(&gcsPowerManager);

  00010	f000 f800	 bl          EnterCriticalSection

; 1679 :     SETFNAME(_T("ActivityTimerFindByWakeSource"));
; 1680 : 
; 1681 :     PMLOCK();
; 1682 :     if(gppActivityTimers != NULL) {

  00014	4b17		 ldr         r3,|$LN34@ActivityTi| ; =|gppActivityTimers|
  00016	681a		 ldr         r2,[r3]
  00018	b18a		 cbz         r2,|$LN22@ActivityTi|
  0001a		 |$LL5@ActivityTi|

; 1683 :         DWORD dwTimerIndex = 0;
; 1684 :         while(!fDone && (pat = gppActivityTimers[dwTimerIndex]) != NULL) {

  0001a	f852 4b04	 ldr         r4,[r2],#4
  0001e	b174		 cbz         r4,|$LN22@ActivityTi|

; 1685 :             DWORD dwSourceIndex = 0;
; 1686 :             while(pat->pdwWakeSources[dwSourceIndex] != 0) {

  00020	69a0		 ldr         r0,[r4,#0x18]
  00022	2100		 movs        r1,#0
  00024	6803		 ldr         r3,[r0]
  00026	e004		 b           |$LN23@ActivityTi|
  00028		 |$LL3@ActivityTi|

; 1687 :                 if(pat->pdwWakeSources[dwSourceIndex] == dwWakeSource) {

  00028	42b3		 cmp         r3,r6
  0002a	d005		 beq         |$LN17@ActivityTi|

; 1689 :                     break;
; 1690 :                 }
; 1691 :                 dwSourceIndex++;

  0002c	3101		 adds        r1,#1
  0002e	f850 3021	 ldr         r3,[r0,r1,lsl #2]
  00032		 |$LN23@ActivityTi|

; 1685 :             DWORD dwSourceIndex = 0;
; 1686 :             while(pat->pdwWakeSources[dwSourceIndex] != 0) {

  00032	2b00		 cmp         r3,#0
  00034	d1f8		 bne         |$LL3@ActivityTi|

; 1687 :                 if(pat->pdwWakeSources[dwSourceIndex] == dwWakeSource) {

  00036	e000		 b           |$LN2@ActivityTi|
  00038		 |$LN17@ActivityTi|

; 1688 :                     fDone = TRUE;

  00038	2501		 movs        r5,#1
  0003a		 |$LN2@ActivityTi|

; 1683 :         DWORD dwTimerIndex = 0;
; 1684 :         while(!fDone && (pat = gppActivityTimers[dwTimerIndex]) != NULL) {

  0003a	2d00		 cmp         r5,#0
  0003c	d0ed		 beq         |$LL5@ActivityTi|
  0003e		 |$LN22@ActivityTi|

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  0003e	480c		 ldr         r0,|$LN33@ActivityTi| ; =|gcsPowerManager|
  00040	f000 f800	 bl          LeaveCriticalSection

; 1692 :             }
; 1693 :             dwTimerIndex++;
; 1694 :         }
; 1695 :     }
; 1696 :     PMUNLOCK();
; 1697 : 
; 1698 :     PMLOGMSG(ZONE_TIMERS, (_T("%s: search for %d (0x%x) returning 0x%08x\r\n"), pszFname,
; 1699 :         dwWakeSource, dwWakeSource, pat));

  00044	4b09		 ldr         r3,|$LN32@ActivityTi| ; =|dpCurSettings|
  00046	f8d3 3440	 ldr         r3,[r3,#0x440]
  0004a	f413 5f00	 tst         r3,#0x2000
  0004e	d006		 beq         |$LN9@ActivityTi|
  00050	4905		 ldr         r1,|$LN31@ActivityTi| ; =|??_C@_1DM@CIMKIPJD@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAF?$AAi?$AAn?$AAd?$AAB?$AAy?$AAW?$AAa?$AAk?$AAe?$AAS?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?$AA@|
  00052	4804		 ldr         r0,|$LN30@ActivityTi| ; =|??_C@_1FI@IIFPFJAK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AA0?$AAx?$AA?$CF?$AAx?$AA?$CJ?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi@|
  00054	4633		 mov         r3,r6
  00056	4632		 mov         r2,r6
  00058	9400		 str         r4,[sp]
  0005a	f000 f800	 bl          CeLogMsg
  0005e		 |$LN9@ActivityTi|

; 1700 : 
; 1701 :     return pat;
; 1702 : }

  0005e	4620		 mov         r0,r4
  00060		 |$M28|
  00060	e8bd 887e	 pop         {r1-r6,r11,pc}
  00064		 |$LN29@ActivityTi|
  00064		 |$LN30@ActivityTi|
  00064	0000 0000	 DCD         |??_C@_1FI@IIFPFJAK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AA0?$AAx?$AA?$CF?$AAx?$AA?$CJ?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi@|
  00068		 |$LN31@ActivityTi|
  00068	0000 0000	 DCD         |??_C@_1DM@CIMKIPJD@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAF?$AAi?$AAn?$AAd?$AAB?$AAy?$AAW?$AAa?$AAk?$AAe?$AAS?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?$AA@|
  0006c		 |$LN32@ActivityTi|
  0006c	0000 0000	 DCD         |dpCurSettings|
  00070		 |$LN33@ActivityTi|
  00070	0000 0000	 DCD         |gcsPowerManager|
  00074		 |$LN34@ActivityTi|
  00074	0000 0000	 DCD         |gppActivityTimers|
  00078		 |$M26|

			 ENDP  ; |ActivityTimerFindByWakeSource|

	EXPORT	|??_C@_1EO@NGMPKOJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DA@HMBHHENJ@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAF?$AAi?$AAn?$AAd?$AAB?$AAy?$AAN?$AAa?$AAm?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|ActivityTimerFindByName|
	IMPORT	|wcscmp|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$ActivityTimerFindByName| DCD imagerel |$LN22@ActivityTi|
	DCD	0xfd3260a5

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DA@HMBHHENJ@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAF?$AAi?$AAn?$AAd?$AAB?$AAy?$AAN?$AAa?$AAm?$AAe?$AA?$AA@| DCB "A"
	DCB	0x0, "c", 0x0, "t", 0x0, "i", 0x0, "v", 0x0, "i", 0x0, "t"
	DCB	0x0, "y", 0x0, "T", 0x0, "i", 0x0, "m", 0x0, "e", 0x0, "r"
	DCB	0x0, "F", 0x0, "i", 0x0, "n", 0x0, "d", 0x0, "B", 0x0, "y"
	DCB	0x0, "N", 0x0, "a", 0x0, "m", 0x0, "e", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EO@NGMPKOJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "s", 0x0, "e", 0x0, "a"
	DCB	0x0, "r", 0x0, "c", 0x0, "h", 0x0, " ", 0x0, "f", 0x0, "o"
	DCB	0x0, "r", 0x0, " ", 0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'"
	DCB	0x0, " ", 0x0, "r", 0x0, "e", 0x0, "t", 0x0, "u", 0x0, "r"
	DCB	0x0, "n", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "0"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |ActivityTimerFindByName| PROC

; 1649 : {

  00000		 |$LN22@ActivityTi|
  00000	e92d 4878	 push        {r3-r6,r11,lr}
  00004	f20d 0b10	 addw        r11,sp,#0x10
  00008		 |$M20|
  00008	4606		 mov         r6,r0

; 93   :     EnterCriticalSection(&gcsPowerManager);

  0000a	4815		 ldr         r0,|$LN28@ActivityTi| ; =|gcsPowerManager|

; 1650 :     PACTIVITY_TIMER pat = NULL;

  0000c	2400		 movs        r4,#0

; 93   :     EnterCriticalSection(&gcsPowerManager);

  0000e	f000 f800	 bl          EnterCriticalSection

; 1651 :     SETFNAME(_T("ActivityTimerFindByName"));
; 1652 : 
; 1653 :     PMLOCK();
; 1654 :     if(gppActivityTimers != NULL) {

  00012	4b14		 ldr         r3,|$LN29@ActivityTi| ; =|gppActivityTimers|
  00014	681d		 ldr         r5,[r3]
  00016	b155		 cbz         r5,|$LN17@ActivityTi|

; 1655 :         DWORD dwTimerIndex = 0;
; 1656 :         while((pat = gppActivityTimers[dwTimerIndex]) != NULL) {

  00018	682c		 ldr         r4,[r5]
  0001a	e006		 b           |$LN18@ActivityTi|
  0001c		 |$LL3@ActivityTi|

; 1657 :             if(_tcscmp(pat->pszName, pszName) == 0) {

  0001c	6820		 ldr         r0,[r4]
  0001e	4631		 mov         r1,r6
  00020	f000 f800	 bl          wcscmp
  00024	b118		 cbz         r0,|$LN17@ActivityTi|

; 1655 :         DWORD dwTimerIndex = 0;
; 1656 :         while((pat = gppActivityTimers[dwTimerIndex]) != NULL) {

  00026	f855 4f04	 ldr         r4,[r5,#4]!
  0002a		 |$LN18@ActivityTi|
  0002a	2c00		 cmp         r4,#0
  0002c	d1f6		 bne         |$LL3@ActivityTi|
  0002e		 |$LN17@ActivityTi|

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  0002e	480c		 ldr         r0,|$LN28@ActivityTi| ; =|gcsPowerManager|
  00030	f000 f800	 bl          LeaveCriticalSection

; 1658 :                 break;
; 1659 :             }
; 1660 :             dwTimerIndex++;
; 1661 :         }
; 1662 :     }
; 1663 :     PMUNLOCK();
; 1664 : 
; 1665 :     PMLOGMSG(ZONE_TIMERS, (_T("%s: search for '%s' returning 0x%08x\r\n"), pszFname,
; 1666 :         pszName, pat));

  00034	4b09		 ldr         r3,|$LN27@ActivityTi| ; =|dpCurSettings|
  00036	f8d3 3440	 ldr         r3,[r3,#0x440]
  0003a	f413 5f00	 tst         r3,#0x2000
  0003e	d005		 beq         |$LN7@ActivityTi|
  00040	4905		 ldr         r1,|$LN26@ActivityTi| ; =|??_C@_1DA@HMBHHENJ@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAF?$AAi?$AAn?$AAd?$AAB?$AAy?$AAN?$AAa?$AAm?$AAe?$AA?$AA@|
  00042	4804		 ldr         r0,|$LN25@ActivityTi| ; =|??_C@_1EO@NGMPKOJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx@|
  00044	4623		 mov         r3,r4
  00046	4632		 mov         r2,r6
  00048	f000 f800	 bl          CeLogMsg
  0004c		 |$LN7@ActivityTi|

; 1667 : 
; 1668 :     return pat;
; 1669 : }

  0004c	4620		 mov         r0,r4
  0004e		 |$M23|
  0004e	e8bd 8878	 pop         {r3-r6,r11,pc}
  00052		 |$LN30@ActivityTi|
  00052		 |$M31|
  00052	defe		 __debugbreak
  00054		 |$LN24@ActivityTi|
  00054		 |$LN25@ActivityTi|
  00054	0000 0000	 DCD         |??_C@_1EO@NGMPKOJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx@|
  00058		 |$LN26@ActivityTi|
  00058	0000 0000	 DCD         |??_C@_1DA@HMBHHENJ@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAF?$AAi?$AAn?$AAd?$AAB?$AAy?$AAN?$AAa?$AAm?$AAe?$AA?$AA@|
  0005c		 |$LN27@ActivityTi|
  0005c	0000 0000	 DCD         |dpCurSettings|
  00060		 |$LN28@ActivityTi|
  00060	0000 0000	 DCD         |gcsPowerManager|
  00064		 |$LN29@ActivityTi|
  00064	0000 0000	 DCD         |gppActivityTimers|
  00068		 |$M21|

			 ENDP  ; |ActivityTimerFindByName|

	EXPORT	|PowerNotificationAddList|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$PowerNotificationAddList| DCD imagerel |$LN11@PowerNotif|
	DCD	0x31605d
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |PowerNotificationAddList| PROC

; 1241 : {

  00000		 |$LN11@PowerNotif|
  00000	e92d 4830	 push        {r4,r5,r11,lr}
  00004	f20d 0b08	 addw        r11,sp,#8
  00008		 |$M9|
  00008	4605		 mov         r5,r0

; 93   :     EnterCriticalSection(&gcsPowerManager);

  0000a	4809		 ldr         r0,|$LN14@PowerNotif| ; =|gcsPowerManager|

; 1241 : {

  0000c	460c		 mov         r4,r1

; 93   :     EnterCriticalSection(&gcsPowerManager);

  0000e	f000 f800	 bl          EnterCriticalSection

; 1242 :     BOOL fOk = TRUE;
; 1243 : 
; 1244 :     PREFAST_DEBUGCHK(ppListHead != NULL);
; 1245 :     PREFAST_DEBUGCHK(ppn != NULL);
; 1246 :     DEBUGCHK(ppn->pNext == NULL && ppn->pPrev == NULL);
; 1247 :     DEBUGCHK(ppListHead != NULL);
; 1248 : 
; 1249 :     // put the new device at the head of the list
; 1250 :     PMLOCK();
; 1251 :     ppn->pNext = *ppListHead;

  00012	682b		 ldr         r3,[r5]
  00014	60e3		 str         r3,[r4,#0xC]

; 1252 :     ppn->pPrev = NULL;

  00016	2300		 movs        r3,#0
  00018	6123		 str         r3,[r4,#0x10]

; 1253 :     if(*ppListHead != NULL) {

  0001a	682b		 ldr         r3,[r5]
  0001c	b103		 cbz         r3,|$LN1@PowerNotif|

; 1254 :         (*ppListHead)->pPrev = ppn;

  0001e	611c		 str         r4,[r3,#0x10]
  00020		 |$LN1@PowerNotif|

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  00020	4803		 ldr         r0,|$LN14@PowerNotif| ; =|gcsPowerManager|

; 1255 :     }
; 1256 :     *ppListHead = ppn;

  00022	602c		 str         r4,[r5]

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  00024	f000 f800	 bl          LeaveCriticalSection

; 1257 :     PMUNLOCK();
; 1258 : 
; 1259 :     return fOk;

  00028	2001		 movs        r0,#1
  0002a		 |$M12|

; 1260 : }

  0002a	e8bd 8830	 pop         {r4,r5,r11,pc}
  0002e		 |$LN15@PowerNotif|
  0002e		 |$M16|
  0002e	defe		 __debugbreak
  00030		 |$LN13@PowerNotif|
  00030		 |$LN14@PowerNotif|
  00030	0000 0000	 DCD         |gcsPowerManager|
  00034		 |$M10|

			 ENDP  ; |PowerNotificationAddList|

	EXPORT	|PowerRestrictionCheckList|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$PowerRestrictionCheckList| DCD imagerel |$LN19@PowerRestr|
	DCD	0xfd326061
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |PowerRestrictionCheckList| PROC

; 1160 : {

  00000		 |$LN19@PowerRestr|
  00000	e92d 4878	 push        {r3-r6,r11,lr}
  00004	f20d 0b10	 addw        r11,sp,#0x10
  00008		 |$M17|
  00008	4604		 mov         r4,r0

; 93   :     EnterCriticalSection(&gcsPowerManager);

  0000a	4809		 ldr         r0,|$LN22@PowerRestr| ; =|gcsPowerManager|

; 1160 : {

  0000c	460e		 mov         r6,r1

; 1161 :     PDEVICE_POWER_RESTRICTION pdprTraveller;
; 1162 :     BOOL fFound = FALSE;

  0000e	2500		 movs        r5,#0

; 93   :     EnterCriticalSection(&gcsPowerManager);

  00010	f000 f800	 bl          EnterCriticalSection
  00014	e002		 b           |$LN15@PowerRestr|
  00016		 |$LL4@PowerRestr|

; 1168 :         if(pdprTraveller == pdpr) {

  00016	42b4		 cmp         r4,r6
  00018	d003		 beq         |$LN12@PowerRestr|

; 1163 : 
; 1164 :     PMLOCK();
; 1165 : 
; 1166 :     // look for a match
; 1167 :     for(pdprTraveller = pList; pdprTraveller != NULL; pdprTraveller = pdprTraveller->pNext) {

  0001a	6964		 ldr         r4,[r4,#0x14]
  0001c		 |$LN15@PowerRestr|
  0001c	2c00		 cmp         r4,#0
  0001e	d1fa		 bne         |$LL4@PowerRestr|

; 1168 :         if(pdprTraveller == pdpr) {

  00020	e000		 b           |$LN2@PowerRestr|
  00022		 |$LN12@PowerRestr|

; 1169 :             fFound = TRUE;

  00022	2501		 movs        r5,#1
  00024		 |$LN2@PowerRestr|

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  00024	4802		 ldr         r0,|$LN22@PowerRestr| ; =|gcsPowerManager|
  00026	f000 f800	 bl          LeaveCriticalSection

; 1170 :             break;
; 1171 :         }
; 1172 :     }
; 1173 : 
; 1174 :     PMUNLOCK();
; 1175 : 
; 1176 :     return fFound;
; 1177 : }

  0002a	4628		 mov         r0,r5
  0002c		 |$M20|
  0002c	e8bd 8878	 pop         {r3-r6,r11,pc}
  00030		 |$LN21@PowerRestr|
  00030		 |$LN22@PowerRestr|
  00030	0000 0000	 DCD         |gcsPowerManager|
  00034		 |$M18|

			 ENDP  ; |PowerRestrictionCheckList|

	EXPORT	|PowerRestrictionRemList|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$PowerRestrictionRemList| DCD imagerel |$LN16@PowerRestr|
	DCD	0x316091
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |PowerRestrictionRemList| PROC

; 1080 : {

  00000		 |$LN16@PowerRestr|
  00000	e92d 4830	 push        {r4,r5,r11,lr}
  00004	f20d 0b08	 addw        r11,sp,#8
  00008		 |$M14|
  00008	4605		 mov         r5,r0

; 93   :     EnterCriticalSection(&gcsPowerManager);

  0000a	480f		 ldr         r0,|$LN19@PowerRestr| ; =|gcsPowerManager|

; 1080 : {

  0000c	460c		 mov         r4,r1

; 93   :     EnterCriticalSection(&gcsPowerManager);

  0000e	f000 f800	 bl          EnterCriticalSection

; 1081 :     BOOL fOk = TRUE;
; 1082 : 
; 1083 :     PREFAST_DEBUGCHK(ppListHead != NULL);
; 1084 : 
; 1085 :     PMLOCK();
; 1086 : 
; 1087 :     // are we at the head of the list?
; 1088 :     if(pdpr->pPrev != NULL) {

  00012	69a2		 ldr         r2,[r4,#0x18]
  00014	2100		 movs        r1,#0
  00016	b112		 cbz         r2,|$LN6@PowerRestr|

; 1089 :         pdpr->pPrev->pNext = pdpr->pNext;

  00018	6963		 ldr         r3,[r4,#0x14]
  0001a	6153		 str         r3,[r2,#0x14]

; 1090 :     } else {

  0001c	e004		 b           |$LN5@PowerRestr|
  0001e		 |$LN6@PowerRestr|

; 1091 :         // not that if pNext == NULL && pPrev == NULL we are the only list
; 1092 :         // member and the assignment to the list head will set it to NULL (meaning
; 1093 :         // empty).
; 1094 :         if(pdpr->pNext != NULL) {

  0001e	6963		 ldr         r3,[r4,#0x14]
  00020	b103		 cbz         r3,|$LN4@PowerRestr|

; 1095 :             pdpr->pNext->pPrev = NULL;

  00022	6199		 str         r1,[r3,#0x18]
  00024		 |$LN4@PowerRestr|

; 1096 :         }
; 1097 :         *ppListHead = pdpr->pNext;

  00024	6963		 ldr         r3,[r4,#0x14]
  00026	602b		 str         r3,[r5]
  00028		 |$LN5@PowerRestr|

; 1098 :     }
; 1099 :     
; 1100 :     // are we at the tail of the list?
; 1101 :     if(pdpr->pNext != NULL) {

  00028	6962		 ldr         r2,[r4,#0x14]
  0002a	b112		 cbz         r2,|$LN3@PowerRestr|

; 1102 :         pdpr->pNext->pPrev = pdpr->pPrev;

  0002c	69a3		 ldr         r3,[r4,#0x18]
  0002e	6193		 str         r3,[r2,#0x18]

; 1103 :     } else {

  00030	e002		 b           |$LN1@PowerRestr|
  00032		 |$LN3@PowerRestr|

; 1104 :         if(pdpr->pPrev != NULL) {

  00032	69a3		 ldr         r3,[r4,#0x18]
  00034	b103		 cbz         r3,|$LN1@PowerRestr|

; 1105 :             pdpr->pPrev->pNext = NULL;

  00036	6159		 str         r1,[r3,#0x14]
  00038		 |$LN1@PowerRestr|

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  00038	4803		 ldr         r0,|$LN19@PowerRestr| ; =|gcsPowerManager|

; 1106 :         }
; 1107 :     }
; 1108 : 
; 1109 :     // clear list pointers
; 1110 :     pdpr->pNext = NULL;

  0003a	6161		 str         r1,[r4,#0x14]

; 1111 :     pdpr->pPrev = NULL;

  0003c	61a1		 str         r1,[r4,#0x18]

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  0003e	f000 f800	 bl          LeaveCriticalSection

; 1112 : 
; 1113 :     // delete the entry
; 1114 :     PMUNLOCK();
; 1115 : 
; 1116 :     return fOk;

  00042	2001		 movs        r0,#1
  00044		 |$M17|

; 1117 : }

  00044	e8bd 8830	 pop         {r4,r5,r11,pc}
  00048		 |$LN18@PowerRestr|
  00048		 |$LN19@PowerRestr|
  00048	0000 0000	 DCD         |gcsPowerManager|
  0004c		 |$M15|

			 ENDP  ; |PowerRestrictionRemList|

	EXPORT	|PowerRestrictionAddList|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$PowerRestrictionAddList| DCD imagerel |$LN11@PowerRestr|
	DCD	0x31605d
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |PowerRestrictionAddList| PROC

; 1055 : {

  00000		 |$LN11@PowerRestr|
  00000	e92d 4830	 push        {r4,r5,r11,lr}
  00004	f20d 0b08	 addw        r11,sp,#8
  00008		 |$M9|
  00008	4605		 mov         r5,r0

; 93   :     EnterCriticalSection(&gcsPowerManager);

  0000a	4809		 ldr         r0,|$LN14@PowerRestr| ; =|gcsPowerManager|

; 1055 : {

  0000c	460c		 mov         r4,r1

; 93   :     EnterCriticalSection(&gcsPowerManager);

  0000e	f000 f800	 bl          EnterCriticalSection

; 1056 :     BOOL fOk = TRUE;
; 1057 : 
; 1058 :     PREFAST_DEBUGCHK(ppListHead != NULL);
; 1059 :     PREFAST_DEBUGCHK(pdpr != NULL);
; 1060 :     DEBUGCHK(pdpr->pNext == NULL && pdpr->pPrev == NULL);
; 1061 :     DEBUGCHK(ppListHead != NULL);
; 1062 : 
; 1063 :     // put the new device at the head of the list
; 1064 :     PMLOCK();
; 1065 :     pdpr->pNext = *ppListHead;

  00012	682b		 ldr         r3,[r5]
  00014	6163		 str         r3,[r4,#0x14]

; 1066 :     pdpr->pPrev = NULL;

  00016	2300		 movs        r3,#0
  00018	61a3		 str         r3,[r4,#0x18]

; 1067 :     if(*ppListHead != NULL) {

  0001a	682b		 ldr         r3,[r5]
  0001c	b103		 cbz         r3,|$LN1@PowerRestr|

; 1068 :         (*ppListHead)->pPrev = pdpr;

  0001e	619c		 str         r4,[r3,#0x18]
  00020		 |$LN1@PowerRestr|

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  00020	4803		 ldr         r0,|$LN14@PowerRestr| ; =|gcsPowerManager|

; 1069 :     }
; 1070 :     *ppListHead = pdpr;

  00022	602c		 str         r4,[r5]

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  00024	f000 f800	 bl          LeaveCriticalSection

; 1071 :     PMUNLOCK();
; 1072 : 
; 1073 :     return fOk;

  00028	2001		 movs        r0,#1
  0002a		 |$M12|

; 1074 : }

  0002a	e8bd 8830	 pop         {r4,r5,r11,pc}
  0002e		 |$LN15@PowerRestr|
  0002e		 |$M16|
  0002e	defe		 __debugbreak
  00030		 |$LN13@PowerRestr|
  00030		 |$LN14@PowerRestr|
  00030	0000 0000	 DCD         |gcsPowerManager|
  00034		 |$M10|

			 ENDP  ; |PowerRestrictionAddList|

	EXPORT	|??_C@_1EE@LALFIHHK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAf?$AAc?$AAn?$AAt?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAd?$AA?$AN@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CE@MPJLADIF@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAA?$AAd?$AAd?$AAR?$AAe?$AAf?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|DeviceStateAddRef|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceStateAddRef| DCD imagerel |$LN12@DeviceStat|
	DCD	0xfd30606d

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CE@MPJLADIF@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAA?$AAd?$AAd?$AAR?$AAe?$AAf?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "S"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "A", 0x0, "d"
	DCB	0x0, "d", 0x0, "R", 0x0, "e", 0x0, "f", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EE@LALFIHHK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAf?$AAc?$AAn?$AAt?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAd?$AA?$AN@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "r", 0x0, "e", 0x0, "f"
	DCB	0x0, "c", 0x0, "n", 0x0, "t", 0x0, " ", 0x0, "f", 0x0, "o"
	DCB	0x0, "r", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0"
	DCB	0x0, "8", 0x0, "x", 0x0, " ", 0x0, "s", 0x0, "e", 0x0, "t"
	DCB	0x0, " ", 0x0, "t", 0x0, "o", 0x0, " ", 0x0, "%", 0x0, "d"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |DeviceStateAddRef| PROC

; 784  : {

  00000		 |$LN12@DeviceStat|
  00000	e92d 4818	 push        {r3,r4,r11,lr}
  00004	f20d 0b08	 addw        r11,sp,#8
  00008		 |$M10|
  00008	4604		 mov         r4,r0

; 93   :     EnterCriticalSection(&gcsPowerManager);

  0000a	480b		 ldr         r0,|$LN15@DeviceStat| ; =|gcsPowerManager|
  0000c	f000 f800	 bl          EnterCriticalSection

; 785  :     SETFNAME(_T("DeviceStateAddRef"));
; 786  : 
; 787  :     PREFAST_DEBUGCHK(pds != NULL);
; 788  : 
; 789  :     PMLOCK();
; 790  :     pds->dwRefCount++;

  00010	6da3		 ldr         r3,[r4,#0x58]

; 791  :     PMLOGMSG(ZONE_REFCNT, (_T("%s: refcnt for 0x%08x set to %d\r\n"), pszFname,
; 792  :         pds, pds->dwRefCount));

  00012	4a0c		 ldr         r2,|$LN18@DeviceStat| ; =|dpCurSettings|
  00014	3301		 adds        r3,#1
  00016	65a3		 str         r3,[r4,#0x58]
  00018	f8d2 2440	 ldr         r2,[r2,#0x440]
  0001c	f012 0f40	 tst         r2,#0x40
  00020	d004		 beq         |$LN3@DeviceStat|
  00022	4907		 ldr         r1,|$LN17@DeviceStat| ; =|??_C@_1CE@MPJLADIF@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAA?$AAd?$AAd?$AAR?$AAe?$AAf?$AA?$AA@|
  00024	4805		 ldr         r0,|$LN16@DeviceStat| ; =|??_C@_1EE@LALFIHHK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAf?$AAc?$AAn?$AAt?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAd?$AA?$AN@|
  00026	4622		 mov         r2,r4
  00028	f000 f800	 bl          CeLogMsg
  0002c		 |$LN3@DeviceStat|

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  0002c	4802		 ldr         r0,|$LN15@DeviceStat| ; =|gcsPowerManager|
  0002e	f000 f800	 bl          LeaveCriticalSection
  00032		 |$M13|

; 793  :     PMUNLOCK();
; 794  : }

  00032	e8bd 8818	 pop         {r3,r4,r11,pc}
  00036		 |$LN19@DeviceStat|
  00036		 |$M20|
  00036	defe		 __debugbreak
  00038		 |$LN14@DeviceStat|
  00038		 |$LN15@DeviceStat|
  00038	0000 0000	 DCD         |gcsPowerManager|
  0003c		 |$LN16@DeviceStat|
  0003c	0000 0000	 DCD         |??_C@_1EE@LALFIHHK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAf?$AAc?$AAn?$AAt?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAd?$AA?$AN@|
  00040		 |$LN17@DeviceStat|
  00040	0000 0000	 DCD         |??_C@_1CE@MPJLADIF@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAA?$AAd?$AAd?$AAR?$AAe?$AAf?$AA?$AA@|
  00044		 |$LN18@DeviceStat|
  00044	0000 0000	 DCD         |dpCurSettings|
  00048		 |$M11|

			 ENDP  ; |DeviceStateAddRef|

	EXPORT	|??_C@_1CC@HEACIIOP@?$AAG?$AAe?$AAt?$AAC?$AAl?$AAa?$AAs?$AAs?$AAF?$AAr?$AAo?$AAm?$AAN?$AAa?$AAm?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DO@JAALAKBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1IE@MDHCBALB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAf?$AAo?$AAu?$AAn?$AAd?$AA?5?$AAt?$AAh?$AAe?$AA?5?$AAd?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAi?$AAn?$AA?5?$AAm?$AAu?$AAl@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FM@FBMGAPFJ@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAa?$AAc?$AAc?$AAe?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAg?$AAu?$AAi?$AAd?$AAD?$AAe?$AAv?$AAC@| [ DATA ] ; `string'
	IMPORT	|idGenericPMDeviceClass|
	IMPORT	|gpDeviceLists|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?GetClassFromName@@YAHPBGPAU_GUID@@@Z| DCD imagerel |$LN61@GetClassFr|
	DCD	imagerel |$unwind2$?GetClassFromName@@YAHPBGPAU_GUID@@@Z|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$?GetClassFromName@@YAHPBGPAU_GUID@@@Z| DCD 0x33300093
	DCD	0xdffc09c7
	DCD	0xefdbff02
	DCD	0xff03
	DCD	imagerel |__C_specific_handler|
	DCD	0x2
	DCD	imagerel |$LN38@GetClassFr|
	DCD	imagerel |$LN39@GetClassFr|
	DCD	0x1
	DCD	imagerel |$LN35@GetClassFr|
	DCD	imagerel |$LN31@GetClassFr|
	DCD	imagerel |$LN32@GetClassFr|
	DCD	0x1
	DCD	imagerel |$LN28@GetClassFr|

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FM@FBMGAPFJ@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAa?$AAc?$AAc?$AAe?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAg?$AAu?$AAi?$AAd?$AAD?$AAe?$AAv?$AAC@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "x", 0x0, "c"
	DCB	0x0, "e", 0x0, "p", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, " ", 0x0, "a", 0x0, "c", 0x0, "c", 0x0, "e", 0x0, "s"
	DCB	0x0, "s", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "g"
	DCB	0x0, "u", 0x0, "i", 0x0, "d", 0x0, "D", 0x0, "e", 0x0, "v"
	DCB	0x0, "C", 0x0, "l", 0x0, "a", 0x0, "s", 0x0, "s", 0x0, " "
	DCB	0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1IE@MDHCBALB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAf?$AAo?$AAu?$AAn?$AAd?$AA?5?$AAt?$AAh?$AAe?$AA?5?$AAd?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAi?$AAn?$AA?5?$AAm?$AAu?$AAl@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "f", 0x0, "o", 0x0, "u"
	DCB	0x0, "n", 0x0, "d", 0x0, " ", 0x0, "t", 0x0, "h", 0x0, "e"
	DCB	0x0, " ", 0x0, "d", 0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c"
	DCB	0x0, "e", 0x0, " ", 0x0, "n", 0x0, "a", 0x0, "m", 0x0, "e"
	DCB	0x0, " ", 0x0, "i", 0x0, "n", 0x0, " ", 0x0, "m", 0x0, "u"
	DCB	0x0, "l", 0x0, "t", 0x0, "i", 0x0, "p", 0x0, "l", 0x0, "e"
	DCB	0x0, " ", 0x0, "c", 0x0, "l", 0x0, "a", 0x0, "s", 0x0, "s"
	DCB	0x0, "e", 0x0, "s", 0x0, ",", 0x0, " ", 0x0, "r", 0x0, "e"
	DCB	0x0, "t", 0x0, "u", 0x0, "r", 0x0, "n", 0x0, "i", 0x0, "n"
	DCB	0x0, "g", 0x0, " ", 0x0, "e", 0x0, "r", 0x0, "r", 0x0, "o"
	DCB	0x0, "r", 0x0, ".", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DO@JAALAKBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "x", 0x0, "c"
	DCB	0x0, "e", 0x0, "p", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, " ", 0x0, "s", 0x0, "e", 0x0, "a", 0x0, "r", 0x0, "c"
	DCB	0x0, "h", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "l"
	DCB	0x0, "i", 0x0, "s", 0x0, "t", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CC@HEACIIOP@?$AAG?$AAe?$AAt?$AAC?$AAl?$AAa?$AAs?$AAs?$AAF?$AAr?$AAo?$AAm?$AAN?$AAa?$AAm?$AAe?$AA?$AA@| DCB "G"
	DCB	0x0, "e", 0x0, "t", 0x0, "C", 0x0, "l", 0x0, "a", 0x0, "s"
	DCB	0x0, "s", 0x0, "F", 0x0, "r", 0x0, "o", 0x0, "m", 0x0, "N"
	DCB	0x0, "a", 0x0, "m", 0x0, "e", 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?GetClassFromName@@YAHPBGPAU_GUID@@@Z| PROC ; GetClassFromName

; 463  : {

  00000		 |$LN61@GetClassFr|
  00000	b403		 push        {r0,r1}
  00002	e92d 4ff0	 push        {r4-r11,lr}
  00006	f20d 0b1c	 addw        r11,sp,#0x1C
  0000a	b089		 sub         sp,sp,#0x24
  0000c	466f		 mov         r7,sp
  0000e		 |$LN59@GetClassFr|
  0000e	460c		 mov         r4,r1
  00010	64fc		 str         r4,[r7,#0x4C]
  00012	60f8		 str         r0,[r7,#0xC]
  00014	64b8		 str         r0,[r7,#0x48]

; 464  :     PDEVICE_LIST pdl;
; 465  :     PDEVICE_LIST pdlFound = NULL; // The class list the device was found in.

  00016	2200		 movs        r2,#0
  00018	607a		 str         r2,[r7,#4]
  0001a	613a		 str         r2,[r7,#0x10]

; 466  :     DWORD cFound = 0;

  0001c	f04f 0900	 mov         r9,#0
  00020	f8c7 9000	 str         r9,[r7]
  00024	f8c7 9014	 str         r9,[r7,#0x14]

; 467  :     BOOL fRet = TRUE;

  00028	2501		 movs        r5,#1

; 468  :     SETFNAME(_T("GetClassFromName"));

  0002a	f8df a118	 ldr         r10,|$LN73@GetClassFr| ; =|??_C@_1CC@HEACIIOP@?$AAG?$AAe?$AAt?$AAC?$AAl?$AAa?$AAs?$AAs?$AAF?$AAr?$AAo?$AAm?$AAN?$AAa?$AAm?$AAe?$AA?$AA@|
  0002e	f8c7 a008	 str         r10,[r7,#8]

; 469  : 
; 470  :     PREFAST_DEBUGCHK(guidDevClass != NULL);
; 471  :     if( pszName == NULL || guidDevClass == NULL ){

  00032	2800		 cmp         r0,#0
  00034	d070		 beq         |$LN16@GetClassFr|
  00036	2c00		 cmp         r4,#0
  00038	d06e		 beq         |$LN16@GetClassFr|
  0003a		 |$LN31@GetClassFr|

; 473  :     } 
; 474  : 
; 475  :     __try {
; 476  :         memset(guidDevClass, 0, sizeof(*guidDevClass));  // Default to returning a NULL GUID

  0003a	2300		 movs        r3,#0
  0003c	6023		 str         r3,[r4]
  0003e	6063		 str         r3,[r4,#4]
  00040	60a3		 str         r3,[r4,#8]
  00042	60e3		 str         r3,[r4,#0xC]

; 477  :     
; 478  :         // Iterate through the lists of classes
; 479  :         for(pdl = gpDeviceLists; pdl != NULL; pdl = pdl->pNext) {

  00044	4b3e		 ldr         r3,|$LN72@GetClassFr| ; =|gpDeviceLists|
  00046	681e		 ldr         r6,[r3]
  00048	f04f 0800	 mov         r8,#0
  0004c		 |$LN57@GetClassFr|
  0004c	61be		 str         r6,[r7,#0x18]
  0004e	b3fe		 cbz         r6,|$LN12@GetClassFr|

; 93   :     EnterCriticalSection(&gcsPowerManager);

  00050	4838		 ldr         r0,|$LN69@GetClassFr| ; =|gcsPowerManager|
  00052	f000 f800	 bl          EnterCriticalSection
  00056		 |$LN38@GetClassFr|

; 480  : 
; 481  :             PDEVICE_STATE pds = NULL;
; 482  : 
; 483  :             PMLOCK();
; 484  : 
; 485  :             __try {
; 486  :                 // Iterate through the devices in this class looking for a matching name
; 487  :                 for(pds = pdl->pList; pds != NULL; pds = pds->pNext) {

  00056	f8d6 9004	 ldr         r9,[r6,#4]
  0005a		 |$LL10@GetClassFr|
  0005a	f1b9 0f00	 cmp         r9,#0
  0005e	d013		 beq         |$LN56@GetClassFr|

; 488  :                     if(_tcscmp(pds->pszName, pszName) == 0) {

  00060	f8d9 0000	 ldr         r0,[r9]
  00064	68f9		 ldr         r1,[r7,#0xC]
  00066	f000 f800	 bl          wcscmp
  0006a	b110		 cbz         r0,|$LN49@GetClassFr|

; 480  : 
; 481  :             PDEVICE_STATE pds = NULL;
; 482  : 
; 483  :             PMLOCK();
; 484  : 
; 485  :             __try {
; 486  :                 // Iterate through the devices in this class looking for a matching name
; 487  :                 for(pds = pdl->pList; pds != NULL; pds = pds->pNext) {

  0006c	f8d9 9068	 ldr         r9,[r9,#0x68]
  00070	e7f3		 b           |$LL10@GetClassFr|
  00072		 |$LN49@GetClassFr|

; 489  :                         pdlFound = pdl;

  00072	607e		 str         r6,[r7,#4]
  00074	613e		 str         r6,[r7,#0x10]

; 490  :                         cFound++;

  00076	f8d7 9000	 ldr         r9,[r7]
  0007a	f109 0901	 add         r9,r9,#1
  0007e	f8c7 9000	 str         r9,[r7]
  00082	f8c7 9014	 str         r9,[r7,#0x14]
  00086	e001		 b           |$LN39@GetClassFr|
  00088		 |$LN56@GetClassFr|
  00088	f8d7 9000	 ldr         r9,[r7]
  0008c		 |$LN39@GetClassFr|

; 491  :                         break;
; 492  :                     }
; 493  :                 }

  0008c	e01b		 b           |$LN40@GetClassFr|
  0008e		 |$LN35@GetClassFr|
  0008e		 |$LN37@GetClassFr|

; 494  :             }
; 495  :             __except(EXCEPTION_EXECUTE_HANDLER) {
; 496  :                 PMLOGMSG(ZONE_WARN, (_T("%s: exception searching list\r\n"), 
; 497  :                     pszFname));

  0008e	4b2b		 ldr         r3,|$LN71@GetClassFr| ; =|dpCurSettings|
  00090	f8d3 3440	 ldr         r3,[r3,#0x440]
  00094	f013 0f02	 tst         r3,#2
  00098	f8d7 a008	 ldr         r10,[r7,#8]
  0009c	d003		 beq         |$LN20@GetClassFr|
  0009e	4826		 ldr         r0,|$LN70@GetClassFr| ; =|??_C@_1DO@JAALAKBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  000a0	4651		 mov         r1,r10
  000a2	f000 f800	 bl          CeLogMsg
  000a6		 |$LN20@GetClassFr|

; 498  :                 fRet = FALSE;  // Indicate an error occured

  000a6	f04f 0800	 mov         r8,#0
  000aa	4645		 mov         r5,r8
  000ac	f8c7 801c	 str         r8,[r7,#0x1C]

; 499  :                 goto Exit;

  000b0	6cfc		 ldr         r4,[r7,#0x4C]
  000b2	6cbb		 ldr         r3,[r7,#0x48]
  000b4	60fb		 str         r3,[r7,#0xC]
  000b6	693b		 ldr         r3,[r7,#0x10]
  000b8	607b		 str         r3,[r7,#4]
  000ba	f8d7 9014	 ldr         r9,[r7,#0x14]
  000be	f8c7 9000	 str         r9,[r7]
  000c2	69be		 ldr         r6,[r7,#0x18]
  000c4	e029		 b           |$LN18@GetClassFr|
  000c6		 |$LN40@GetClassFr|

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  000c6	481b		 ldr         r0,|$LN69@GetClassFr| ; =|gcsPowerManager|
  000c8	f000 f800	 bl          LeaveCriticalSection

; 477  :     
; 478  :         // Iterate through the lists of classes
; 479  :         for(pdl = gpDeviceLists; pdl != NULL; pdl = pdl->pNext) {

  000cc	6976		 ldr         r6,[r6,#0x14]
  000ce	e7bd		 b           |$LN57@GetClassFr|
  000d0		 |$LN12@GetClassFr|

; 500  :             }
; 501  : 
; 502  :             PMUNLOCK();
; 503  : 
; 504  :         }
; 505  : 
; 506  :         // If the device was found exactly once. If it was found more than once then the
; 507  :         // user MUST specify the class. 
; 508  :         switch( cFound )

  000d0	f1b9 0f00	 cmp         r9,#0
  000d4	d00e		 beq         |$LN3@GetClassFr|
  000d6	f1b9 0f01	 cmp         r9,#1
  000da	d008		 beq         |$LN2@GetClassFr|

; 521  : 
; 522  :           default:
; 523  :             // Found the device name in multiple classes so return an error.
; 524  :             // We can't correctly set the GUID in this case. So the API user must supply it
; 525  :             PMLOGMSG(TRUE, (_T("%s: found the device name in multiple classes, returning error.\r\n"),
; 526  :                 pszFname, guidDevClass));

  000dc	4814		 ldr         r0,|$LN68@GetClassFr| ; =|??_C@_1IE@MDHCBALB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAf?$AAo?$AAu?$AAn?$AAd?$AA?5?$AAt?$AAh?$AAe?$AA?5?$AAd?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAi?$AAn?$AA?5?$AAm?$AAu?$AAl@|
  000de	4622		 mov         r2,r4
  000e0	4651		 mov         r1,r10
  000e2	f000 f800	 bl          CeLogMsg

; 527  :             fRet = FALSE;

  000e6	4645		 mov         r5,r8
  000e8	f8c7 801c	 str         r8,[r7,#0x1C]

; 528  :             break;

  000ec	e00b		 b           |$LN32@GetClassFr|
  000ee		 |$LN2@GetClassFr|

; 515  :             break;
; 516  : 
; 517  :           case 1:
; 518  :             // Found the name in a single class so return that class's GUID
; 519  :            *guidDevClass = *(pdlFound->pGuid);  

  000ee	687b		 ldr         r3,[r7,#4]
  000f0	681a		 ldr         r2,[r3]

; 520  :             break;

  000f2	e000		 b           |$LN58@GetClassFr|
  000f4		 |$LN3@GetClassFr|

; 509  :         {
; 510  :           case 0:
; 511  :             // The Class for this name hasn't been established, return the default class
; 512  :             // to match CE 6.0 behavior in PmRegisterPowerRelationship when creating
; 513  :             // Child
; 514  :             *guidDevClass = idGenericPMDeviceClass;

  000f4	4a0d		 ldr         r2,|$LN67@GetClassFr| ; =|idGenericPMDeviceClass|
  000f6		 |$LN58@GetClassFr|
  000f6	6813		 ldr         r3,[r2]
  000f8	6023		 str         r3,[r4]
  000fa	6853		 ldr         r3,[r2,#4]
  000fc	6063		 str         r3,[r4,#4]
  000fe	6893		 ldr         r3,[r2,#8]
  00100	60a3		 str         r3,[r4,#8]
  00102	68d3		 ldr         r3,[r2,#0xC]
  00104	60e3		 str         r3,[r4,#0xC]
  00106		 |$LN32@GetClassFr|

; 529  :         }            

  00106	e008		 b           |$LN18@GetClassFr|
  00108		 |$LN28@GetClassFr|
  00108		 |$LN30@GetClassFr|

; 530  :         
; 531  :     }
; 532  :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 533  :         PMLOGMSG(TRUE, (_T("%s: exception accessing guidDevClass 0x%08x\r\n"),
; 534  :             pszFname, guidDevClass));

  00108	4807		 ldr         r0,|$LN66@GetClassFr| ; =|??_C@_1FM@FBMGAPFJ@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAa?$AAc?$AAc?$AAe?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAg?$AAu?$AAi?$AAd?$AAD?$AAe?$AAv?$AAC@|
  0010a	6cfa		 ldr         r2,[r7,#0x4C]
  0010c	68b9		 ldr         r1,[r7,#8]
  0010e	f000 f800	 bl          CeLogMsg

; 535  :         fRet = FALSE;    // Indicate an error occured

  00112	2500		 movs        r5,#0
  00114	61fd		 str         r5,[r7,#0x1C]
  00116	e000		 b           |$LN18@GetClassFr|
  00118		 |$LN16@GetClassFr|

; 472  :         return FALSE;        

  00118	2500		 movs        r5,#0
  0011a		 |$LN18@GetClassFr|

; 536  :     }
; 537  : Exit:
; 538  : 
; 539  :     return fRet;
; 540  : }

  0011a	4628		 mov         r0,r5
  0011c		 |$M64|
  0011c	b009		 add         sp,sp,#0x24
  0011e	e8bd 0ff0	 pop         {r4-r11}
  00122	f85d fb0c	 ldr         pc,[sp],#0xC
  00126		 |$LN74@GetClassFr|
  00126		 |$M75|
  00126	defe		 __debugbreak
  00128		 |$LN65@GetClassFr|
  00128		 |$LN66@GetClassFr|
  00128	0000 0000	 DCD         |??_C@_1FM@FBMGAPFJ@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAa?$AAc?$AAc?$AAe?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAg?$AAu?$AAi?$AAd?$AAD?$AAe?$AAv?$AAC@|
  0012c		 |$LN67@GetClassFr|
  0012c	0000 0000	 DCD         |idGenericPMDeviceClass|
  00130		 |$LN68@GetClassFr|
  00130	0000 0000	 DCD         |??_C@_1IE@MDHCBALB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAf?$AAo?$AAu?$AAn?$AAd?$AA?5?$AAt?$AAh?$AAe?$AA?5?$AAd?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAi?$AAn?$AA?5?$AAm?$AAu?$AAl@|
  00134		 |$LN69@GetClassFr|
  00134	0000 0000	 DCD         |gcsPowerManager|
  00138		 |$LN70@GetClassFr|
  00138	0000 0000	 DCD         |??_C@_1DO@JAALAKBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  0013c		 |$LN71@GetClassFr|
  0013c	0000 0000	 DCD         |dpCurSettings|
  00140		 |$LN72@GetClassFr|
  00140	0000 0000	 DCD         |gpDeviceLists|
  00144		 |$LN73@GetClassFr|
  00144	0000 0000	 DCD         |??_C@_1CC@HEACIIOP@?$AAG?$AAe?$AAt?$AAC?$AAl?$AAa?$AAs?$AAs?$AAF?$AAr?$AAo?$AAm?$AAN?$AAa?$AAm?$AAe?$AA?$AA@|

			 ENDP  ; |?GetClassFromName@@YAHPBGPAU_GUID@@@Z|, GetClassFromName

  00148		 |$LN60@GetClassFr|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?wUUIDFromString@@YAHPBGPAU_GUID@@@Z| DCD imagerel |$LN18@wUUIDFromS|
	DCD	imagerel |$unwind2$?wUUIDFromString@@YAHPBGPAU_GUID@@@Z|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$?wUUIDFromString@@YAHPBGPAU_GUID@@@Z| DCD 0x22a00077
	DCD	0x218a8fc
	DCD	0xff03efff
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?wUUIDFromString@@YAHPBGPAU_GUID@@@Z| PROC ; wUUIDFromString

; 237  : {

  00000		 |$LN18@wUUIDFromS|
  00000	b403		 push        {r0,r1}
  00002	e92d 4818	 push        {r3,r4,r11,lr}
  00006	f20d 0b08	 addw        r11,sp,#8
  0000a		 |$M16|

; 238  :     DWORD dw;
; 239  :     
; 240  :     if (!HexStringToDword(lpsz, pguid->Data1, sizeof(DWORD)*2, '-'))

  0000a	a804		 add         r0,sp,#0x10
  0000c	232d		 movs        r3,#0x2D
  0000e	2208		 movs        r2,#8
  00010	460c		 mov         r4,r1
  00012	f000 f800	 bl          |?HexStringToDword@@YAHAAPBGAAKHG@Z|
  00016	b908		 cbnz        r0,|$LN11@wUUIDFromS|
  00018		 |$LN14@wUUIDFromS|

; 241  :         return FALSE;

  00018	2000		 movs        r0,#0
  0001a	e064		 b           |$LN12@wUUIDFromS|
  0001c		 |$LN11@wUUIDFromS|

; 242  :     
; 243  :     if (!HexStringToDword(lpsz, dw, sizeof(WORD)*2, '-'))

  0001c	4669		 mov         r1,sp
  0001e	a804		 add         r0,sp,#0x10
  00020	232d		 movs        r3,#0x2D
  00022	2204		 movs        r2,#4
  00024	f000 f800	 bl          |?HexStringToDword@@YAHAAPBGAAKHG@Z|
  00028	2800		 cmp         r0,#0
  0002a	d0f5		 beq         |$LN14@wUUIDFromS|

; 244  :         return FALSE;
; 245  :     
; 246  :     pguid->Data2 = (WORD)dw;

  0002c	9b00		 ldr         r3,[sp]

; 247  :     
; 248  :     if (!HexStringToDword(lpsz, dw, sizeof(WORD)*2, '-'))

  0002e	4669		 mov         r1,sp
  00030	a804		 add         r0,sp,#0x10
  00032	80a3		 strh        r3,[r4,#4]
  00034	232d		 movs        r3,#0x2D
  00036	2204		 movs        r2,#4
  00038	f000 f800	 bl          |?HexStringToDword@@YAHAAPBGAAKHG@Z|
  0003c	2800		 cmp         r0,#0
  0003e	d0eb		 beq         |$LN14@wUUIDFromS|

; 249  :         return FALSE;
; 250  :     
; 251  :     pguid->Data3 = (WORD)dw;

  00040	9b00		 ldr         r3,[sp]

; 252  :     
; 253  :     if (!HexStringToDword(lpsz, dw, sizeof(BYTE)*2, 0))

  00042	4669		 mov         r1,sp
  00044	a804		 add         r0,sp,#0x10
  00046	80e3		 strh        r3,[r4,#6]
  00048	2300		 movs        r3,#0
  0004a	2202		 movs        r2,#2
  0004c	f000 f800	 bl          |?HexStringToDword@@YAHAAPBGAAKHG@Z|
  00050	2800		 cmp         r0,#0
  00052	d0e1		 beq         |$LN14@wUUIDFromS|

; 254  :         return FALSE;
; 255  :     
; 256  :     pguid->Data4[0] = (BYTE)dw;

  00054	9b00		 ldr         r3,[sp]

; 257  :     
; 258  :     if (!HexStringToDword(lpsz, dw, sizeof(BYTE)*2, '-'))

  00056	4669		 mov         r1,sp
  00058	a804		 add         r0,sp,#0x10
  0005a	7223		 strb        r3,[r4,#8]
  0005c	232d		 movs        r3,#0x2D
  0005e	2202		 movs        r2,#2
  00060	f000 f800	 bl          |?HexStringToDword@@YAHAAPBGAAKHG@Z|
  00064	2800		 cmp         r0,#0
  00066	d0d7		 beq         |$LN14@wUUIDFromS|

; 259  :         return FALSE;
; 260  :     
; 261  :     pguid->Data4[1] = (BYTE)dw;

  00068	9b00		 ldr         r3,[sp]

; 262  :     
; 263  :     if (!HexStringToDword(lpsz, dw, sizeof(BYTE)*2, 0))

  0006a	4669		 mov         r1,sp
  0006c	a804		 add         r0,sp,#0x10
  0006e	7263		 strb        r3,[r4,#9]
  00070	2300		 movs        r3,#0
  00072	2202		 movs        r2,#2
  00074	f000 f800	 bl          |?HexStringToDword@@YAHAAPBGAAKHG@Z|
  00078	2800		 cmp         r0,#0
  0007a	d0cd		 beq         |$LN14@wUUIDFromS|

; 264  :         return FALSE;
; 265  :     
; 266  :     pguid->Data4[2] = (BYTE)dw;

  0007c	9b00		 ldr         r3,[sp]

; 267  :     
; 268  :     if (!HexStringToDword(lpsz, dw, sizeof(BYTE)*2, 0))

  0007e	4669		 mov         r1,sp
  00080	a804		 add         r0,sp,#0x10
  00082	72a3		 strb        r3,[r4,#0xA]
  00084	2300		 movs        r3,#0
  00086	2202		 movs        r2,#2
  00088	f000 f800	 bl          |?HexStringToDword@@YAHAAPBGAAKHG@Z|
  0008c	2800		 cmp         r0,#0
  0008e	d0c3		 beq         |$LN14@wUUIDFromS|

; 269  :         return FALSE;
; 270  :     
; 271  :     pguid->Data4[3] = (BYTE)dw;

  00090	9b00		 ldr         r3,[sp]

; 272  :     
; 273  :     if (!HexStringToDword(lpsz, dw, sizeof(BYTE)*2, 0))

  00092	4669		 mov         r1,sp
  00094	a804		 add         r0,sp,#0x10
  00096	72e3		 strb        r3,[r4,#0xB]
  00098	2300		 movs        r3,#0
  0009a	2202		 movs        r2,#2
  0009c	f000 f800	 bl          |?HexStringToDword@@YAHAAPBGAAKHG@Z|
  000a0	2800		 cmp         r0,#0
  000a2	d0b9		 beq         |$LN14@wUUIDFromS|

; 274  :         return FALSE;
; 275  :     
; 276  :     pguid->Data4[4] = (BYTE)dw;

  000a4	9b00		 ldr         r3,[sp]

; 277  :     
; 278  :     if (!HexStringToDword(lpsz, dw, sizeof(BYTE)*2, 0))

  000a6	4669		 mov         r1,sp
  000a8	a804		 add         r0,sp,#0x10
  000aa	7323		 strb        r3,[r4,#0xC]
  000ac	2300		 movs        r3,#0
  000ae	2202		 movs        r2,#2
  000b0	f000 f800	 bl          |?HexStringToDword@@YAHAAPBGAAKHG@Z|
  000b4	2800		 cmp         r0,#0
  000b6	d0af		 beq         |$LN14@wUUIDFromS|

; 279  :         return FALSE;
; 280  :     
; 281  :     pguid->Data4[5] = (BYTE)dw;

  000b8	9b00		 ldr         r3,[sp]

; 282  :     
; 283  :     if (!HexStringToDword(lpsz, dw, sizeof(BYTE)*2, 0))

  000ba	4669		 mov         r1,sp
  000bc	a804		 add         r0,sp,#0x10
  000be	7363		 strb        r3,[r4,#0xD]
  000c0	2300		 movs        r3,#0
  000c2	2202		 movs        r2,#2
  000c4	f000 f800	 bl          |?HexStringToDword@@YAHAAPBGAAKHG@Z|
  000c8	2800		 cmp         r0,#0
  000ca	d0a5		 beq         |$LN14@wUUIDFromS|

; 284  :         return FALSE;
; 285  :     
; 286  :     pguid->Data4[6] = (BYTE)dw;

  000cc	9b00		 ldr         r3,[sp]

; 287  :     if (!HexStringToDword(lpsz, dw, sizeof(BYTE)*2, 0))

  000ce	4669		 mov         r1,sp
  000d0	a804		 add         r0,sp,#0x10
  000d2	73a3		 strb        r3,[r4,#0xE]
  000d4	2300		 movs        r3,#0
  000d6	2202		 movs        r2,#2
  000d8	f000 f800	 bl          |?HexStringToDword@@YAHAAPBGAAKHG@Z|
  000dc	2800		 cmp         r0,#0
  000de	d09b		 beq         |$LN14@wUUIDFromS|

; 288  :         return FALSE;
; 289  :     
; 290  :     pguid->Data4[7] = (BYTE)dw;

  000e0	9b00		 ldr         r3,[sp]

; 291  :     
; 292  :     return TRUE;

  000e2	2001		 movs        r0,#1
  000e4	73e3		 strb        r3,[r4,#0xF]
  000e6		 |$LN12@wUUIDFromS|
  000e6		 |$M19|

; 293  : }

  000e6	e8bd 0818	 pop         {r3,r4,r11}
  000ea	f85d fb0c	 ldr         pc,[sp],#0xC
  000ee		 |$M17|

			 ENDP  ; |?wUUIDFromString@@YAHPBGPAU_GUID@@@Z|, wUUIDFromString

	EXPORT	|??_C@_1CO@DBOLMNLM@?$AAG?$AAe?$AAt?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAF?$AAr?$AAo?$AAm?$AAC?$AAl?$AAa?$AAs?$AAs?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|GetDeviceListFromClass|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$GetDeviceListFromClass| DCD imagerel |$LN33@GetDeviceL|
	DCD	imagerel |$unwind2$GetDeviceListFromClass|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$GetDeviceListFromClass| DCD 0x33300023
	DCD	0xbea8fcc7
	DCD	0x3efff02
	DCD	0xff
	DCD	imagerel |__C_specific_handler|
	DCD	0x1
	DCD	imagerel |$LN15@GetDeviceL|
	DCD	imagerel |$LN16@GetDeviceL|
	DCD	0x1
	DCD	imagerel |$LN12@GetDeviceL|

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CO@DBOLMNLM@?$AAG?$AAe?$AAt?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAF?$AAr?$AAo?$AAm?$AAC?$AAl?$AAa?$AAs?$AAs?$AA?$AA@| DCB "G"
	DCB	0x0, "e", 0x0, "t", 0x0, "D", 0x0, "e", 0x0, "v", 0x0, "i"
	DCB	0x0, "c", 0x0, "e", 0x0, "L", 0x0, "i", 0x0, "s", 0x0, "t"
	DCB	0x0, "F", 0x0, "r", 0x0, "o", 0x0, "m", 0x0, "C", 0x0, "l"
	DCB	0x0, "a", 0x0, "s", 0x0, "s", 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp
; File c:\wince800\public\common\sdk\inc\guiddef.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |GetDeviceListFromClass| PROC

; 1406 : {

  00000		 |$LN33@GetDeviceL|
  00000	b403		 push        {r0,r1}
  00002	e92d 48be	 push        {r1-r5,r7,r11,lr}
  00006	f20d 0b18	 addw        r11,sp,#0x18
  0000a	466f		 mov         r7,sp
  0000c		 |$LN31@GetDeviceL|
  0000c	4605		 mov         r5,r0
  0000e	623d		 str         r5,[r7,#0x20]

; 1407 :     PDEVICE_LIST pdl;
; 1408 :     SETFNAME(_T("GetDeviceListFromClass"));

  00010	4b0f		 ldr         r3,|$LN39@GetDeviceL| ; =|??_C@_1CO@DBOLMNLM@?$AAG?$AAe?$AAt?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAF?$AAr?$AAo?$AAm?$AAC?$AAl?$AAa?$AAs?$AAs?$AA?$AA@|
  00012	607b		 str         r3,[r7,#4]
  00014		 |$LN15@GetDeviceL|

; 1414 :         for(pdl = gpDeviceLists; pdl != NULL; pdl = pdl->pNext) {

  00014	4b0d		 ldr         r3,|$LN38@GetDeviceL| ; =|gpDeviceLists|
  00016	681c		 ldr         r4,[r3]
  00018		 |$LN30@GetDeviceL|
  00018	603c		 str         r4,[r7]
  0001a	b13c		 cbz         r4,|$LN16@GetDeviceL|

; 1415 :             if(*pdl->pGuid == *guidDevClass) {

  0001c	6820		 ldr         r0,[r4]
; File c:\wince800\public\common\sdk\inc\guiddef.h

; 150  :     return !memcmp(&rguid1, &rguid2, sizeof(GUID));

  0001e	2210		 movs        r2,#0x10
  00020	4629		 mov         r1,r5
  00022	f000 f800	 bl          memcmp
  00026	b108		 cbz         r0,|$LN16@GetDeviceL|
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

; 1414 :         for(pdl = gpDeviceLists; pdl != NULL; pdl = pdl->pNext) {

  00028	6964		 ldr         r4,[r4,#0x14]
  0002a	e7f5		 b           |$LN30@GetDeviceL|
  0002c		 |$LN16@GetDeviceL|

; 1416 :                 break;
; 1417 :             }
; 1418 :         }

  0002c	e006		 b           |$LN6@GetDeviceL|
  0002e		 |$LN12@GetDeviceL|
  0002e		 |$LN14@GetDeviceL|

; 1419 :     }
; 1420 :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 1421 :         PMLOGMSG(TRUE, (_T("%s: exception accessing guidDevClass 0x%08x\r\n"),
; 1422 :             pszFname, guidDevClass));

  0002e	4806		 ldr         r0,|$LN37@GetDeviceL| ; =|??_C@_1FM@FBMGAPFJ@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAa?$AAc?$AAc?$AAe?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAg?$AAu?$AAi?$AAd?$AAD?$AAe?$AAv?$AAC@|
  00030	6a3a		 ldr         r2,[r7,#0x20]
  00032	6879		 ldr         r1,[r7,#4]
  00034	f000 f800	 bl          CeLogMsg

; 1423 :         pdl = NULL;

  00038	2400		 movs        r4,#0
  0003a	603c		 str         r4,[r7]
  0003c		 |$LN6@GetDeviceL|

; 1424 :     }
; 1425 : 
; 1426 :     return pdl;
; 1427 : }

  0003c	4620		 mov         r0,r4
  0003e		 |$M35|
  0003e	e8bd 08be	 pop         {r1-r5,r7,r11}
  00042	f85d fb0c	 ldr         pc,[sp],#0xC
  00046		 |$LN40@GetDeviceL|
  00046		 |$M41|
  00046	defe		 __debugbreak
  00048		 |$LN36@GetDeviceL|
  00048		 |$LN37@GetDeviceL|
  00048	0000 0000	 DCD         |??_C@_1FM@FBMGAPFJ@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAa?$AAc?$AAc?$AAe?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAg?$AAu?$AAi?$AAd?$AAD?$AAe?$AAv?$AAC@|
  0004c		 |$LN38@GetDeviceL|
  0004c	0000 0000	 DCD         |gpDeviceLists|
  00050		 |$LN39@GetDeviceL|
  00050	0000 0000	 DCD         |??_C@_1CO@DBOLMNLM@?$AAG?$AAe?$AAt?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAF?$AAr?$AAo?$AAm?$AAC?$AAl?$AAa?$AAs?$AAs?$AA?$AA@|

			 ENDP  ; |GetDeviceListFromClass|

  00054		 |$LN32@GetDeviceL|
	EXPORT	|??9@YAHABU_GUID@@0@Z|			; operator!=

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$??9@YAHABU_GUID@@0@Z| DCD imagerel |$LN14@operator|
	DCD	0x3f6031
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\guiddef.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |??9@YAHABU_GUID@@0@Z| PROC		; operator!=

; 188  : {

  00000		 |$LN14@operator|
  00000	e92d 4800	 push        {r11,lr}
  00004	46eb		 mov         r11,sp
  00006		 |$M12|

; 150  :     return !memcmp(&rguid1, &rguid2, sizeof(GUID));

  00006	2210		 movs        r2,#0x10
  00008	f000 f800	 bl          memcmp
  0000c	b108		 cbz         r0,|$LN3@operator|

; 189  :     return !(guidOne == guidOther);

  0000e	2001		 movs        r0,#1
  00010	e000		 b           |$LN4@operator|
  00012		 |$LN3@operator|
  00012	2000		 movs        r0,#0
  00014		 |$LN4@operator|
  00014		 |$M15|

; 190  : }

  00014	e8bd 8800	 pop         {r11,pc}
  00018		 |$M13|

			 ENDP  ; |??9@YAHABU_GUID@@0@Z|, operator!=

	EXPORT	|??_C@_1HI@DIOFPKMA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAs?$AAt?$AAi?$AAn?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAb?$AAu?$AAf?$AAf?$AAe?$AAr?$AA?5?$AAs?$AAi?$AAz?$AAe?$AA?5?$AA?$CF?$AAd?$AA?5?$AAt@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DA@LNNIEIHK@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAC?$AAl?$AAo?$AAn?$AAe?$AAI?$AAn?$AAt?$AAo?$AAB?$AAu?$AAf?$AAf?$AAe?$AAr?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EG@NNKPJLFF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAd?$AAu?$AAr?$AAi?$AAn?$AAg?$AA?5?$AAm?$AAe?$AAm?$AAb?$AAe?$AAr?$AA?5?$AAc?$AAo?$AAp?$AAy@| [ DATA ] ; `string'
	EXPORT	|DeviceIdCloneIntoBuffer|
	IMPORT	|memset|
	IMPORT	|StringCbCopyW|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceIdCloneIntoBuffer| DCD imagerel |$LN25@DeviceIdCl|
	DCD	imagerel |$unwind2$DeviceIdCloneIntoBuffer|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$DeviceIdCloneIntoBuffer| DCD 0x20100047
	DCD	0xfca8fcc7
	DCD	0xff
	DCD	imagerel |__C_specific_handler|
	DCD	0x1
	DCD	imagerel |$LN17@DeviceIdCl|
	DCD	imagerel |$LN18@DeviceIdCl|
	DCD	0x1
	DCD	imagerel |$LN14@DeviceIdCl|

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EG@NNKPJLFF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAd?$AAu?$AAr?$AAi?$AAn?$AAg?$AA?5?$AAm?$AAe?$AAm?$AAb?$AAe?$AAr?$AA?5?$AAc?$AAo?$AAp?$AAy@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "x", 0x0, "c"
	DCB	0x0, "e", 0x0, "p", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, " ", 0x0, "d", 0x0, "u", 0x0, "r", 0x0, "i", 0x0, "n"
	DCB	0x0, "g", 0x0, " ", 0x0, "m", 0x0, "e", 0x0, "m", 0x0, "b"
	DCB	0x0, "e", 0x0, "r", 0x0, " ", 0x0, "c", 0x0, "o", 0x0, "p"
	DCB	0x0, "y", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DA@LNNIEIHK@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAC?$AAl?$AAo?$AAn?$AAe?$AAI?$AAn?$AAt?$AAo?$AAB?$AAu?$AAf?$AAf?$AAe?$AAr?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "I"
	DCB	0x0, "d", 0x0, "C", 0x0, "l", 0x0, "o", 0x0, "n", 0x0, "e"
	DCB	0x0, "I", 0x0, "n", 0x0, "t", 0x0, "o", 0x0, "B", 0x0, "u"
	DCB	0x0, "f", 0x0, "f", 0x0, "e", 0x0, "r", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HI@DIOFPKMA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAs?$AAt?$AAi?$AAn?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAb?$AAu?$AAf?$AAf?$AAe?$AAr?$AA?5?$AAs?$AAi?$AAz?$AAe?$AA?5?$AA?$CF?$AAd?$AA?5?$AAt@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "d", 0x0, "e", 0x0, "s"
	DCB	0x0, "t", 0x0, "i", 0x0, "n", 0x0, "a", 0x0, "t", 0x0, "i"
	DCB	0x0, "o", 0x0, "n", 0x0, " ", 0x0, "b", 0x0, "u", 0x0, "f"
	DCB	0x0, "f", 0x0, "e", 0x0, "r", 0x0, " ", 0x0, "s", 0x0, "i"
	DCB	0x0, "z", 0x0, "e", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, " "
	DCB	0x0, "t", 0x0, "o", 0x0, "o", 0x0, " ", 0x0, "s", 0x0, "m"
	DCB	0x0, "a", 0x0, "l", 0x0, "l", 0x0, ",", 0x0, " ", 0x0, "%"
	DCB	0x0, "d", 0x0, " ", 0x0, "b", 0x0, "y", 0x0, "t", 0x0, "e"
	DCB	0x0, "s", 0x0, " ", 0x0, "n", 0x0, "e", 0x0, "e", 0x0, "d"
	DCB	0x0, "e", 0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |DeviceIdCloneIntoBuffer| PROC

; 372  : {

  00000		 |$LN25@DeviceIdCl|
  00000	e92d 48fc	 push        {r2-r7,r11,lr}
  00004	f20d 0b18	 addw        r11,sp,#0x18
  00008	466f		 mov         r7,sp
  0000a		 |$LN23@DeviceIdCl|
  0000a	4616		 mov         r6,r2
  0000c	460d		 mov         r5,r1
  0000e	4604		 mov         r4,r0

; 373  :     DWORD dwSize;
; 374  :     SETFNAME(_T("DeviceIdCloneIntoBuffer"));
; 375  : 
; 376  :     PREFAST_DEBUGCHK(pIdSrc != NULL);
; 377  :     DEBUGCHK(pIdSrc->pGuid != NULL || pIdSrc->pszName != NULL);
; 378  :     PREFAST_DEBUGCHK(pIdDst != NULL);
; 379  :     DEBUGCHK(cbDst >= sizeof(DEVICEID));
; 380  : 
; 381  :     // make sure we have enough room
; 382  :     dwSize = DeviceIdSize(pIdSrc);

  00010	f000 f800	 bl          DeviceIdSize
  00014	4602		 mov         r2,r0

; 383  :     if(cbDst < dwSize) {

  00016	4296		 cmp         r6,r2
  00018	d20d		 bcs         |$LN5@DeviceIdCl|

; 384  :         PMLOGMSG(ZONE_WARN, 
; 385  :             (_T("%s: destination buffer size %d too small, %d bytes needed\r\n"),
; 386  :             pszFname, cbDst, dwSize));

  0001a	4b1f		 ldr         r3,|$LN31@DeviceIdCl| ; =|dpCurSettings|
  0001c	f8d3 3440	 ldr         r3,[r3,#0x440]
  00020	f013 0f02	 tst         r3,#2
  00024	d005		 beq         |$LN8@DeviceIdCl|
  00026	491b		 ldr         r1,|$LN30@DeviceIdCl| ; =|??_C@_1DA@LNNIEIHK@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAC?$AAl?$AAo?$AAn?$AAe?$AAI?$AAn?$AAt?$AAo?$AAB?$AAu?$AAf?$AAf?$AAe?$AAr?$AA?$AA@|
  00028	481c		 ldr         r0,|$LN32@DeviceIdCl| ; =|??_C@_1HI@DIOFPKMA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAs?$AAt?$AAi?$AAn?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAb?$AAu?$AAf?$AAf?$AAe?$AAr?$AA?5?$AAs?$AAi?$AAz?$AAe?$AA?5?$AA?$CF?$AAd?$AA?5?$AAt@|
  0002a	4613		 mov         r3,r2
  0002c	4632		 mov         r2,r6
  0002e	f000 f800	 bl          CeLogMsg
  00032		 |$LN8@DeviceIdCl|

; 387  :         pIdDst = NULL;

  00032	2500		 movs        r5,#0

; 388  :     } else {

  00034	e028		 b           |$LN6@DeviceIdCl|
  00036		 |$LN5@DeviceIdCl|

; 389  :         memset(pIdDst, 0, dwSize);

  00036	2100		 movs        r1,#0
  00038	4628		 mov         r0,r5
  0003a	f000 f800	 bl          memset

; 390  :         pIdDst->pGuid = NULL;

  0003e	2300		 movs        r3,#0
  00040	602b		 str         r3,[r5]

; 391  :         pIdDst->pszName = NULL;

  00042	606b		 str         r3,[r5,#4]
  00044		 |$LN17@DeviceIdCl|

; 392  :         __try {
; 393  :             // copy class field if present
; 394  :             DWORD dwNameOffset = sizeof(*pIdDst);

  00044	2308		 movs        r3,#8

; 395  :             
; 396  :             if(pIdSrc->pGuid != NULL) {

  00046	6821		 ldr         r1,[r4]
  00048	b151		 cbz         r1,|$LN2@DeviceIdCl|

; 397  :                 LPGUID pGuid = (LPGUID) ((LPBYTE) pIdDst + sizeof(*pIdDst));

  0004a	18ea		 adds        r2,r5,r3

; 398  :                 *pGuid = *pIdSrc->pGuid;

  0004c	680b		 ldr         r3,[r1]
  0004e	6013		 str         r3,[r2]
  00050	684b		 ldr         r3,[r1,#4]
  00052	6053		 str         r3,[r2,#4]
  00054	688b		 ldr         r3,[r1,#8]
  00056	6093		 str         r3,[r2,#8]
  00058	68cb		 ldr         r3,[r1,#0xC]
  0005a	60d3		 str         r3,[r2,#0xC]

; 399  :                 pIdDst->pGuid = pGuid;

  0005c	602a		 str         r2,[r5]

; 400  :                 dwNameOffset += sizeof(GUID);

  0005e	2318		 movs        r3,#0x18
  00060		 |$LN2@DeviceIdCl|

; 401  :             }
; 402  : 
; 403  :             // copy name field if present
; 404  :             if(pIdSrc->pszName != NULL) {

  00060	6862		 ldr         r2,[r4,#4]
  00062	b12a		 cbz         r2,|$LN18@DeviceIdCl|

; 405  :                 LPTSTR pszName = (LPTSTR) ((LPBYTE) pIdDst + dwNameOffset);

  00064	195c		 adds        r4,r3,r5

; 406  :                 VERIFY(SUCCEEDED(StringCbCopy(pszName, cbDst - dwNameOffset, pIdSrc->pszName)));

  00066	1af1		 subs        r1,r6,r3
  00068	4620		 mov         r0,r4
  0006a	f000 f800	 bl          StringCbCopyW

; 407  :                 pIdDst->pszName = pszName;

  0006e	606c		 str         r4,[r5,#4]
  00070		 |$LN18@DeviceIdCl|

; 408  :             }            
; 409  :         }

  00070	e00a		 b           |$LN6@DeviceIdCl|
  00072		 |$LN14@DeviceIdCl|
  00072		 |$LN16@DeviceIdCl|

; 410  :         __except(EXCEPTION_EXECUTE_HANDLER) {
; 411  :             PMLOGMSG(ZONE_WARN, (_T("%s: exception during member copy\r\n"), 
; 412  :                 pszFname));

  00072	4b09		 ldr         r3,|$LN31@DeviceIdCl| ; =|dpCurSettings|
  00074	f8d3 3440	 ldr         r3,[r3,#0x440]
  00078	f013 0f02	 tst         r3,#2
  0007c	d003		 beq         |$LN10@DeviceIdCl|
  0007e	4905		 ldr         r1,|$LN30@DeviceIdCl| ; =|??_C@_1DA@LNNIEIHK@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAC?$AAl?$AAo?$AAn?$AAe?$AAI?$AAn?$AAt?$AAo?$AAB?$AAu?$AAf?$AAf?$AAe?$AAr?$AA?$AA@|
  00080	4803		 ldr         r0,|$LN29@DeviceIdCl| ; =|??_C@_1EG@NNKPJLFF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAd?$AAu?$AAr?$AAi?$AAn?$AAg?$AA?5?$AAm?$AAe?$AAm?$AAb?$AAe?$AAr?$AA?5?$AAc?$AAo?$AAp?$AAy@|
  00082	f000 f800	 bl          CeLogMsg
  00086		 |$LN10@DeviceIdCl|

; 413  :             pIdDst = NULL;

  00086	2500		 movs        r5,#0
  00088		 |$LN6@DeviceIdCl|

; 414  :         }
; 415  :     }
; 416  : 
; 417  :     return pIdDst;
; 418  : }

  00088	4628		 mov         r0,r5
  0008a		 |$M27|
  0008a	e8bd 88fc	 pop         {r2-r7,r11,pc}
  0008e		 |$LN33@DeviceIdCl|
  0008e		 |$M34|
  0008e	defe		 __debugbreak
  00090		 |$LN28@DeviceIdCl|
  00090		 |$LN29@DeviceIdCl|
  00090	0000 0000	 DCD         |??_C@_1EG@NNKPJLFF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAd?$AAu?$AAr?$AAi?$AAn?$AAg?$AA?5?$AAm?$AAe?$AAm?$AAb?$AAe?$AAr?$AA?5?$AAc?$AAo?$AAp?$AAy@|
  00094		 |$LN30@DeviceIdCl|
  00094	0000 0000	 DCD         |??_C@_1DA@LNNIEIHK@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAC?$AAl?$AAo?$AAn?$AAe?$AAI?$AAn?$AAt?$AAo?$AAB?$AAu?$AAf?$AAf?$AAe?$AAr?$AA?$AA@|
  00098		 |$LN31@DeviceIdCl|
  00098	0000 0000	 DCD         |dpCurSettings|
  0009c		 |$LN32@DeviceIdCl|
  0009c	0000 0000	 DCD         |??_C@_1HI@DIOFPKMA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAs?$AAt?$AAi?$AAn?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAb?$AAu?$AAf?$AAf?$AAe?$AAr?$AA?5?$AAs?$AAi?$AAz?$AAe?$AA?5?$AA?$CF?$AAd?$AA?5?$AAt@|

			 ENDP  ; |DeviceIdCloneIntoBuffer|

  000a0		 |$LN24@DeviceIdCl|
	EXPORT	|ActivityTimerDestroy|
	IMPORT	|CloseHandle|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$ActivityTimerDestroy| DCD imagerel |$LN11@ActivityTi|
	DCD	0xfd306071
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |ActivityTimerDestroy| PROC

; 1630 : {

  00000		 |$LN11@ActivityTi|
  00000	e92d 4818	 push        {r3,r4,r11,lr}
  00004	f20d 0b08	 addw        r11,sp,#8
  00008		 |$M9|
  00008	4604		 mov         r4,r0

; 1631 :     BOOL fOk = TRUE;
; 1632 : 
; 1633 :     // free the structure and its members
; 1634 :     if(pat != NULL) {

  0000a	b194		 cbz         r4,|$LN5@ActivityTi|

; 1635 :         if(pat->hevReset != NULL) CloseHandle(pat->hevReset);

  0000c	68e0		 ldr         r0,[r4,#0xC]
  0000e	b108		 cbz         r0,|$LN4@ActivityTi|
  00010	f000 f800	 bl          CloseHandle
  00014		 |$LN4@ActivityTi|

; 1636 :         if(pat->hevActive != NULL) CloseHandle(pat->hevActive);

  00014	6920		 ldr         r0,[r4,#0x10]
  00016	b108		 cbz         r0,|$LN3@ActivityTi|
  00018	f000 f800	 bl          CloseHandle
  0001c		 |$LN3@ActivityTi|

; 1637 :         if(pat->hevInactive != NULL) CloseHandle(pat->hevInactive);

  0001c	6960		 ldr         r0,[r4,#0x14]
  0001e	b108		 cbz         r0,|$LN2@ActivityTi|
  00020	f000 f800	 bl          CloseHandle
  00024		 |$LN2@ActivityTi|

; 1638 :         if (pat->hevAutoReset!=NULL) CloseHandle(pat->hevAutoReset);

  00024	6a60		 ldr         r0,[r4,#0x24]
  00026	b108		 cbz         r0,|$LN1@ActivityTi|
  00028	f000 f800	 bl          CloseHandle
  0002c		 |$LN1@ActivityTi|

; 1639 :         PmFree(pat);

  0002c	4620		 mov         r0,r4
  0002e	f000 f800	 bl          PmFree
  00032		 |$LN5@ActivityTi|

; 1640 :     }
; 1641 : 
; 1642 :     return fOk;

  00032	2001		 movs        r0,#1
  00034		 |$M12|

; 1643 : }

  00034	e8bd 8818	 pop         {r3,r4,r11,pc}
  00038		 |$M10|

			 ENDP  ; |ActivityTimerDestroy|

	EXPORT	|SystemPowerStateDestroy|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$SystemPowerStateDestroy| DCD imagerel |$LN7@SystemPowe|
	DCD	0x3f6025
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |SystemPowerStateDestroy| PROC

; 1488 : {

  00000		 |$LN7@SystemPowe|
  00000	e92d 4800	 push        {r11,lr}
  00004	46eb		 mov         r11,sp
  00006		 |$M5|

; 1489 :     BOOL fOk = TRUE;
; 1490 : 
; 1491 :     if(psps != NULL) {

  00006	b108		 cbz         r0,|$LN1@SystemPowe|

; 1492 :         PmFree(psps);

  00008	f000 f800	 bl          PmFree
  0000c		 |$LN1@SystemPowe|

; 1493 :     }
; 1494 : 
; 1495 :     return fOk;

  0000c	2001		 movs        r0,#1
  0000e		 |$M8|

; 1496 : }

  0000e	e8bd 8800	 pop         {r11,pc}
  00012		 |$M6|

			 ENDP  ; |SystemPowerStateDestroy|

	EXPORT	|??_C@_1KC@MNGCBOGM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAl?$AAe?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?5?$AAe?$AAn?$AAt?$AAr?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAc?$AAl?$AAa?$AAs@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CE@EAPGKPBE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAD?$AAe?$AAs?$AAt?$AAr?$AAo?$AAy?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|DeviceListDestroy|
	IMPORT	|CloseMsgQueue|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceListDestroy| DCD imagerel |$LN9@DeviceList|
	DCD	0x27000cd

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CE@EAPGKPBE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAD?$AAe?$AAs?$AAt?$AAr?$AAo?$AAy?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "L"
	DCB	0x0, "i", 0x0, "s", 0x0, "t", 0x0, "D", 0x0, "e", 0x0, "s"
	DCB	0x0, "t", 0x0, "r", 0x0, "o", 0x0, "y", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1KC@MNGCBOGM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAl?$AAe?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?5?$AAe?$AAn?$AAt?$AAr?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAc?$AAl?$AAa?$AAs@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "d", 0x0, "e", 0x0, "l"
	DCB	0x0, "e", 0x0, "t", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " "
	DCB	0x0, "l", 0x0, "i", 0x0, "s", 0x0, "t", 0x0, " ", 0x0, "e"
	DCB	0x0, "n", 0x0, "t", 0x0, "r", 0x0, "y", 0x0, " ", 0x0, "f"
	DCB	0x0, "o", 0x0, "r", 0x0, " ", 0x0, "c", 0x0, "l", 0x0, "a"
	DCB	0x0, "s", 0x0, "s", 0x0, " ", 0x0, "%", 0x0, "0", 0x0, "8"
	DCB	0x0, "x", 0x0, "-", 0x0, "%", 0x0, "0", 0x0, "4", 0x0, "x"
	DCB	0x0, "-", 0x0, "%", 0x0, "0", 0x0, "4", 0x0, "x", 0x0, "-"
	DCB	0x0, "%", 0x0, "0", 0x0, "4", 0x0, "x", 0x0, "-", 0x0, "%"
	DCB	0x0, "0", 0x0, "2", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "2"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "2", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "2", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "2"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "2", 0x0, "x", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |DeviceListDestroy| PROC

; 1385 : {

  00000		 |$LN9@DeviceList|
  00000	e92d 4810	 push        {r4,r11,lr}
  00004	f20d 0b04	 addw        r11,sp,#4
  00008	b089		 sub         sp,sp,#0x24
  0000a		 |$M7|

; 1386 :     SETFNAME(_T("DeviceListDestroy"));
; 1387 : 
; 1388 :     PMLOGMSG(ZONE_INIT || ZONE_DEVICE, 
; 1389 :         (_T("%s: deleting list entry for class %08x-%04x-%04x-%04x-%02x%02x%02x%02x%02x%02x\r\n"), 
; 1390 :         pszFname, pdl->pGuid->Data1, pdl->pGuid->Data2, pdl->pGuid->Data3,
; 1391 :         (pdl->pGuid->Data4[0] << 8) + pdl->pGuid->Data4[1], pdl->pGuid->Data4[2], pdl->pGuid->Data4[3], 
; 1392 :         pdl->pGuid->Data4[4], pdl->pGuid->Data4[5], pdl->pGuid->Data4[6], pdl->pGuid->Data4[7]));

  0000a	4b19		 ldr         r3,|$LN14@DeviceList| ; =|dpCurSettings|
  0000c	4604		 mov         r4,r0
  0000e	f8d3 3440	 ldr         r3,[r3,#0x440]
  00012	f013 0f04	 tst         r3,#4
  00016	d102		 bne         |$LN4@DeviceList|
  00018	f013 0f10	 tst         r3,#0x10
  0001c	d019		 beq         |$LN5@DeviceList|
  0001e		 |$LN4@DeviceList|
  0001e	6821		 ldr         r1,[r4]
  00020	4812		 ldr         r0,|$LN13@DeviceList| ; =|??_C@_1KC@MNGCBOGM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAl?$AAe?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?5?$AAe?$AAn?$AAt?$AAr?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAc?$AAl?$AAa?$AAs@|
  00022	7bcb		 ldrb        r3,[r1,#0xF]
  00024	7a0a		 ldrb        r2,[r1,#8]
  00026	9307		 str         r3,[sp,#0x1C]
  00028	7b8b		 ldrb        r3,[r1,#0xE]
  0002a	9306		 str         r3,[sp,#0x18]
  0002c	7b4b		 ldrb        r3,[r1,#0xD]
  0002e	9305		 str         r3,[sp,#0x14]
  00030	7b0b		 ldrb        r3,[r1,#0xC]
  00032	9304		 str         r3,[sp,#0x10]
  00034	7acb		 ldrb        r3,[r1,#0xB]
  00036	9303		 str         r3,[sp,#0xC]
  00038	7a8b		 ldrb        r3,[r1,#0xA]
  0003a	9302		 str         r3,[sp,#8]
  0003c	7a4b		 ldrb        r3,[r1,#9]
  0003e	eb03 2302	 add         r3,r3,r2,lsl #8
  00042	9301		 str         r3,[sp,#4]
  00044	88cb		 ldrh        r3,[r1,#6]
  00046	680a		 ldr         r2,[r1]
  00048	9300		 str         r3,[sp]
  0004a	888b		 ldrh        r3,[r1,#4]
  0004c	4906		 ldr         r1,|$LN12@DeviceList| ; =|??_C@_1CE@EAPGKPBE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAD?$AAe?$AAs?$AAt?$AAr?$AAo?$AAy?$AA?$AA@|
  0004e	f000 f800	 bl          CeLogMsg
  00052		 |$LN5@DeviceList|

; 1393 :     
; 1394 :     DEBUGCHK(pdl->pNext == NULL);
; 1395 :     DEBUGCHK(pdl->pList == NULL);
; 1396 :     DEBUGCHK(pdl->hnClass == NULL);
; 1397 : 
; 1398 :     if(pdl->hMsgQ) CloseMsgQueue(pdl->hMsgQ);

  00052	68a0		 ldr         r0,[r4,#8]
  00054	b108		 cbz         r0,|$LN1@DeviceList|
  00056	f000 f800	 bl          CloseMsgQueue
  0005a		 |$LN1@DeviceList|

; 1399 :     PmFree(pdl);

  0005a	4620		 mov         r0,r4
  0005c	f000 f800	 bl          PmFree
  00060		 |$M10|

; 1400 : }

  00060	b009		 add         sp,sp,#0x24
  00062	e8bd 8810	 pop         {r4,r11,pc}
  00066		 |$LN15@DeviceList|
  00066		 |$M16|
  00066	defe		 __debugbreak
  00068		 |$LN11@DeviceList|
  00068		 |$LN12@DeviceList|
  00068	0000 0000	 DCD         |??_C@_1CE@EAPGKPBE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAD?$AAe?$AAs?$AAt?$AAr?$AAo?$AAy?$AA?$AA@|
  0006c		 |$LN13@DeviceList|
  0006c	0000 0000	 DCD         |??_C@_1KC@MNGCBOGM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAl?$AAe?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?5?$AAe?$AAn?$AAt?$AAr?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAc?$AAl?$AAa?$AAs@|
  00070		 |$LN14@DeviceList|
  00070	0000 0000	 DCD         |dpCurSettings|
  00074		 |$M8|

			 ENDP  ; |DeviceListDestroy|

	EXPORT	|PowerNotificationDestroy|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$PowerNotificationDestroy| DCD imagerel |$LN8@PowerNotif|
	DCD	0xfd306041
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |PowerNotificationDestroy| PROC

; 1227 : {

  00000		 |$LN8@PowerNotif|
  00000	e92d 4818	 push        {r3,r4,r11,lr}
  00004	f20d 0b08	 addw        r11,sp,#8
  00008		 |$M6|
  00008	4604		 mov         r4,r0

; 1228 :     BOOL fOk = TRUE;
; 1229 : 
; 1230 :     if(ppn != NULL) {

  0000a	b134		 cbz         r4,|$LN2@PowerNotif|

; 1231 :         if(ppn->hMsgQ != NULL) CloseMsgQueue(ppn->hMsgQ);

  0000c	6820		 ldr         r0,[r4]
  0000e	b108		 cbz         r0,|$LN1@PowerNotif|
  00010	f000 f800	 bl          CloseMsgQueue
  00014		 |$LN1@PowerNotif|

; 1232 :         PmFree(ppn);

  00014	4620		 mov         r0,r4
  00016	f000 f800	 bl          PmFree
  0001a		 |$LN2@PowerNotif|

; 1233 :     }
; 1234 : 
; 1235 :     return fOk;

  0001a	2001		 movs        r0,#1
  0001c		 |$M9|

; 1236 : }

  0001c	e8bd 8818	 pop         {r3,r4,r11,pc}
  00020		 |$M7|

			 ENDP  ; |PowerNotificationDestroy|

	EXPORT	|PowerRestrictionDestroy|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$PowerRestrictionDestroy| DCD imagerel |$LN7@PowerRestr|
	DCD	0x3f6025
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |PowerRestrictionDestroy| PROC

; 1041 : {

  00000		 |$LN7@PowerRestr|
  00000	e92d 4800	 push        {r11,lr}
  00004	46eb		 mov         r11,sp
  00006		 |$M5|

; 1042 :     BOOL fOk = TRUE;
; 1043 : 
; 1044 :     if(pdpr != NULL) {

  00006	b108		 cbz         r0,|$LN1@PowerRestr|

; 1045 :         PmFree(pdpr);

  00008	f000 f800	 bl          PmFree
  0000c		 |$LN1@PowerRestr|

; 1046 :     }
; 1047 : 
; 1048 :     return fOk;

  0000c	2001		 movs        r0,#1
  0000e		 |$M8|

; 1049 : }

  0000e	e8bd 8800	 pop         {r11,pc}
  00012		 |$M6|

			 ENDP  ; |PowerRestrictionDestroy|

	EXPORT	|??_C@_1CM@IOMFAGMF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAl?$AAe?$AAt?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CG@EFCODPEH@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAD?$AAe?$AAs?$AAt?$AAr?$AAo?$AAy?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|DeviceStateDestroy|
	EXPORT	|DeviceStateDecRef|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceStateDestroy| DCD imagerel |$LN21@DeviceStat|
	DCD	0xfd306089

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CG@EFCODPEH@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAD?$AAe?$AAs?$AAt?$AAr?$AAo?$AAy?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "S"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "D", 0x0, "e"
	DCB	0x0, "s", 0x0, "t", 0x0, "r", 0x0, "o", 0x0, "y", 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CM@IOMFAGMF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAl?$AAe?$AAt?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "d", 0x0, "e", 0x0, "l"
	DCB	0x0, "e", 0x0, "t", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " "
	DCB	0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |DeviceStateDestroy| PROC

; 764  : {

  00000		 |$LN21@DeviceStat|
  00000	e92d 4818	 push        {r3,r4,r11,lr}
  00004	f20d 0b08	 addw        r11,sp,#8
  00008		 |$M19|

; 765  :     BOOL fOk = TRUE;
; 766  :     SETFNAME(_T("DeviceStateDestroy"));
; 767  : 
; 768  :     PMLOGMSG(ZONE_REFCNT, (_T("%s: deleting 0x%08x\r\n"), pszFname, pds));

  00008	4b10		 ldr         r3,|$LN26@DeviceStat| ; =|dpCurSettings|
  0000a	4604		 mov         r4,r0
  0000c	f8d3 3440	 ldr         r3,[r3,#0x440]
  00010	f013 0f40	 tst         r3,#0x40
  00014	d004		 beq         |$LN6@DeviceStat|
  00016	490c		 ldr         r1,|$LN25@DeviceStat| ; =|??_C@_1CG@EFCODPEH@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAD?$AAe?$AAs?$AAt?$AAr?$AAo?$AAy?$AA?$AA@|
  00018	480a		 ldr         r0,|$LN24@DeviceStat| ; =|??_C@_1CM@IOMFAGMF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAl?$AAe?$AAt?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  0001a	4622		 mov         r2,r4
  0001c	f000 f800	 bl          CeLogMsg
  00020		 |$LN6@DeviceStat|

; 769  :     if(pds != NULL) {

  00020	b16c		 cbz         r4,|$LN3@DeviceStat|

; 770  :         if(pds->pParent != NULL) DeviceStateDecRef(pds->pParent);

  00022	6a60		 ldr         r0,[r4,#0x24]
  00024	b108		 cbz         r0,|$LN2@DeviceStat|
  00026	f000 f800	 bl          DeviceStateDecRef
  0002a		 |$LN2@DeviceStat|

; 771  :         if(pds->hDevice != INVALID_HANDLE_VALUE) {

  0002a	6de0		 ldr         r0,[r4,#0x5C]
  0002c	f1b0 3fff	 cmp         r0,#0xFFFFFFFF
  00030	d002		 beq         |$LN1@DeviceStat|

; 772  :             PREFAST_DEBUGCHK(pds->pInterface != NULL);
; 773  :             pds->pInterface->pfnCloseDevice(pds->hDevice);

  00032	6e23		 ldr         r3,[r4,#0x60]
  00034	689b		 ldr         r3,[r3,#8]
  00036	4798		 blx         r3
  00038		 |$LN1@DeviceStat|

; 774  :         }
; 775  :         PmFree(pds);

  00038	4620		 mov         r0,r4
  0003a	f000 f800	 bl          PmFree
  0003e		 |$LN3@DeviceStat|

; 776  :     }
; 777  : 
; 778  :     return fOk;

  0003e	2001		 movs        r0,#1
  00040		 |$M22|

; 779  : }

  00040	e8bd 8818	 pop         {r3,r4,r11,pc}
  00044		 |$LN23@DeviceStat|
  00044		 |$LN24@DeviceStat|
  00044	0000 0000	 DCD         |??_C@_1CM@IOMFAGMF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAl?$AAe?$AAt?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  00048		 |$LN25@DeviceStat|
  00048	0000 0000	 DCD         |??_C@_1CG@EFCODPEH@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAD?$AAe?$AAs?$AAt?$AAr?$AAo?$AAy?$AA?$AA@|
  0004c		 |$LN26@DeviceStat|
  0004c	0000 0000	 DCD         |dpCurSettings|
  00050		 |$M20|

			 ENDP  ; |DeviceStateDestroy|

	EXPORT	|DeviceIdDestroy|
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |DeviceIdDestroy| PROC

; 662  :     if(pId) {

  00000	b108		 cbz         r0,|$LN1@DeviceIdDe|
  00002		 |$M5|

; 663  :         PmFree(pId);

  00002	f000 9000	 b           PmFree
  00006		 |$LN1@DeviceIdDe|
  00006		 |$M6|

; 664  :     }
; 665  : }

  00006	4770		 bx          lr

			 ENDP  ; |DeviceIdDestroy|

	EXPORT	|??_C@_1CO@HBMHNCBG@?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DK@IIMHOBCF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAc?$AAo?$AAp?$AAy?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EE@CCKMHPHP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?$AN@| [ DATA ] ; `string'
	EXPORT	|SystemPowerStateCreate|
	IMPORT	|towlower|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$SystemPowerStateCreate| DCD imagerel |$LN42@SystemPowe|
	DCD	imagerel |$unwind2$SystemPowerStateCreate|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$SystemPowerStateCreate| DCD 0x3330006d
	DCD	0xdffc05c7
	DCD	0xefdbff02
	DCD	0xff03
	DCD	imagerel |__C_specific_handler|
	DCD	0x2
	DCD	imagerel |$LN27@SystemPowe|
	DCD	imagerel |$LN28@SystemPowe|
	DCD	0x1
	DCD	imagerel |$LN24@SystemPowe|
	DCD	imagerel |$LN20@SystemPowe|
	DCD	imagerel |$LN21@SystemPowe|
	DCD	0x1
	DCD	imagerel |$LN17@SystemPowe|

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EE@CCKMHPHP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?$AN@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "c", 0x0, "o", 0x0, "u"
	DCB	0x0, "l", 0x0, "d", 0x0, "n", 0x0, "'", 0x0, "t", 0x0, " "
	DCB	0x0, "a", 0x0, "l", 0x0, "l", 0x0, "o", 0x0, "c", 0x0, "a"
	DCB	0x0, "t", 0x0, "e", 0x0, " ", 0x0, "s", 0x0, "t", 0x0, "r"
	DCB	0x0, "u", 0x0, "c", 0x0, "t", 0x0, "u", 0x0, "r", 0x0, "e"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DK@IIMHOBCF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAc?$AAo?$AAp?$AAy?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "x", 0x0, "c"
	DCB	0x0, "e", 0x0, "p", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, " ", 0x0, "c", 0x0, "o", 0x0, "p", 0x0, "y", 0x0, "i"
	DCB	0x0, "n", 0x0, "g", 0x0, " ", 0x0, "n", 0x0, "a", 0x0, "m"
	DCB	0x0, "e", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CO@HBMHNCBG@?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@| DCB "S"
	DCB	0x0, "y", 0x0, "s", 0x0, "t", 0x0, "e", 0x0, "m", 0x0, "P"
	DCB	0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "S", 0x0, "t"
	DCB	0x0, "a", 0x0, "t", 0x0, "e", 0x0, "C", 0x0, "r", 0x0, "e"
	DCB	0x0, "a", 0x0, "t", 0x0, "e", 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |SystemPowerStateCreate| PROC

; 1440 : {

  00000		 |$LN42@SystemPowe|
  00000	b403		 push        {r0,r1}
  00002	e92d 4ff0	 push        {r4-r11,lr}
  00006	f20d 0b1c	 addw        r11,sp,#0x1C
  0000a	b085		 sub         sp,sp,#0x14
  0000c	466f		 mov         r7,sp
  0000e		 |$LN40@SystemPowe|
  0000e	4681		 mov         r9,r0
  00010	6038		 str         r0,[r7]
  00012	63b8		 str         r0,[r7,#0x38]

; 1441 :     PSYSTEM_POWER_STATE psps;
; 1442 :     SETFNAME(_T("SystemPowerStateCreate"));

  00014	4e35		 ldr         r6,|$LN51@SystemPowe| ; =|??_C@_1CO@HBMHNCBG@?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  00016	60be		 str         r6,[r7,#8]

; 1443 : 
; 1444 :     PREFAST_DEBUGCHK(pszName != NULL);
; 1445 : 
; 1446 :     DWORD cchName = 0;

  00018	f04f 0800	 mov         r8,#0
  0001c	f8c7 8010	 str         r8,[r7,#0x10]
  00020		 |$LN20@SystemPowe|

; 1447 : 
; 1448 :     __try {
; 1449 :         cchName = _tcslen(pszName);

  00020	4648		 mov         r0,r9
  00022	f000 f800	 bl          wcslen
  00026	6078		 str         r0,[r7,#4]
  00028	6138		 str         r0,[r7,#0x10]

; 1450 :         DWORD dwSize = sizeof(*psps) + ((cchName + 1) * sizeof(pszName[0]));

  0002a	1dc3		 adds        r3,r0,#7
  0002c	0058		 lsls        r0,r3,#1

; 1451 :         psps = (PSYSTEM_POWER_STATE) PmAlloc(dwSize);

  0002e	f000 f800	 bl          PmAlloc
  00032	4604		 mov         r4,r0
  00034	60fc		 str         r4,[r7,#0xC]
  00036		 |$LN21@SystemPowe|

; 1452 :     }

  00036	4d2b		 ldr         r5,|$LN49@SystemPowe| ; =|dpCurSettings|
  00038	683b		 ldr         r3,[r7]
  0003a	687a		 ldr         r2,[r7,#4]
  0003c	e013		 b           |$LN22@SystemPowe|
  0003e		 |$LN17@SystemPowe|
  0003e		 |$LN19@SystemPowe|

; 1453 :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 1454 :         PMLOGMSG(ZONE_WARN, (_T("%s: exception calculating size\r\n"), pszFname));

  0003e	4d29		 ldr         r5,|$LN49@SystemPowe| ; =|dpCurSettings|

; 1452 :     }

  00040	f8d5 3440	 ldr         r3,[r5,#0x440]

; 1453 :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 1454 :         PMLOGMSG(ZONE_WARN, (_T("%s: exception calculating size\r\n"), pszFname));

  00044	f013 0f02	 tst         r3,#2
  00048	d003		 beq         |$LN9@SystemPowe|
  0004a	4928		 ldr         r1,|$LN51@SystemPowe| ; =|??_C@_1CO@HBMHNCBG@?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  0004c	4826		 ldr         r0,|$LN50@SystemPowe| ; =|??_C@_1EC@JAIMPFEK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAc?$AAa?$AAl?$AAc?$AAu?$AAl?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAi?$AAz?$AAe?$AA?$AN?$AA?6@|
  0004e	f000 f800	 bl          CeLogMsg
  00052		 |$LN9@SystemPowe|

; 1455 :         psps = NULL;

  00052	f04f 0800	 mov         r8,#0
  00056	4644		 mov         r4,r8
  00058	f8c7 800c	 str         r8,[r7,#0xC]
  0005c	6bbb		 ldr         r3,[r7,#0x38]
  0005e	603b		 str         r3,[r7]
  00060	68be		 ldr         r6,[r7,#8]
  00062	693a		 ldr         r2,[r7,#0x10]
  00064	607a		 str         r2,[r7,#4]
  00066		 |$LN22@SystemPowe|

; 1456 :     }
; 1457 : 
; 1458 :     if(psps != NULL) {

  00066	b34c		 cbz         r4,|$LN39@SystemPowe|

; 1459 :         memset(psps, 0, sizeof(*psps));

  00068	2100		 movs        r1,#0
  0006a	6021		 str         r1,[r4]
  0006c	6061		 str         r1,[r4,#4]
  0006e	60a1		 str         r1,[r4,#8]
  00070		 |$LN27@SystemPowe|

; 1460 :         __try {
; 1461 :             LPTSTR pszNameCopy = (LPTSTR) ((LPBYTE) psps + sizeof(*psps));

  00070	f114 0a0c	 adds        r10,r4,#0xC

; 1462 :             // Copy the name, converting to lower case.  We want to avoid doing
; 1463 :             // case-sensitive comparisons in the platform code while file system
; 1464 :             // access may be disabled.
; 1465 :             for (DWORD dwIndex = 0; dwIndex < cchName; dwIndex++) {

  00074	46c1		 mov         r9,r8
  00076		 |$LL3@SystemPowe|
  00076	4591		 cmp         r9,r2
  00078	d20a		 bcs         |$LN1@SystemPowe|

; 1466 :                 pszNameCopy[dwIndex] = _totlower(pszName[dwIndex]);

  0007a	f833 0019	 ldrh        r0,[r3,r9,lsl #1]
  0007e	f000 f800	 bl          towlower
  00082	f82a 0019	 strh        r0,[r10,r9,lsl #1]

; 1462 :             // Copy the name, converting to lower case.  We want to avoid doing
; 1463 :             // case-sensitive comparisons in the platform code while file system
; 1464 :             // access may be disabled.
; 1465 :             for (DWORD dwIndex = 0; dwIndex < cchName; dwIndex++) {

  00086	f109 0901	 add         r9,r9,#1
  0008a	683b		 ldr         r3,[r7]
  0008c	687a		 ldr         r2,[r7,#4]
  0008e	e7f2		 b           |$LL3@SystemPowe|
  00090		 |$LN1@SystemPowe|

; 1467 :             }
; 1468 :             pszNameCopy[cchName] = 0;

  00090	f82a 8012	 strh        r8,[r10,r2,lsl #1]

; 1469 :             psps->pszName = pszNameCopy;

  00094	f8c4 a000	 str         r10,[r4]
  00098		 |$LN28@SystemPowe|
  00098	e00f		 b           |$LN29@SystemPowe|
  0009a		 |$LN24@SystemPowe|
  0009a		 |$LN26@SystemPowe|

; 1470 :         }
; 1471 :         __except(EXCEPTION_EXECUTE_HANDLER) {
; 1472 :             PMLOGMSG(ZONE_WARN, (_T("%s: exception copying name\r\n"),
; 1473 :                 pszFname));

  0009a	4d12		 ldr         r5,|$LN49@SystemPowe| ; =|dpCurSettings|
  0009c	f8d5 3440	 ldr         r3,[r5,#0x440]
  000a0	f013 0f02	 tst         r3,#2
  000a4	68be		 ldr         r6,[r7,#8]
  000a6	d003		 beq         |$LN11@SystemPowe|
  000a8	480d		 ldr         r0,|$LN48@SystemPowe| ; =|??_C@_1DK@IIMHOBCF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAc?$AAo?$AAp?$AAy?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?$AN?$AA?6?$AA?$AA@|
  000aa	4631		 mov         r1,r6
  000ac	f000 f800	 bl          CeLogMsg
  000b0		 |$LN11@SystemPowe|

; 1474 :             PmFree(psps);

  000b0	68f8		 ldr         r0,[r7,#0xC]
  000b2	f000 f800	 bl          PmFree

; 1475 :             psps = NULL;

  000b6	2400		 movs        r4,#0
  000b8	60fc		 str         r4,[r7,#0xC]
  000ba		 |$LN29@SystemPowe|

; 1476 :         }
; 1477 :     }
; 1478 : 
; 1479 :     PMLOGMSG(psps == NULL && ZONE_WARN, 
; 1480 :         (_T("%s: couldn't allocate structure\r\n"), pszFname));

  000ba	b944		 cbnz        r4,|$LN7@SystemPowe|
  000bc		 |$LN39@SystemPowe|

; 1452 :     }

  000bc	f8d5 3440	 ldr         r3,[r5,#0x440]

; 1476 :         }
; 1477 :     }
; 1478 : 
; 1479 :     PMLOGMSG(psps == NULL && ZONE_WARN, 
; 1480 :         (_T("%s: couldn't allocate structure\r\n"), pszFname));

  000c0	f013 0f02	 tst         r3,#2
  000c4	d003		 beq         |$LN7@SystemPowe|
  000c6	4805		 ldr         r0,|$LN47@SystemPowe| ; =|??_C@_1EE@CCKMHPHP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?$AN@|
  000c8	4631		 mov         r1,r6
  000ca	f000 f800	 bl          CeLogMsg
  000ce		 |$LN7@SystemPowe|

; 1481 : 
; 1482 :     return psps;
; 1483 : }

  000ce	4620		 mov         r0,r4
  000d0		 |$M45|
  000d0	b005		 add         sp,sp,#0x14
  000d2	e8bd 0ff0	 pop         {r4-r11}
  000d6	f85d fb0c	 ldr         pc,[sp],#0xC
  000da		 |$LN52@SystemPowe|
  000da		 |$M53|
  000da	defe		 __debugbreak
  000dc		 |$LN46@SystemPowe|
  000dc		 |$LN47@SystemPowe|
  000dc	0000 0000	 DCD         |??_C@_1EE@CCKMHPHP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?$AN@|
  000e0		 |$LN48@SystemPowe|
  000e0	0000 0000	 DCD         |??_C@_1DK@IIMHOBCF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAc?$AAo?$AAp?$AAy?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?$AN?$AA?6?$AA?$AA@|
  000e4		 |$LN49@SystemPowe|
  000e4	0000 0000	 DCD         |dpCurSettings|
  000e8		 |$LN50@SystemPowe|
  000e8	0000 0000	 DCD         |??_C@_1EC@JAIMPFEK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAc?$AAa?$AAl?$AAc?$AAu?$AAl?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAi?$AAz?$AAe?$AA?$AN?$AA?6@|
  000ec		 |$LN51@SystemPowe|
  000ec	0000 0000	 DCD         |??_C@_1CO@HBMHNCBG@?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|

			 ENDP  ; |SystemPowerStateCreate|

  000f0		 |$LN41@SystemPowe|
	EXPORT	|??_C@_1KC@GDBFAAAO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?5?$AAe?$AAn?$AAt?$AAr?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAc?$AAl?$AAa?$AAs@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CC@DJAENDOM@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EC@EPHLGFP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CO@HPJBBGLL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|DeviceListCreate|
	IMPORT	|CreateMsgQueue|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceListCreate| DCD imagerel |$LN18@DeviceList|
	DCD	imagerel |$unwind2$DeviceListCreate|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$DeviceListCreate| DCD 0x33b0007d
	DCD	0xfc01e80d
	DCD	0xe8fff0a8
	DCD	0xfff0a801
	DCD	imagerel |__GSHandlerCheck|
	DCD	0xffffffe5

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CO@HPJBBGLL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "r", 0x0, "e", 0x0, "t"
	DCB	0x0, "u", 0x0, "r", 0x0, "n", 0x0, "i", 0x0, "n", 0x0, "g"
	DCB	0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8"
	DCB	0x0, "x", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EC@EPHLGFP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "C", 0x0, "r", 0x0, "e"
	DCB	0x0, "a", 0x0, "t", 0x0, "e", 0x0, "M", 0x0, "s", 0x0, "g"
	DCB	0x0, "Q", 0x0, "u", 0x0, "e", 0x0, "u", 0x0, "e", 0x0, "("
	DCB	0x0, ")", 0x0, " ", 0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l"
	DCB	0x0, "e", 0x0, "d", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CC@DJAENDOM@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "L"
	DCB	0x0, "i", 0x0, "s", 0x0, "t", 0x0, "C", 0x0, "r", 0x0, "e"
	DCB	0x0, "a", 0x0, "t", 0x0, "e", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1KC@GDBFAAAO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?5?$AAe?$AAn?$AAt?$AAr?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAc?$AAl?$AAa?$AAs@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "c", 0x0, "r", 0x0, "e"
	DCB	0x0, "a", 0x0, "t", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " "
	DCB	0x0, "l", 0x0, "i", 0x0, "s", 0x0, "t", 0x0, " ", 0x0, "e"
	DCB	0x0, "n", 0x0, "t", 0x0, "r", 0x0, "y", 0x0, " ", 0x0, "f"
	DCB	0x0, "o", 0x0, "r", 0x0, " ", 0x0, "c", 0x0, "l", 0x0, "a"
	DCB	0x0, "s", 0x0, "s", 0x0, " ", 0x0, "%", 0x0, "0", 0x0, "8"
	DCB	0x0, "x", 0x0, "-", 0x0, "%", 0x0, "0", 0x0, "4", 0x0, "x"
	DCB	0x0, "-", 0x0, "%", 0x0, "0", 0x0, "4", 0x0, "x", 0x0, "-"
	DCB	0x0, "%", 0x0, "0", 0x0, "4", 0x0, "x", 0x0, "-", 0x0, "%"
	DCB	0x0, "0", 0x0, "2", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "2"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "2", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "2", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "2"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "2", 0x0, "x", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |DeviceListCreate| PROC

; 1331 : {

  00000		 |$LN18@DeviceList|
  00000	e92d 48f0	 push        {r4-r7,r11,lr}
  00004	f20d 0b10	 addw        r11,sp,#0x10
  00008	f000 f800	 bl          __security_push_cookie
  0000c	b08d		 sub         sp,sp,#0x34
  0000e		 |$M16|

; 1332 :     PDEVICE_LIST pdl = NULL;
; 1333 :     HANDLE hMsgQ = NULL;
; 1334 :     MSGQUEUEOPTIONS msgOptions;
; 1335 :     SETFNAME(_T("DeviceListCreate"));
; 1336 : 
; 1337 :     PMLOGMSG(ZONE_INIT || ZONE_DEVICE, 
; 1338 :         (_T("%s: creating list entry for class %08x-%04x-%04x-%04x-%02x%02x%02x%02x%02x%02x\r\n"), 
; 1339 :         pszFname, pClass->Data1, pClass->Data2, pClass->Data3,
; 1340 :         (pClass->Data4[0] << 8) + pClass->Data4[1], pClass->Data4[2], pClass->Data4[3], 
; 1341 :         pClass->Data4[4], pClass->Data4[5], pClass->Data4[6], pClass->Data4[7]));

  0000e	4f3f		 ldr         r7,|$LN25@DeviceList| ; =|dpCurSettings|
  00010	4605		 mov         r5,r0
  00012	f8d7 3440	 ldr         r3,[r7,#0x440]
  00016	f013 0f04	 tst         r3,#4
  0001a	d102		 bne         |$LN8@DeviceList|
  0001c	f013 0f10	 tst         r3,#0x10
  00020	d018		 beq         |$LN9@DeviceList|
  00022		 |$LN8@DeviceList|
  00022	7beb		 ldrb        r3,[r5,#0xF]
  00024	7a2a		 ldrb        r2,[r5,#8]
  00026	4838		 ldr         r0,|$LN24@DeviceList| ; =|??_C@_1KC@GDBFAAAO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?5?$AAe?$AAn?$AAt?$AAr?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAc?$AAl?$AAa?$AAs@|
  00028	9307		 str         r3,[sp,#0x1C]
  0002a	7bab		 ldrb        r3,[r5,#0xE]
  0002c	4933		 ldr         r1,|$LN21@DeviceList| ; =|??_C@_1CC@DJAENDOM@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  0002e	9306		 str         r3,[sp,#0x18]
  00030	7b6b		 ldrb        r3,[r5,#0xD]
  00032	9305		 str         r3,[sp,#0x14]
  00034	7b2b		 ldrb        r3,[r5,#0xC]
  00036	9304		 str         r3,[sp,#0x10]
  00038	7aeb		 ldrb        r3,[r5,#0xB]
  0003a	9303		 str         r3,[sp,#0xC]
  0003c	7aab		 ldrb        r3,[r5,#0xA]
  0003e	9302		 str         r3,[sp,#8]
  00040	7a6b		 ldrb        r3,[r5,#9]
  00042	eb03 2302	 add         r3,r3,r2,lsl #8
  00046	9301		 str         r3,[sp,#4]
  00048	88eb		 ldrh        r3,[r5,#6]
  0004a	682a		 ldr         r2,[r5]
  0004c	9300		 str         r3,[sp]
  0004e	88ab		 ldrh        r3,[r5,#4]
  00050	f000 f800	 bl          CeLogMsg
  00054		 |$LN9@DeviceList|

; 1342 :     
; 1343 :     // allocate structure members
; 1344 :     pdl = (PDEVICE_LIST) PmAlloc(sizeof(*pdl) + sizeof(GUID));

  00054	2028		 movs        r0,#0x28
  00056	f000 f800	 bl          PmAlloc
  0005a	4604		 mov         r4,r0

; 1345 : 
; 1346 :     // create message queues
; 1347 :     memset(&msgOptions, 0, sizeof(msgOptions));

  0005c	a808		 add         r0,sp,#0x20
  0005e	2214		 movs        r2,#0x14
  00060	2100		 movs        r1,#0
  00062	f000 f800	 bl          memset

; 1348 :     msgOptions.dwSize = sizeof(MSGQUEUEOPTIONS);

  00066	2314		 movs        r3,#0x14
  00068	9308		 str         r3,[sp,#0x20]

; 1349 :     msgOptions.dwFlags = 0;

  0006a	2300		 movs        r3,#0
  0006c	9309		 str         r3,[sp,#0x24]

; 1350 :     msgOptions.cbMaxMessage = PNP_QUEUE_SIZE;

  0006e	f44f 7358	 mov         r3,#0x360
  00072	930b		 str         r3,[sp,#0x2C]

; 1351 :     msgOptions.bReadAccess = TRUE;

  00074	2301		 movs        r3,#1

; 1352 :     hMsgQ = CreateMsgQueue(NULL, &msgOptions);

  00076	a908		 add         r1,sp,#0x20
  00078	2000		 movs        r0,#0
  0007a	930c		 str         r3,[sp,#0x30]
  0007c	f000 f800	 bl          CreateMsgQueue
  00080	4606		 mov         r6,r0

; 1353 :     if(hMsgQ == NULL) {

  00082	b95e		 cbnz        r6,|$LN14@DeviceList|

; 1354 :         DWORD dwStatus = GetLastError();

  00084	f000 f800	 bl          GetLastError

; 1355 :         PMLOGMSG(ZONE_ERROR, (_T("%s: CreateMsgQueue() failed %d\r\n"), pszFname, dwStatus));

  00088	f8d7 3440	 ldr         r3,[r7,#0x440]
  0008c	4602		 mov         r2,r0
  0008e	f013 0f01	 tst         r3,#1
  00092	d003		 beq         |$LN14@DeviceList|
  00094	481b		 ldr         r0,|$LN23@DeviceList| ; =|??_C@_1EC@EPHLGFP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6@|
  00096	4919		 ldr         r1,|$LN21@DeviceList| ; =|??_C@_1CC@DJAENDOM@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  00098	f000 f800	 bl          CeLogMsg
  0009c		 |$LN14@DeviceList|

; 1356 :     }
; 1357 : 
; 1358 :     // initialize the structure
; 1359 :     if(pdl != NULL && hMsgQ != NULL) {

  0009c	b1bc		 cbz         r4,|$LN2@DeviceList|
  0009e	b19e		 cbz         r6,|$LN4@DeviceList|

; 1360 :         LPGUID pGuid = (LPGUID) ((LPBYTE) pdl + sizeof(*pdl));
; 1361 :         memset(pdl, 0, sizeof(pdl));

  000a0	2300		 movs        r3,#0
  000a2	6023		 str         r3,[r4]

; 1362 :         *pGuid = *pClass;

  000a4	682b		 ldr         r3,[r5]
  000a6	f114 0218	 adds        r2,r4,#0x18
  000aa	6013		 str         r3,[r2]
  000ac	686b		 ldr         r3,[r5,#4]
  000ae	6053		 str         r3,[r2,#4]
  000b0	68ab		 ldr         r3,[r5,#8]
  000b2	6093		 str         r3,[r2,#8]
  000b4	68eb		 ldr         r3,[r5,#0xC]
  000b6	60d3		 str         r3,[r2,#0xC]

; 1363 :         pdl->pGuid = pGuid;
; 1364 :         pdl->hMsgQ = hMsgQ;
; 1365 :         pdl->hnClass = NULL;

  000b8	2300		 movs        r3,#0
  000ba	60e3		 str         r3,[r4,#0xC]

; 1366 :         pdl->pInterface = NULL;

  000bc	6123		 str         r3,[r4,#0x10]

; 1367 :         pdl->pList = NULL;

  000be	6063		 str         r3,[r4,#4]

; 1368 :         pdl->pNext = NULL;

  000c0	6163		 str         r3,[r4,#0x14]
  000c2	6022		 str         r2,[r4]
  000c4	60a6		 str         r6,[r4,#8]

; 1369 :     } else {

  000c6	e007		 b           |$LN3@DeviceList|
  000c8		 |$LN4@DeviceList|

; 1370 :         // some kind of error, release resources
; 1371 :         if(pdl != NULL) PmFree(pdl);

  000c8	4620		 mov         r0,r4
  000ca	f000 f800	 bl          PmFree
  000ce		 |$LN2@DeviceList|

; 1372 :         if(hMsgQ != NULL) CloseMsgQueue(hMsgQ);

  000ce	b116		 cbz         r6,|$LN1@DeviceList|
  000d0	4630		 mov         r0,r6
  000d2	f000 f800	 bl          CloseMsgQueue
  000d6		 |$LN1@DeviceList|

; 1373 :         pdl = NULL;

  000d6	2400		 movs        r4,#0
  000d8		 |$LN3@DeviceList|

; 1374 :     }
; 1375 : 
; 1376 :     PMLOGMSG(pdl == NULL && ZONE_WARN, (_T("%s: returning 0x%08x\r\n"), pszFname, pdl));

  000d8	b94c		 cbnz        r4,|$LN12@DeviceList|
  000da	f8d7 3440	 ldr         r3,[r7,#0x440]
  000de	f013 0f02	 tst         r3,#2
  000e2	d004		 beq         |$LN12@DeviceList|
  000e4	4806		 ldr         r0,|$LN22@DeviceList| ; =|??_C@_1CO@HPJBBGLL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  000e6	4905		 ldr         r1,|$LN21@DeviceList| ; =|??_C@_1CC@DJAENDOM@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  000e8	2200		 movs        r2,#0
  000ea	f000 f800	 bl          CeLogMsg
  000ee		 |$LN12@DeviceList|

; 1377 :     return pdl;
; 1378 : }

  000ee	4620		 mov         r0,r4
  000f0		 |$M19|
  000f0	b00d		 add         sp,sp,#0x34
  000f2	f000 f800	 bl          __security_pop_cookie
  000f6	e8bd 88f0	 pop         {r4-r7,r11,pc}
  000fa		 |$LN26@DeviceList|
  000fa		 |$M27|
  000fa	defe		 __debugbreak
  000fc		 |$LN20@DeviceList|
  000fc		 |$LN21@DeviceList|
  000fc	0000 0000	 DCD         |??_C@_1CC@DJAENDOM@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  00100		 |$LN22@DeviceList|
  00100	0000 0000	 DCD         |??_C@_1CO@HPJBBGLL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  00104		 |$LN23@DeviceList|
  00104	0000 0000	 DCD         |??_C@_1EC@EPHLGFP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6@|
  00108		 |$LN24@DeviceList|
  00108	0000 0000	 DCD         |??_C@_1KC@GDBFAAAO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?5?$AAe?$AAn?$AAt?$AAr?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAc?$AAl?$AAa?$AAs@|
  0010c		 |$LN25@DeviceList|
  0010c	0000 0000	 DCD         |dpCurSettings|
  00110		 |$M17|

			 ENDP  ; |DeviceListCreate|

	EXPORT	|??_C@_1HO@LLCKIJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAO?$AAp?$AAe?$AAn?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AAo?$AAw@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DA@KILGMLAE@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAN?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EA@CHDGLPPE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|PowerNotificationCreate|
	IMPORT	|OpenMsgQueue|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$PowerNotificationCreate| DCD imagerel |$LN13@PowerNotif|
	DCD	imagerel |$unwind2$PowerNotificationCreate|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$PowerNotificationCreate| DCD 0x33b00049
	DCD	0xfc01e807
	DCD	0xe8fff0a8
	DCD	0xfff0a801
	DCD	imagerel |__GSHandlerCheck|
	DCD	0xffffffe5

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EA@CHDGLPPE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "c", 0x0, "o", 0x0, "u"
	DCB	0x0, "l", 0x0, "d", 0x0, "n", 0x0, "'", 0x0, "t", 0x0, " "
	DCB	0x0, "c", 0x0, "r", 0x0, "e", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, " ", 0x0, "s", 0x0, "t", 0x0, "r", 0x0, "u", 0x0, "c"
	DCB	0x0, "t", 0x0, "u", 0x0, "r", 0x0, "e", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DA@KILGMLAE@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAN?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@| DCB "P"
	DCB	0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "N", 0x0, "o"
	DCB	0x0, "t", 0x0, "i", 0x0, "f", 0x0, "i", 0x0, "c", 0x0, "a"
	DCB	0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n", 0x0, "C", 0x0, "r"
	DCB	0x0, "e", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HO@LLCKIJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAO?$AAp?$AAe?$AAn?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AAo?$AAw@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "O", 0x0, "p", 0x0, "e"
	DCB	0x0, "n", 0x0, "M", 0x0, "s", 0x0, "g", 0x0, "Q", 0x0, "u"
	DCB	0x0, "e", 0x0, "u", 0x0, "e", 0x0, "(", 0x0, ")", 0x0, " "
	DCB	0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d"
	DCB	0x0, " ", 0x0, "%", 0x0, "d", 0x0, " ", 0x0, "(", 0x0, "o"
	DCB	0x0, "w", 0x0, "n", 0x0, "e", 0x0, "r", 0x0, " ", 0x0, "0"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, ","
	DCB	0x0, " ", 0x0, "s", 0x0, "o", 0x0, "u", 0x0, "r", 0x0, "c"
	DCB	0x0, "e", 0x0, " ", 0x0, "q", 0x0, " ", 0x0, "0", 0x0, "x"
	DCB	0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, ")", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |PowerNotificationCreate| PROC

; 1186 : {

  00000		 |$LN13@PowerNotif|
  00000	e92d 48f0	 push        {r4-r7,r11,lr}
  00004	f20d 0b10	 addw        r11,sp,#0x10
  00008	f000 f800	 bl          __security_push_cookie
  0000c	b087		 sub         sp,sp,#0x1C
  0000e		 |$M11|
  0000e	4607		 mov         r7,r0

; 1187 :     SETFNAME(_T("PowerNotificationCreate"));
; 1188 : 
; 1189 :     // allocate resources
; 1190 :     PPOWER_NOTIFICATION ppn = (PPOWER_NOTIFICATION) PmAlloc(sizeof(*ppn));

  00010	2014		 movs        r0,#0x14
  00012	460e		 mov         r6,r1
  00014	f000 f800	 bl          PmAlloc
  00018	4604		 mov         r4,r0

; 1191 :     if(ppn != NULL ) {

  0001a	4d21		 ldr         r5,|$LN19@PowerNotif| ; =|dpCurSettings|
  0001c	b354		 cbz         r4,|$LN9@PowerNotif|

; 1192 :         // initialize the structure
; 1193 :         memset(ppn, 0, sizeof(*ppn));

  0001e	2214		 movs        r2,#0x14
  00020	2100		 movs        r1,#0
  00022	f000 f800	 bl          memset

; 1194 :         ppn->hOwner = hOwner;
; 1195 :         ppn->pNext = NULL;

  00026	2300		 movs        r3,#0

; 1196 :         ppn->pPrev = NULL;
; 1197 : 
; 1198 :         // now try to open the message queue
; 1199 :         MSGQUEUEOPTIONS msgopts;
; 1200 :         memset(&msgopts, 0, sizeof(msgopts));

  00028	a802		 add         r0,sp,#8
  0002a	2214		 movs        r2,#0x14
  0002c	2100		 movs        r1,#0
  0002e	60e3		 str         r3,[r4,#0xC]
  00030	6123		 str         r3,[r4,#0x10]
  00032	60a6		 str         r6,[r4,#8]
  00034	f000 f800	 bl          memset

; 1201 :         msgopts.dwSize = sizeof(MSGQUEUEOPTIONS);

  00038	2314		 movs        r3,#0x14
  0003a	9302		 str         r3,[sp,#8]

; 1202 :         msgopts.bReadAccess = FALSE;

  0003c	2300		 movs        r3,#0

; 1203 :         ppn->hMsgQ = OpenMsgQueue(hOwner, hMsgQ, &msgopts);

  0003e	aa02		 add         r2,sp,#8
  00040	4639		 mov         r1,r7
  00042	4630		 mov         r0,r6
  00044	9306		 str         r3,[sp,#0x18]
  00046	f000 f800	 bl          OpenMsgQueue
  0004a	6020		 str         r0,[r4]

; 1204 :         if(ppn->hMsgQ == NULL) {

  0004c	b988		 cbnz        r0,|$LN1@PowerNotif|

; 1205 :             PMLOGMSG(ZONE_WARN, 
; 1206 :                 (_T("%s: OpenMsgQueue() failed %d (owner 0x%08x, source q 0x%08x)\r\n"),
; 1207 :                 pszFname, GetLastError(), hOwner, hMsgQ));

  0004e	f8d5 3440	 ldr         r3,[r5,#0x440]
  00052	f013 0f02	 tst         r3,#2
  00056	d008		 beq         |$LN5@PowerNotif|
  00058	f000 f800	 bl          GetLastError
  0005c	490d		 ldr         r1,|$LN16@PowerNotif| ; =|??_C@_1DA@KILGMLAE@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAN?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  0005e	4602		 mov         r2,r0
  00060	480e		 ldr         r0,|$LN18@PowerNotif| ; =|??_C@_1HO@LLCKIJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAO?$AAp?$AAe?$AAn?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AAo?$AAw@|
  00062	4633		 mov         r3,r6
  00064	9700		 str         r7,[sp]
  00066	f000 f800	 bl          CeLogMsg
  0006a		 |$LN5@PowerNotif|

; 1208 :             PmFree(ppn);

  0006a	4620		 mov         r0,r4
  0006c	f000 f800	 bl          PmFree

; 1209 :             ppn = NULL;

  00070	2400		 movs        r4,#0
  00072		 |$LN1@PowerNotif|

; 1210 :         }
; 1211 :     }
; 1212 : 
; 1213 :     PMLOGMSG(ppn == NULL && ZONE_WARN, (_T("%s: couldn't create structure\r\n"), pszFname));

  00072	b944		 cbnz        r4,|$LN7@PowerNotif|
  00074		 |$LN9@PowerNotif|
  00074	f8d5 3440	 ldr         r3,[r5,#0x440]
  00078	f013 0f02	 tst         r3,#2
  0007c	d003		 beq         |$LN7@PowerNotif|
  0007e	4806		 ldr         r0,|$LN17@PowerNotif| ; =|??_C@_1EA@CHDGLPPE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?$AN?$AA?6?$AA?$AA@|
  00080	4904		 ldr         r1,|$LN16@PowerNotif| ; =|??_C@_1DA@KILGMLAE@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAN?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  00082	f000 f800	 bl          CeLogMsg
  00086		 |$LN7@PowerNotif|

; 1214 :     return ppn;
; 1215 : }

  00086	4620		 mov         r0,r4
  00088		 |$M14|
  00088	b007		 add         sp,sp,#0x1C
  0008a	f000 f800	 bl          __security_pop_cookie
  0008e	e8bd 88f0	 pop         {r4-r7,r11,pc}
  00092		 |$LN20@PowerNotif|
  00092		 |$M21|
  00092	defe		 __debugbreak
  00094		 |$LN15@PowerNotif|
  00094		 |$LN16@PowerNotif|
  00094	0000 0000	 DCD         |??_C@_1DA@KILGMLAE@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAN?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  00098		 |$LN17@PowerNotif|
  00098	0000 0000	 DCD         |??_C@_1EA@CHDGLPPE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?$AN?$AA?6?$AA?$AA@|
  0009c		 |$LN18@PowerNotif|
  0009c	0000 0000	 DCD         |??_C@_1HO@LLCKIJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAO?$AAp?$AAe?$AAn?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AAo?$AAw@|
  000a0		 |$LN19@PowerNotif|
  000a0	0000 0000	 DCD         |dpCurSettings|
  000a4		 |$M12|

			 ENDP  ; |PowerNotificationCreate|

	EXPORT	|??_C@_1FO@GHMJBDJO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AAn?$AAa?$AAm?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?0?$AA?5@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CE@PDGPMOEE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EO@CBFALEMH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FC@GGBMAKFK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?5?$AAf?$AAo@| [ DATA ] ; `string'
	EXPORT	|DeviceStateCreate|
	IMPORT	|StringCchCopyW|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceStateCreate| DCD imagerel |$LN31@DeviceStat|
	DCD	imagerel |$unwind2$DeviceStateCreate|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$DeviceStateCreate| DCD 0x33300071
	DCD	0xfea9fcc7
	DCD	0xf089ff02
	DCD	0xff03ef
	DCD	imagerel |__C_specific_handler|
	DCD	0x1
	DCD	imagerel |$LN18@DeviceStat|
	DCD	imagerel |$LN19@DeviceStat|
	DCD	0x1
	DCD	imagerel |$LN15@DeviceStat|

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FC@GGBMAKFK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?5?$AAf?$AAo@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "c", 0x0, "o", 0x0, "u"
	DCB	0x0, "l", 0x0, "d", 0x0, "n", 0x0, "'", 0x0, "t", 0x0, " "
	DCB	0x0, "c", 0x0, "r", 0x0, "e", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, " ", 0x0, "s", 0x0, "t", 0x0, "r", 0x0, "u", 0x0, "c"
	DCB	0x0, "t", 0x0, "u", 0x0, "r", 0x0, "e", 0x0, " ", 0x0, "f"
	DCB	0x0, "o", 0x0, "r", 0x0, " ", 0x0, "'", 0x0, "%", 0x0, "s"
	DCB	0x0, "'", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EO@CBFALEMH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "x", 0x0, "c"
	DCB	0x0, "e", 0x0, "p", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, " ", 0x0, "i", 0x0, "n", 0x0, "i", 0x0, "t", 0x0, "i"
	DCB	0x0, "a", 0x0, "l", 0x0, "i", 0x0, "z", 0x0, "i", 0x0, "n"
	DCB	0x0, "g", 0x0, " ", 0x0, "s", 0x0, "t", 0x0, "r", 0x0, "u"
	DCB	0x0, "c", 0x0, "t", 0x0, "u", 0x0, "r", 0x0, "e", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CE@PDGPMOEE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "S"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "C", 0x0, "r"
	DCB	0x0, "e", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FO@GHMJBDJO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AAn?$AAa?$AAm?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?0?$AA?5@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "c", 0x0, "r", 0x0, "e"
	DCB	0x0, "a", 0x0, "t", 0x0, "e", 0x0, "d", 0x0, " ", 0x0, "0"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, " "
	DCB	0x0, "(", 0x0, "n", 0x0, "a", 0x0, "m", 0x0, "e", 0x0, " "
	DCB	0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'", 0x0, ")", 0x0, ","
	DCB	0x0, " ", 0x0, "r", 0x0, "e", 0x0, "f", 0x0, "c", 0x0, "n"
	DCB	0x0, "t", 0x0, " ", 0x0, "i", 0x0, "s", 0x0, " ", 0x0, "%"
	DCB	0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |DeviceStateCreate| PROC

; 710  : {

  00000		 |$LN31@DeviceStat|
  00000	b403		 push        {r0,r1}
  00002	e92d 49fe	 push        {r1-r8,r11,lr}
  00006	f20d 0b20	 addw        r11,sp,#0x20
  0000a	466f		 mov         r7,sp
  0000c	b082		 sub         sp,sp,#8
  0000e		 |$LN29@DeviceStat|
  0000e	4606		 mov         r6,r0
  00010	62be		 str         r6,[r7,#0x28]

; 711  :     BOOL fOk = FALSE;

  00012	2400		 movs        r4,#0
  00014	603c		 str         r4,[r7]

; 712  :     PDEVICE_STATE pds = NULL;

  00016	2300		 movs        r3,#0
  00018	607b		 str         r3,[r7,#4]
  0001a		 |$LN18@DeviceStat|

; 713  :     SETFNAME(_T("DeviceStateCreate"));
; 714  :     
; 715  :     PREFAST_DEBUGCHK(pszName != NULL);
; 716  : 
; 717  :     __try {
; 718  :         DWORD dwSize = sizeof(*pds) + ((_tcslen(pszName) + 1) * sizeof(pszName[0]));

  0001a	4630		 mov         r0,r6
  0001c	f000 f800	 bl          wcslen
  00020	f110 0339	 adds        r3,r0,#0x39
  00024	0058		 lsls        r0,r3,#1

; 719  :         pds = (PDEVICE_STATE) PmAlloc(dwSize);

  00026	f000 f800	 bl          PmAlloc
  0002a	4605		 mov         r5,r0
  0002c	607d		 str         r5,[r7,#4]

; 720  :         if(pds != NULL) {

  0002e	b385		 cbz         r5,|$LN24@DeviceStat|

; 721  :             LPTSTR pszNameCopy = (LPTSTR) ((LPBYTE) pds + sizeof(*pds));

  00030	f110 0470	 adds        r4,r0,#0x70

; 722  :             memset(pds, 0, sizeof(*pds));

  00034	2270		 movs        r2,#0x70
  00036	2100		 movs        r1,#0
  00038	f000 f800	 bl          memset

; 723  :             VERIFY(SUCCEEDED(StringCchCopy(pszNameCopy, _tcslen(pszName) + 1, pszName)));

  0003c	4630		 mov         r0,r6
  0003e	f000 f800	 bl          wcslen
  00042	1c41		 adds        r1,r0,#1
  00044	4632		 mov         r2,r6
  00046	4620		 mov         r0,r4
  00048	f000 f800	 bl          StringCchCopyW

; 724  :             pds->pszName = pszNameCopy;

  0004c	602c		 str         r4,[r5]

; 725  :             pds->curDx = D0;

  0004e	2200		 movs        r2,#0
  00050	606a		 str         r2,[r5,#4]

; 726  :             pds->floorDx = PwrDeviceUnspecified;

  00052	43d3		 mvns        r3,r2
  00054	60ab		 str         r3,[r5,#8]

; 727  :             pds->ceilingDx = PwrDeviceUnspecified;

  00056	60eb		 str         r3,[r5,#0xC]

; 728  :             pds->setDx = PwrDeviceUnspecified;

  00058	612b		 str         r3,[r5,#0x10]

; 729  :             pds->lastReqDx = D0;

  0005a	616a		 str         r2,[r5,#0x14]

; 730  :             pds->actualDx = D0;

  0005c	61aa		 str         r2,[r5,#0x18]

; 731  :             pds->pendingDx = PwrDeviceUnspecified;

  0005e	61eb		 str         r3,[r5,#0x1C]

; 732  :             pds->dwNumPending = 0;

  00060	622a		 str         r2,[r5,#0x20]

; 733  :             pds->pParent = NULL;

  00062	626a		 str         r2,[r5,#0x24]

; 734  :             pds->dwRefCount = 1;

  00064	2401		 movs        r4,#1
  00066	65ac		 str         r4,[r5,#0x58]

; 735  :             pds->hDevice = INVALID_HANDLE_VALUE;

  00068	65eb		 str         r3,[r5,#0x5C]

; 736  :             pds->pListHead = NULL;

  0006a	666a		 str         r2,[r5,#0x64]

; 737  :             pds->pNext = NULL;

  0006c	66aa		 str         r2,[r5,#0x68]

; 738  :             pds->pPrev = NULL;

  0006e	66ea		 str         r2,[r5,#0x6C]

; 739  :             PMLOGMSG(ZONE_REFCNT, (_T("%s: created 0x%08x (name '%s'), refcnt is %d\r\n"),
; 740  :                 pszFname, pds, pszName, pds->dwRefCount));

  00070	f8df 807c	 ldr         r8,|$LN38@DeviceStat| ; =|dpCurSettings|
  00074	f8d8 3440	 ldr         r3,[r8,#0x440]
  00078	f013 0f40	 tst         r3,#0x40
  0007c	d007		 beq         |$LN23@DeviceStat|
  0007e	6dab		 ldr         r3,[r5,#0x58]
  00080	9300		 str         r3,[sp]
  00082	481c		 ldr         r0,|$LN39@DeviceStat| ; =|??_C@_1FO@GHMJBDJO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AAn?$AAa?$AAm?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?0?$AA?5@|
  00084	4633		 mov         r3,r6
  00086	462a		 mov         r2,r5
  00088	4916		 ldr         r1,|$LN35@DeviceStat| ; =|??_C@_1CE@PDGPMOEE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  0008a	f000 f800	 bl          CeLogMsg
  0008e		 |$LN23@DeviceStat|

; 741  :             fOk = TRUE;

  0008e	603c		 str         r4,[r7]
  00090	e001		 b           |$LN19@DeviceStat|
  00092		 |$LN24@DeviceStat|
  00092	f8df 805c	 ldr         r8,|$LN38@DeviceStat| ; =|dpCurSettings|
  00096		 |$LN19@DeviceStat|

; 742  :         }
; 743  :     }

  00096	e00d		 b           |$LN20@DeviceStat|
  00098		 |$LN15@DeviceStat|

; 744  :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 745  :         PMLOGMSG(ZONE_WARN, (_T("%s: exception initializing structure\r\n"), pszFname));

  00098	f8df 8054	 ldr         r8,|$LN38@DeviceStat| ; =|dpCurSettings|

; 739  :             PMLOGMSG(ZONE_REFCNT, (_T("%s: created 0x%08x (name '%s'), refcnt is %d\r\n"),
; 740  :                 pszFname, pds, pszName, pds->dwRefCount));

  0009c	f8d8 3440	 ldr         r3,[r8,#0x440]

; 744  :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 745  :         PMLOGMSG(ZONE_WARN, (_T("%s: exception initializing structure\r\n"), pszFname));

  000a0	f013 0f02	 tst         r3,#2
  000a4	d003		 beq         |$LN25@DeviceStat|
  000a6	4811		 ldr         r0,|$LN37@DeviceStat| ; =|??_C@_1EO@CBFALEMH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc@|
  000a8	490e		 ldr         r1,|$LN35@DeviceStat| ; =|??_C@_1CE@PDGPMOEE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  000aa	f000 f800	 bl          CeLogMsg
  000ae		 |$LN25@DeviceStat|
  000ae	6abe		 ldr         r6,[r7,#0x28]
  000b0	683c		 ldr         r4,[r7]
  000b2	687d		 ldr         r5,[r7,#4]
  000b4		 |$LN20@DeviceStat|

; 746  :     }
; 747  : 
; 748  :     if(!fOk) {

  000b4	b924		 cbnz        r4,|$LN1@DeviceStat|

; 749  :         if(pds != NULL) {

  000b6	b125		 cbz         r5,|$LN28@DeviceStat|

; 750  :             PmFree(pds);

  000b8	4628		 mov         r0,r5
  000ba	f000 f800	 bl          PmFree

; 751  :             pds = NULL;

  000be	2500		 movs        r5,#0
  000c0		 |$LN1@DeviceStat|

; 752  :         }
; 753  :     }
; 754  : 
; 755  :     PMLOGMSG(pds == NULL && ZONE_WARN, (_T("%s: couldn't create structure for '%s'\r\n"),
; 756  :         pszFname, pszName));

  000c0	b94d		 cbnz        r5,|$LN5@DeviceStat|
  000c2		 |$LN28@DeviceStat|

; 739  :             PMLOGMSG(ZONE_REFCNT, (_T("%s: created 0x%08x (name '%s'), refcnt is %d\r\n"),
; 740  :                 pszFname, pds, pszName, pds->dwRefCount));

  000c2	f8d8 3440	 ldr         r3,[r8,#0x440]

; 752  :         }
; 753  :     }
; 754  : 
; 755  :     PMLOGMSG(pds == NULL && ZONE_WARN, (_T("%s: couldn't create structure for '%s'\r\n"),
; 756  :         pszFname, pszName));

  000c6	f013 0f02	 tst         r3,#2
  000ca	d004		 beq         |$LN5@DeviceStat|
  000cc	4806		 ldr         r0,|$LN36@DeviceStat| ; =|??_C@_1FC@GGBMAKFK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?5?$AAf?$AAo@|
  000ce	4632		 mov         r2,r6
  000d0	4904		 ldr         r1,|$LN35@DeviceStat| ; =|??_C@_1CE@PDGPMOEE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  000d2	f000 f800	 bl          CeLogMsg
  000d6		 |$LN5@DeviceStat|

; 757  :     return pds;
; 758  : }

  000d6	4628		 mov         r0,r5
  000d8		 |$M33|
  000d8	b005		 add         sp,sp,#0x14
  000da	e8bd 09f0	 pop         {r4-r8,r11}
  000de	f85d fb0c	 ldr         pc,[sp],#0xC
  000e2		 |$LN40@DeviceStat|
  000e2		 |$M41|
  000e2	defe		 __debugbreak
  000e4		 |$LN34@DeviceStat|
  000e4		 |$LN35@DeviceStat|
  000e4	0000 0000	 DCD         |??_C@_1CE@PDGPMOEE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  000e8		 |$LN36@DeviceStat|
  000e8	0000 0000	 DCD         |??_C@_1FC@GGBMAKFK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?5?$AAf?$AAo@|
  000ec		 |$LN37@DeviceStat|
  000ec	0000 0000	 DCD         |??_C@_1EO@CBFALEMH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc@|
  000f0		 |$LN38@DeviceStat|
  000f0	0000 0000	 DCD         |dpCurSettings|
  000f4		 |$LN39@DeviceStat|
  000f4	0000 0000	 DCD         |??_C@_1FO@GHMJBDJO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AAn?$AAa?$AAm?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?0?$AA?5@|

			 ENDP  ; |DeviceStateCreate|

  000f8		 |$LN30@DeviceStat|
	EXPORT	|??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DM@KMCCDNBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAp?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAi?$AAs?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CI@DCLIEMIO@?$AAG?$AAe?$AAt?$AAP?$AAM?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DE@IHPBHPGP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAn?$AAo?$AA?5?$AAs?$AAe?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|GetPMThreadPriority|
	IMPORT	|RegOpenKeyExW|
	IMPORT	|RegCloseKey|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$GetPMThreadPriority| DCD imagerel |$LN13@GetPMThrea|
	DCD	0x1b300fd

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DE@IHPBHPGP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAn?$AAo?$AA?5?$AAs?$AAe?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "n", 0x0, "o", 0x0, " "
	DCB	0x0, "s", 0x0, "e", 0x0, "t", 0x0, "t", 0x0, "i", 0x0, "n"
	DCB	0x0, "g", 0x0, " ", 0x0, "f", 0x0, "o", 0x0, "r", 0x0, " "
	DCB	0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CI@DCLIEMIO@?$AAG?$AAe?$AAt?$AAP?$AAM?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?$AA@| DCB "G"
	DCB	0x0, "e", 0x0, "t", 0x0, "P", 0x0, "M", 0x0, "T", 0x0, "h"
	DCB	0x0, "r", 0x0, "e", 0x0, "a", 0x0, "d", 0x0, "P", 0x0, "r"
	DCB	0x0, "i", 0x0, "o", 0x0, "r", 0x0, "i", 0x0, "t", 0x0, "y"
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DM@KMCCDNBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAp?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAi?$AAs?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "p", 0x0, "r", 0x0, "i"
	DCB	0x0, "o", 0x0, "r", 0x0, "i", 0x0, "t", 0x0, "y", 0x0, " "
	DCB	0x0, "f", 0x0, "o", 0x0, "r", 0x0, " ", 0x0, "'", 0x0, "%"
	DCB	0x0, "s", 0x0, "'", 0x0, " ", 0x0, "i", 0x0, "s", 0x0, " "
	DCB	0x0, "%", 0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@| DCB "S"
	DCB	0x0, "Y", 0x0, "S", 0x0, "T", 0x0, "E", 0x0, "M", 0x0, "\\"
	DCB	0x0, "C", 0x0, "u", 0x0, "r", 0x0, "r", 0x0, "e", 0x0, "n"
	DCB	0x0, "t", 0x0, "C", 0x0, "o", 0x0, "n", 0x0, "t", 0x0, "r"
	DCB	0x0, "o", 0x0, "l", 0x0, "S", 0x0, "e", 0x0, "t", 0x0, "\\"
	DCB	0x0, "C", 0x0, "o", 0x0, "n", 0x0, "t", 0x0, "r", 0x0, "o"
	DCB	0x0, "l", 0x0, "\\", 0x0, "P", 0x0, "o", 0x0, "w", 0x0, "e"
	DCB	0x0, "r", 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |GetPMThreadPriority| PROC

; 56   : {

  00000		 |$LN13@GetPMThrea|
  00000	e92d 48f0	 push        {r4-r7,r11,lr}
  00004	f20d 0b10	 addw        r11,sp,#0x10
  00008	b086		 sub         sp,sp,#0x18
  0000a		 |$M11|

; 57   :     BOOL fOk = FALSE;
; 58   :     HKEY hkPm = NULL;

  0000a	2300		 movs        r3,#0
  0000c	9302		 str         r3,[sp,#8]

; 59   :     DWORD dwStatus;
; 60   :     SETFNAME(_T("GetPMThreadPriority"));
; 61   : 
; 62   :     // open the PM key
; 63   :     dwStatus = RegOpenKeyEx(HKEY_LOCAL_MACHINE, PWRMGR_REG_KEY, 0, 0, &hkPm);

  0000e	ab02		 add         r3,sp,#8
  00010	9300		 str         r3,[sp]
  00012	2301		 movs        r3,#1
  00014	460f		 mov         r7,r1
  00016	491e		 ldr         r1,|$LN20@GetPMThrea| ; =|??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@|
  00018	07dc		 lsls        r4,r3,#0x1F
  0001a	4606		 mov         r6,r0
  0001c	1ca0		 adds        r0,r4,#2
  0001e	2300		 movs        r3,#0
  00020	2200		 movs        r2,#0
  00022	2500		 movs        r5,#0
  00024	f000 f800	 bl          RegOpenKeyExW

; 64   :     if(dwStatus == ERROR_SUCCESS) {

  00028	4c18		 ldr         r4,|$LN19@GetPMThrea| ; =|dpCurSettings|
  0002a	b9d0		 cbnz        r0,|$LN9@GetPMThrea|

; 65   :         DWORD dwValue;
; 66   :         DWORD dwSize = sizeof(dwValue);
; 67   : 
; 68   :         // read the requested value
; 69   :         dwStatus = RegQueryTypedValue(hkPm, pszValue, &dwValue, &dwSize, REG_DWORD);

  0002c	9802		 ldr         r0,[sp,#8]
  0002e	2304		 movs        r3,#4
  00030	9303		 str         r3,[sp,#0xC]
  00032	9300		 str         r3,[sp]
  00034	ab03		 add         r3,sp,#0xC
  00036	aa04		 add         r2,sp,#0x10
  00038	4631		 mov         r1,r6
  0003a	f000 f800	 bl          RegQueryTypedValue

; 70   :         if(dwStatus == ERROR_SUCCESS) {

  0003e	b960		 cbnz        r0,|$LN1@GetPMThrea|

; 71   :             *piThreadPriority = (INT) dwValue;

  00040	9b04		 ldr         r3,[sp,#0x10]
  00042	603b		 str         r3,[r7]

; 72   :             PMLOGMSG(ZONE_REGISTRY, (_T("%s: priority for '%s' is %d\r\n"),
; 73   :                 pszFname, pszValue, dwValue));

  00044	f8d4 2440	 ldr         r2,[r4,#0x440]
  00048	f412 7f00	 tst         r2,#0x200
  0004c	d004		 beq         |$LN5@GetPMThrea|
  0004e	480e		 ldr         r0,|$LN18@GetPMThrea| ; =|??_C@_1DM@KMCCDNBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAp?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAi?$AAs?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  00050	490b		 ldr         r1,|$LN16@GetPMThrea| ; =|??_C@_1CI@DCLIEMIO@?$AAG?$AAe?$AAt?$AAP?$AAM?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?$AA@|
  00052	4632		 mov         r2,r6
  00054	f000 f800	 bl          CeLogMsg
  00058		 |$LN5@GetPMThrea|

; 74   :             fOk = TRUE;

  00058	2501		 movs        r5,#1
  0005a		 |$LN1@GetPMThrea|

; 75   :         }
; 76   : 
; 77   :         // close the key
; 78   :         RegCloseKey(hkPm);

  0005a	9802		 ldr         r0,[sp,#8]
  0005c	f000 f800	 bl          RegCloseKey

; 79   :     }
; 80   : 
; 81   :     PMLOGMSG(!fOk && ZONE_REGISTRY, (_T("%s: no setting for '%s'\r\n"),
; 82   :         pszFname, pszValue));

  00060	b94d		 cbnz        r5,|$LN7@GetPMThrea|
  00062		 |$LN9@GetPMThrea|
  00062	f8d4 3440	 ldr         r3,[r4,#0x440]
  00066	f413 7f00	 tst         r3,#0x200
  0006a	d004		 beq         |$LN7@GetPMThrea|
  0006c	4805		 ldr         r0,|$LN17@GetPMThrea| ; =|??_C@_1DE@IHPBHPGP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAn?$AAo?$AA?5?$AAs?$AAe?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@|
  0006e	4904		 ldr         r1,|$LN16@GetPMThrea| ; =|??_C@_1CI@DCLIEMIO@?$AAG?$AAe?$AAt?$AAP?$AAM?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?$AA@|
  00070	4632		 mov         r2,r6
  00072	f000 f800	 bl          CeLogMsg
  00076		 |$LN7@GetPMThrea|

; 83   : 
; 84   :     return fOk;
; 85   : }

  00076	4628		 mov         r0,r5
  00078		 |$M14|
  00078	b006		 add         sp,sp,#0x18
  0007a	e8bd 88f0	 pop         {r4-r7,r11,pc}
  0007e		 |$LN21@GetPMThrea|
  0007e		 |$M22|
  0007e	defe		 __debugbreak
  00080		 |$LN15@GetPMThrea|
  00080		 |$LN16@GetPMThrea|
  00080	0000 0000	 DCD         |??_C@_1CI@DCLIEMIO@?$AAG?$AAe?$AAt?$AAP?$AAM?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?$AA@|
  00084		 |$LN17@GetPMThrea|
  00084	0000 0000	 DCD         |??_C@_1DE@IHPBHPGP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAn?$AAo?$AA?5?$AAs?$AAe?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@|
  00088		 |$LN18@GetPMThrea|
  00088	0000 0000	 DCD         |??_C@_1DM@KMCCDNBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAp?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAi?$AAs?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  0008c		 |$LN19@GetPMThrea|
  0008c	0000 0000	 DCD         |dpCurSettings|
  00090		 |$LN20@GetPMThrea|
  00090	0000 0000	 DCD         |??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@|
  00094		 |$M12|

			 ENDP  ; |GetPMThreadPriority|

	EXPORT	|??_C@_1CI@IDGLAHPA@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAF?$AAi?$AAn?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|DeviceStateFindList|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceStateFindList| DCD imagerel |$LN31@DeviceStat|
	DCD	imagerel |$unwind2$DeviceStateFindList|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$DeviceStateFindList| DCD 0x2010002c
	DCD	0xbea8fcc7
	DCD	0xff
	DCD	imagerel |__C_specific_handler|
	DCD	0x1
	DCD	imagerel |$LN15@DeviceStat|
	DCD	imagerel |$LN16@DeviceStat|
	DCD	0x1
	DCD	imagerel |$LN12@DeviceStat|

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CI@IDGLAHPA@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAF?$AAi?$AAn?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "S"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "F", 0x0, "i"
	DCB	0x0, "n", 0x0, "d", 0x0, "L", 0x0, "i", 0x0, "s", 0x0, "t"
	DCB	0x0, 0x0, 0x0				; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |DeviceStateFindList| PROC

; 918  : {

  00000		 |$LN31@DeviceStat|
  00000	e92d 48be	 push        {r1-r5,r7,r11,lr}
  00004	f20d 0b18	 addw        r11,sp,#0x18
  00008	466f		 mov         r7,sp
  0000a		 |$LN29@DeviceStat|
  0000a	460d		 mov         r5,r1
  0000c	4604		 mov         r4,r0

; 919  :     PDEVICE_STATE pds = NULL;
; 920  :     SETFNAME(_T("DeviceStateFindList"));

  0000e	4b15		 ldr         r3,|$LN38@DeviceStat| ; =|??_C@_1CI@IDGLAHPA@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAF?$AAi?$AAn?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@|
  00010	607b		 str         r3,[r7,#4]

; 93   :     EnterCriticalSection(&gcsPowerManager);

  00012	4811		 ldr         r0,|$LN35@DeviceStat| ; =|gcsPowerManager|
  00014	f000 f800	 bl          EnterCriticalSection
  00018		 |$LN15@DeviceStat|

; 921  : 
; 922  :     PMLOCK();
; 923  : 
; 924  :     __try {
; 925  :         // look for a match
; 926  :         for(pds = pdl->pList; pds != NULL; pds = pds->pNext) {

  00018	6864		 ldr         r4,[r4,#4]
  0001a		 |$LN28@DeviceStat|
  0001a	603c		 str         r4,[r7]
  0001c	b14c		 cbz         r4,|$LN16@DeviceStat|

; 927  :             if(_tcscmp(pds->pszName, pszName) == 0) { 

  0001e	6820		 ldr         r0,[r4]
  00020	4629		 mov         r1,r5
  00022	f000 f800	 bl          wcscmp
  00026	b108		 cbz         r0,|$LN24@DeviceStat|

; 921  : 
; 922  :     PMLOCK();
; 923  : 
; 924  :     __try {
; 925  :         // look for a match
; 926  :         for(pds = pdl->pList; pds != NULL; pds = pds->pNext) {

  00028	6ea4		 ldr         r4,[r4,#0x68]
  0002a	e7f6		 b           |$LN28@DeviceStat|
  0002c		 |$LN24@DeviceStat|

; 928  :                 // increment the reference count and exit
; 929  :                 DeviceStateAddRef(pds);

  0002c	4620		 mov         r0,r4
  0002e	f000 f800	 bl          DeviceStateAddRef
  00032		 |$LN16@DeviceStat|

; 930  :                 break;
; 931  :             }
; 932  :         }

  00032	e00b		 b           |$LN17@DeviceStat|
  00034		 |$LN12@DeviceStat|
  00034		 |$LN14@DeviceStat|

; 933  :     }
; 934  :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 935  :         PMLOGMSG(ZONE_WARN, (_T("%s: exception searching list\r\n"), pszFname));

  00034	4b0a		 ldr         r3,|$LN37@DeviceStat| ; =|dpCurSettings|
  00036	f8d3 3440	 ldr         r3,[r3,#0x440]
  0003a	f013 0f02	 tst         r3,#2
  0003e	d003		 beq         |$LN8@DeviceStat|
  00040	4806		 ldr         r0,|$LN36@DeviceStat| ; =|??_C@_1DO@JAALAKBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  00042	6879		 ldr         r1,[r7,#4]
  00044	f000 f800	 bl          CeLogMsg
  00048		 |$LN8@DeviceStat|

; 936  :         pds = NULL;

  00048	2400		 movs        r4,#0
  0004a	603c		 str         r4,[r7]
  0004c		 |$LN17@DeviceStat|

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  0004c	4802		 ldr         r0,|$LN35@DeviceStat| ; =|gcsPowerManager|
  0004e	f000 f800	 bl          LeaveCriticalSection

; 937  :     }
; 938  : 
; 939  :     PMUNLOCK();
; 940  : 
; 941  :     return pds;
; 942  : }

  00052	4620		 mov         r0,r4
  00054		 |$M33|
  00054	e8bd 88be	 pop         {r1-r5,r7,r11,pc}
  00058		 |$LN34@DeviceStat|
  00058		 |$LN35@DeviceStat|
  00058	0000 0000	 DCD         |gcsPowerManager|
  0005c		 |$LN36@DeviceStat|
  0005c	0000 0000	 DCD         |??_C@_1DO@JAALAKBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  00060		 |$LN37@DeviceStat|
  00060	0000 0000	 DCD         |dpCurSettings|
  00064		 |$LN38@DeviceStat|
  00064	0000 0000	 DCD         |??_C@_1CI@IDGLAHPA@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAF?$AAi?$AAn?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@|

			 ENDP  ; |DeviceStateFindList|

  00068		 |$LN30@DeviceStat|
	EXPORT	|??_C@_1FE@PFMPBNAG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAa?$AAd?$AAd?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAt?$AAo?$AA?5?$AAl?$AAi?$AAs?$AAt@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CG@GHDPCNI@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAA?$AAd?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|DeviceStateAddList|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceStateAddList| DCD imagerel |$LN13@DeviceStat|
	DCD	0xfd7160a9

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CG@GHDPCNI@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAA?$AAd?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "S"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "A", 0x0, "d"
	DCB	0x0, "d", 0x0, "L", 0x0, "i", 0x0, "s", 0x0, "t", 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FE@PFMPBNAG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAa?$AAd?$AAd?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAt?$AAo?$AA?5?$AAl?$AAi?$AAs?$AAt@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "a", 0x0, "d", 0x0, "d"
	DCB	0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "0", 0x0, "x"
	DCB	0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, " ", 0x0, "("
	DCB	0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'", 0x0, ")", 0x0, " "
	DCB	0x0, "t", 0x0, "o", 0x0, " ", 0x0, "l", 0x0, "i", 0x0, "s"
	DCB	0x0, "t", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0"
	DCB	0x0, "8", 0x0, "x", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |DeviceStateAddList| PROC

; 827  : {

  00000		 |$LN13@DeviceStat|
  00000	e92d 483c	 push        {r2-r5,r11,lr}
  00004	f20d 0b10	 addw        r11,sp,#0x10
  00008		 |$M11|

; 828  :     BOOL fOk = TRUE;
; 829  :     SETFNAME(_T("DeviceStateAddList"));
; 830  : 
; 831  :     PREFAST_DEBUGCHK(pdl != NULL);
; 832  :     PREFAST_DEBUGCHK(pdsDevice != NULL);
; 833  :     DEBUGCHK(pdsDevice->pNext == NULL && pdsDevice->pPrev == NULL);
; 834  :     DEBUGCHK(pdsDevice->dwRefCount == 1);
; 835  :     DEBUGCHK(pdsDevice->pListHead == NULL);
; 836  : 
; 837  :     PMLOGMSG(ZONE_REFCNT | ZONE_DEVICE, 
; 838  :         (_T("%s: adding 0x%08x ('%s') to list 0x%08x\r\n"),
; 839  :         pszFname, pdsDevice, pdsDevice->pszName, pdl));

  00008	4b15		 ldr         r3,|$LN19@DeviceStat| ; =|dpCurSettings|
  0000a	460c		 mov         r4,r1
  0000c	4605		 mov         r5,r0
  0000e	f8d3 3440	 ldr         r3,[r3,#0x440]
  00012	f013 0f50	 tst         r3,#0x50
  00016	d006		 beq         |$LN4@DeviceStat|
  00018	6823		 ldr         r3,[r4]
  0001a	4910		 ldr         r1,|$LN18@DeviceStat| ; =|??_C@_1CG@GHDPCNI@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAA?$AAd?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@|
  0001c	480e		 ldr         r0,|$LN17@DeviceStat| ; =|??_C@_1FE@PFMPBNAG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAa?$AAd?$AAd?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAt?$AAo?$AA?5?$AAl?$AAi?$AAs?$AAt@|
  0001e	4622		 mov         r2,r4
  00020	9500		 str         r5,[sp]
  00022	f000 f800	 bl          CeLogMsg
  00026		 |$LN4@DeviceStat|

; 93   :     EnterCriticalSection(&gcsPowerManager);

  00026	480b		 ldr         r0,|$LN16@DeviceStat| ; =|gcsPowerManager|
  00028	f000 f800	 bl          EnterCriticalSection

; 840  : 
; 841  :     // put the new device at the head of the list
; 842  :     PMLOCK();
; 843  :     pdsDevice->pListHead = pdl;

  0002c	6665		 str         r5,[r4,#0x64]

; 844  :     pdsDevice->pNext = pdl->pList;

  0002e	686b		 ldr         r3,[r5,#4]
  00030	66a3		 str         r3,[r4,#0x68]

; 845  :     pdsDevice->pPrev = NULL;

  00032	2300		 movs        r3,#0
  00034	66e3		 str         r3,[r4,#0x6C]

; 846  :     if(pdl->pList != NULL) {

  00036	686b		 ldr         r3,[r5,#4]
  00038	b103		 cbz         r3,|$LN1@DeviceStat|

; 847  :         pdl->pList->pPrev = pdsDevice;

  0003a	66dc		 str         r4,[r3,#0x6C]
  0003c		 |$LN1@DeviceStat|

; 848  :     }
; 849  :     pdl->pList = pdsDevice;
; 850  : 
; 851  :     // copy interface method pointers from the device class
; 852  :     DEBUGCHK(pdl->pInterface != NULL);
; 853  :     pdsDevice->pInterface = pdl->pInterface;

  0003c	692b		 ldr         r3,[r5,#0x10]
  0003e	606c		 str         r4,[r5,#4]

; 854  : 
; 855  :     DeviceStateAddRef(pdsDevice);

  00040	4620		 mov         r0,r4
  00042	6623		 str         r3,[r4,#0x60]
  00044	f000 f800	 bl          DeviceStateAddRef

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  00048	4802		 ldr         r0,|$LN16@DeviceStat| ; =|gcsPowerManager|
  0004a	f000 f800	 bl          LeaveCriticalSection

; 856  :     PMUNLOCK();
; 857  : 
; 858  :     return fOk;

  0004e	2001		 movs        r0,#1
  00050		 |$M14|

; 859  : }

  00050	e8bd 883c	 pop         {r2-r5,r11,pc}
  00054		 |$LN15@DeviceStat|
  00054		 |$LN16@DeviceStat|
  00054	0000 0000	 DCD         |gcsPowerManager|
  00058		 |$LN17@DeviceStat|
  00058	0000 0000	 DCD         |??_C@_1FE@PFMPBNAG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAa?$AAd?$AAd?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAt?$AAo?$AA?5?$AAl?$AAi?$AAs?$AAt@|
  0005c		 |$LN18@DeviceStat|
  0005c	0000 0000	 DCD         |??_C@_1CG@GHDPCNI@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAA?$AAd?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@|
  00060		 |$LN19@DeviceStat|
  00060	0000 0000	 DCD         |dpCurSettings|
  00064		 |$M12|

			 ENDP  ; |DeviceStateAddList|


  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?GUIDFromString@@YAHPBGPAU_GUID@@@Z| DCD imagerel |$LN10@GUIDFromSt|
	DCD	0xfd306059
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?GUIDFromString@@YAHPBGPAU_GUID@@@Z| PROC ; GUIDFromString

; 297  : {

  00000		 |$LN10@GUIDFromSt|
  00000	e92d 4818	 push        {r3,r4,r11,lr}
  00004	f20d 0b08	 addw        r11,sp,#8
  00008		 |$M8|
  00008	4604		 mov         r4,r0

; 298  :     if (*lpsz++ != '{' )

  0000a	8823		 ldrh        r3,[r4]
  0000c	2b7b		 cmp         r3,#0x7B
  0000e	d001		 beq         |$LN3@GUIDFromSt|
  00010		 |$LN6@GUIDFromSt|

; 299  :         return FALSE;

  00010	2000		 movs        r0,#0
  00012	e009		 b           |$LN4@GUIDFromSt|
  00014		 |$LN3@GUIDFromSt|

; 300  :     
; 301  :     if(wUUIDFromString(lpsz, pguid) != TRUE)

  00014	1ca0		 adds        r0,r4,#2
  00016	f000 f800	 bl          |?wUUIDFromString@@YAHPBGPAU_GUID@@@Z|
  0001a	2801		 cmp         r0,#1
  0001c	d1f8		 bne         |$LN6@GUIDFromSt|

; 302  :         return FALSE;
; 303  :     
; 304  :     lpsz +=36;
; 305  :     
; 306  :     if (*lpsz++ != '}' )

  0001e	f8b4 304a	 ldrh        r3,[r4,#0x4A]
  00022	2b7d		 cmp         r3,#0x7D
  00024	d1f4		 bne         |$LN6@GUIDFromSt|

; 307  :         return FALSE;
; 308  :     
; 309  :     return TRUE;

  00026	2001		 movs        r0,#1
  00028		 |$LN4@GUIDFromSt|
  00028		 |$M11|

; 310  : }

  00028	e8bd 8818	 pop         {r3,r4,r11,pc}
  0002c		 |$M9|

			 ENDP  ; |?GUIDFromString@@YAHPBGPAU_GUID@@@Z|, GUIDFromString

	EXPORT	|?DeviceIdsAreEqual@@YAHPAU_DeviceId_tag@@0@Z| ; DeviceIdsAreEqual

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?DeviceIdsAreEqual@@YAHPAU_DeviceId_tag@@0@Z| DCD imagerel |$LN29@DeviceIdsA|
	DCD	0xfd326085
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp
; File c:\wince800\public\common\sdk\inc\guiddef.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?DeviceIdsAreEqual@@YAHPAU_DeviceId_tag@@0@Z| PROC ; DeviceIdsAreEqual

; 672  : {

  00000		 |$LN29@DeviceIdsA|
  00000	e92d 4878	 push        {r3-r6,r11,lr}
  00004	f20d 0b10	 addw        r11,sp,#0x10
  00008		 |$M27|
  00008	4606		 mov         r6,r0

; 673  :     BOOL fEqual = TRUE;
; 674  : 
; 675  :     PREFAST_DEBUGCHK(pId1 != NULL);
; 676  :     PREFAST_DEBUGCHK(pId2 != NULL);
; 677  :     // check name strings first
; 678  :     if(pId1->pszName == NULL) {

  0000a	6870		 ldr         r0,[r6,#4]
  0000c	2401		 movs        r4,#1
  0000e	460d		 mov         r5,r1
  00010	b910		 cbnz        r0,|$LN11@DeviceIdsA|

; 679  :         if(pId2->pszName != NULL) {

  00012	686b		 ldr         r3,[r5,#4]
  00014	b12b		 cbz         r3,|$LN24@DeviceIdsA|

; 680  :             fEqual = FALSE;
; 681  :         }
; 682  :     } else {

  00016	e010		 b           |$LN7@DeviceIdsA|
  00018		 |$LN11@DeviceIdsA|

; 683  :         if(pId2->pszName == NULL || _tcscmp(pId1->pszName, pId2->pszName) != 0) {

  00018	6869		 ldr         r1,[r5,#4]
  0001a	b171		 cbz         r1,|$LN7@DeviceIdsA|
  0001c	f000 f800	 bl          wcscmp
  00020	b958		 cbnz        r0,|$LN7@DeviceIdsA|
  00022		 |$LN24@DeviceIdsA|

; 685  :         }
; 686  :     }
; 687  : 
; 688  :     // check guid values
; 689  :     if(fEqual == TRUE) {
; 690  :         if(pId1->pGuid == NULL) {

  00022	6830		 ldr         r0,[r6]
  00024	b910		 cbnz        r0,|$LN5@DeviceIdsA|

; 691  :             if(pId2->pGuid != NULL) {

  00026	682b		 ldr         r3,[r5]
  00028	2b00		 cmp         r3,#0

; 692  :                 fEqual = FALSE;
; 693  :             }
; 694  :         } else {

  0002a	e005		 b           |$LN25@DeviceIdsA|
  0002c		 |$LN5@DeviceIdsA|

; 695  :             if(pId2->pGuid == NULL || *pId1->pGuid != *pId2->pGuid) {

  0002c	6829		 ldr         r1,[r5]
  0002e	b121		 cbz         r1,|$LN7@DeviceIdsA|
; File c:\wince800\public\common\sdk\inc\guiddef.h

; 150  :     return !memcmp(&rguid1, &rguid2, sizeof(GUID));

  00030	2210		 movs        r2,#0x10
  00032	f000 f800	 bl          memcmp
  00036	2800		 cmp         r0,#0
  00038		 |$LN25@DeviceIdsA|
  00038	d000		 beq         |$LN2@DeviceIdsA|
  0003a		 |$LN7@DeviceIdsA|
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

; 684  :             fEqual = FALSE;

  0003a	2400		 movs        r4,#0
  0003c		 |$LN2@DeviceIdsA|

; 696  :                 fEqual = FALSE;
; 697  :             }
; 698  :         }
; 699  :     }
; 700  : 
; 701  :     return fEqual;
; 702  : }

  0003c	4620		 mov         r0,r4
  0003e		 |$M30|
  0003e	e8bd 8878	 pop         {r3-r6,r11,pc}
  00042		 |$M28|

			 ENDP  ; |?DeviceIdsAreEqual@@YAHPAU_DeviceId_tag@@0@Z|, DeviceIdsAreEqual

	EXPORT	|??_C@_1CO@JDGHGHGI@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAR?$AAe?$AAs?$AAt?$AAr?$AAi?$AAc?$AAt?$AAi?$AAo?$AAn?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GA@IDMIBKBM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAd?$AAu?$AAr?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?5?$AAi@| [ DATA ] ; `string'
	EXPORT	|??_C@_1O@DPFEOIGE@?$AA?$DM?$AAN?$AAU?$AAL?$AAL?$AA?$DO?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|PowerRestrictionCreate|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$PowerRestrictionCreate| DCD imagerel |$LN47@PowerRestr|
	DCD	imagerel |$unwind2$PowerRestrictionCreate|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$PowerRestrictionCreate| DCD 0x3330009c
	DCD	0xdffc09c7
	DCD	0xefdbff04
	DCD	0xff05
	DCD	imagerel |__C_specific_handler|
	DCD	0x1
	DCD	imagerel |$LN29@PowerRestr|
	DCD	imagerel |$LN30@PowerRestr|
	DCD	0x1
	DCD	imagerel |$LN26@PowerRestr|

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1O@DPFEOIGE@?$AA?$DM?$AAN?$AAU?$AAL?$AAL?$AA?$DO?$AA?$AA@| DCB "<", 0x0
	DCB	"N", 0x0, "U", 0x0, "L", 0x0, "L", 0x0, ">", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GA@IDMIBKBM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAd?$AAu?$AAr?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?5?$AAi@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "x", 0x0, "c"
	DCB	0x0, "e", 0x0, "p", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, " ", 0x0, "d", 0x0, "u", 0x0, "r", 0x0, "i", 0x0, "n"
	DCB	0x0, "g", 0x0, " ", 0x0, "s", 0x0, "t", 0x0, "r", 0x0, "u"
	DCB	0x0, "c", 0x0, "t", 0x0, "u", 0x0, "r", 0x0, "e", 0x0, " "
	DCB	0x0, "i", 0x0, "n", 0x0, "i", 0x0, "t", 0x0, "i", 0x0, "a"
	DCB	0x0, "l", 0x0, "i", 0x0, "z", 0x0, "a", 0x0, "t", 0x0, "i"
	DCB	0x0, "o", 0x0, "n", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CO@JDGHGHGI@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAR?$AAe?$AAs?$AAt?$AAr?$AAi?$AAc?$AAt?$AAi?$AAo?$AAn?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@| DCB "P"
	DCB	0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "R", 0x0, "e"
	DCB	0x0, "s", 0x0, "t", 0x0, "r", 0x0, "i", 0x0, "c", 0x0, "t"
	DCB	0x0, "i", 0x0, "o", 0x0, "n", 0x0, "C", 0x0, "r", 0x0, "e"
	DCB	0x0, "a", 0x0, "t", 0x0, "e", 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |PowerRestrictionCreate| PROC

; 952  : {

  00000		 |$LN47@PowerRestr|
  00000	b40f		 push        {r0-r3}
  00002	e92d 4ff0	 push        {r4-r11,lr}
  00006	f20d 0b1c	 addw        r11,sp,#0x1C
  0000a	b089		 sub         sp,sp,#0x24
  0000c	466f		 mov         r7,sp
  0000e		 |$LN45@PowerRestr|
  0000e	461d		 mov         r5,r3
  00010	60bd		 str         r5,[r7,#8]
  00012	623a		 str         r2,[r7,#0x20]
  00014	61f9		 str         r1,[r7,#0x1C]
  00016	4682		 mov         r10,r0
  00018	64b8		 str         r0,[r7,#0x48]

; 953  :     PDEVICE_POWER_RESTRICTION pdpr = NULL;

  0001a	2300		 movs        r3,#0
  0001c	61bb		 str         r3,[r7,#0x18]

; 954  :     BOOL fOk = TRUE;

  0001e	2601		 movs        r6,#1

; 955  :     SETFNAME(_T("PowerRestrictionCreate"));

  00020	f8df 8124	 ldr         r8,|$LN55@PowerRestr| ; =|??_C@_1CO@JDGHGHGI@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAR?$AAe?$AAs?$AAt?$AAr?$AAi?$AAc?$AAt?$AAi?$AAo?$AAn?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  00024	f8c7 8010	 str         r8,[r7,#0x10]
  00028		 |$LN29@PowerRestr|

; 956  : 
; 957  :     __try {
; 958  :         LPTSTR pszSystemStateCopy = NULL;

  00028	f04f 0900	 mov         r9,#0

; 959  :         PDEVICEID pDeviceIdCopy = NULL;

  0002c	2300		 movs        r3,#0
  0002e	60fb		 str         r3,[r7,#0xC]

; 960  :         DWORD dwDeviceIdSize = DeviceIdSize(pDeviceId);

  00030	4650		 mov         r0,r10
  00032	f000 f800	 bl          DeviceIdSize
  00036	6038		 str         r0,[r7]

; 961  :         DWORD cchSystemState = NULL;

  00038	2300		 movs        r3,#0
  0003a	607b		 str         r3,[r7,#4]

; 962  : 
; 963  :         // allocate resources
; 964  :         DWORD dwSize = sizeof(*pdpr) + dwDeviceIdSize;

  0003c	f110 041c	 adds        r4,r0,#0x1C

; 965  :         if(pszSystemState != NULL) {

  00040	b13d		 cbz         r5,|$LN14@PowerRestr|

; 966  :             cchSystemState = _tcslen(pszSystemState);

  00042	4628		 mov         r0,r5
  00044	f000 f800	 bl          wcslen
  00048	6078		 str         r0,[r7,#4]

; 967  :             dwSize += ((cchSystemState + 1) * sizeof(pszSystemState[0]));

  0004a	1c43		 adds        r3,r0,#1
  0004c	eb04 0443	 add         r4,r4,r3,lsl #1
  00050	68bd		 ldr         r5,[r7,#8]
  00052		 |$LN14@PowerRestr|

; 968  :         }
; 969  :         pdpr = (PDEVICE_POWER_RESTRICTION) PmAlloc(dwSize);

  00052	4620		 mov         r0,r4
  00054	f000 f800	 bl          PmAlloc
  00058	4604		 mov         r4,r0
  0005a	61bc		 str         r4,[r7,#0x18]

; 970  :         if(pdpr == NULL) {

  0005c	b914		 cbnz        r4,|$LN13@PowerRestr|

; 971  :             fOk = FALSE;

  0005e	2300		 movs        r3,#0
  00060	461e		 mov         r6,r3
  00062	617b		 str         r3,[r7,#0x14]
  00064		 |$LN13@PowerRestr|

; 972  :         }
; 973  : 
; 974  :         if(fOk) {

  00064	b176		 cbz         r6,|$LN41@PowerRestr|

; 975  :             // copy the device ID
; 976  :             if(pDeviceId != NULL) {

  00066	f1ba 0f00	 cmp         r10,#0
  0006a	d00b		 beq         |$LN41@PowerRestr|

; 977  :                 pDeviceIdCopy = (PDEVICEID) ((LPBYTE) pdpr + sizeof(*pdpr));
; 978  :                 pDeviceIdCopy = DeviceIdCloneIntoBuffer(pDeviceId, pDeviceIdCopy, dwDeviceIdSize);

  0006c	683a		 ldr         r2,[r7]
  0006e	f114 011c	 adds        r1,r4,#0x1C
  00072	4650		 mov         r0,r10
  00074	f000 f800	 bl          DeviceIdCloneIntoBuffer
  00078	60f8		 str         r0,[r7,#0xC]

; 979  :                 if(pDeviceIdCopy == NULL) {

  0007a	b918		 cbnz        r0,|$LN41@PowerRestr|

; 980  :                     fOk = FALSE;

  0007c	2200		 movs        r2,#0
  0007e	4616		 mov         r6,r2
  00080	617a		 str         r2,[r7,#0x14]
  00082	e000		 b           |$LN10@PowerRestr|
  00084		 |$LN41@PowerRestr|
  00084	2200		 movs        r2,#0
  00086		 |$LN10@PowerRestr|

; 981  :                 }
; 982  :             }
; 983  :         }
; 984  : 
; 985  :         if(fOk) {

  00086	b1be		 cbz         r6,|$LN38@PowerRestr|

; 986  :             // copy the system power state name, if it's present
; 987  :             if(pszSystemState != NULL) {

  00088	b1a5		 cbz         r5,|$LN8@PowerRestr|

; 988  :                 // get a pointer to the aggregated buffer we just allocated
; 989  :                 PREFAST_SUPPRESS(12009,"The Size has been pre-calculated");
; 990  :                 pszSystemStateCopy = (LPTSTR) ((LPBYTE) pdpr + sizeof(*pdpr) + dwDeviceIdSize);

  0008a	683b		 ldr         r3,[r7]
  0008c	191b		 adds        r3,r3,r4
  0008e	f113 091c	 adds        r9,r3,#0x1C

; 991  :                 
; 992  :                 // Do the copy here because once it's assigned to the structure
; 993  :                 // our allocated buffer will be treated as const.  Convert to lowercase
; 994  :                 // so that we avoid doing localized comparisons when accessing the requirement
; 995  :                 // data.
; 996  :                 for (DWORD dwIndex = 0; dwIndex < cchSystemState; dwIndex++) {

  00092	4615		 mov         r5,r2
  00094		 |$LL7@PowerRestr|
  00094	687b		 ldr         r3,[r7,#4]
  00096	429d		 cmp         r5,r3
  00098	d208		 bcs         |$LN5@PowerRestr|

; 997  :                     pszSystemStateCopy[dwIndex] = _totlower(pszSystemState[dwIndex]);

  0009a	68bb		 ldr         r3,[r7,#8]
  0009c	f833 0015	 ldrh        r0,[r3,r5,lsl #1]
  000a0	f000 f800	 bl          towlower
  000a4	f829 0015	 strh        r0,[r9,r5,lsl #1]

; 991  :                 
; 992  :                 // Do the copy here because once it's assigned to the structure
; 993  :                 // our allocated buffer will be treated as const.  Convert to lowercase
; 994  :                 // so that we avoid doing localized comparisons when accessing the requirement
; 995  :                 // data.
; 996  :                 for (DWORD dwIndex = 0; dwIndex < cchSystemState; dwIndex++) {

  000a8	3501		 adds        r5,#1
  000aa	e7f3		 b           |$LL7@PowerRestr|
  000ac		 |$LN5@PowerRestr|

; 998  :                 }
; 999  :                 pszSystemStateCopy[cchSystemState] = 0;

  000ac	2500		 movs        r5,#0
  000ae	f829 5013	 strh        r5,[r9,r3,lsl #1]
  000b2	e002		 b           |$LN4@PowerRestr|
  000b4		 |$LN8@PowerRestr|

; 1000 :             } else {
; 1001 :                 pszSystemStateCopy = NULL;

  000b4	f04f 0900	 mov         r9,#0
  000b8		 |$LN38@PowerRestr|
  000b8	2500		 movs        r5,#0
  000ba		 |$LN4@PowerRestr|

; 1002 :             }
; 1003 :         }
; 1004 :         
; 1005 :         // initialize the structure
; 1006 :         if(fOk) { 

  000ba	b186		 cbz         r6,|$LN30@PowerRestr|

; 1007 :             memset(pdpr, 0, sizeof(*pdpr));

  000bc	221c		 movs        r2,#0x1C
  000be	2100		 movs        r1,#0
  000c0	4620		 mov         r0,r4
  000c2	f000 f800	 bl          memset

; 1008 :             pdpr->pDeviceId = pDeviceIdCopy;

  000c6	68fb		 ldr         r3,[r7,#0xC]
  000c8	6023		 str         r3,[r4]

; 1009 :             pdpr->hOwner = hOwner;

  000ca	69fb		 ldr         r3,[r7,#0x1C]
  000cc	6063		 str         r3,[r4,#4]

; 1010 :             pdpr->devDx = Dx;

  000ce	6a3b		 ldr         r3,[r7,#0x20]
  000d0	60a3		 str         r3,[r4,#8]

; 1011 :             pdpr->pszSystemState = pszSystemStateCopy;

  000d2	f8c4 900c	 str         r9,[r4,#0xC]

; 1012 :             pdpr->dwFlags = dwFlags;

  000d6	6dbb		 ldr         r3,[r7,#0x58]
  000d8	6123		 str         r3,[r4,#0x10]

; 1013 :             pdpr->pNext = NULL;

  000da	6165		 str         r5,[r4,#0x14]

; 1014 :             pdpr->pPrev = NULL;

  000dc	61a5		 str         r5,[r4,#0x18]
  000de		 |$LN30@PowerRestr|

; 1015 : 
; 1016 :         }
; 1017 :     }

  000de	4d19		 ldr         r5,|$LN54@PowerRestr| ; =|dpCurSettings|
  000e0	e010		 b           |$LN31@PowerRestr|
  000e2		 |$LN26@PowerRestr|
  000e2		 |$LN28@PowerRestr|

; 1018 :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 1019 :         PMLOGMSG(ZONE_WARN, (_T("%s: exception during structure initialization\r\n"),
; 1020 :             pszFname));

  000e2	4d18		 ldr         r5,|$LN54@PowerRestr| ; =|dpCurSettings|

; 1015 : 
; 1016 :         }
; 1017 :     }

  000e4	f8d5 3440	 ldr         r3,[r5,#0x440]

; 1018 :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 1019 :         PMLOGMSG(ZONE_WARN, (_T("%s: exception during structure initialization\r\n"),
; 1020 :             pszFname));

  000e8	f013 0f02	 tst         r3,#2
  000ec	f8d7 8010	 ldr         r8,[r7,#0x10]
  000f0	d003		 beq         |$LN18@PowerRestr|
  000f2	4813		 ldr         r0,|$LN53@PowerRestr| ; =|??_C@_1GA@IDMIBKBM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAd?$AAu?$AAr?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?5?$AAi@|
  000f4	4641		 mov         r1,r8
  000f6	f000 f800	 bl          CeLogMsg
  000fa		 |$LN18@PowerRestr|

; 1021 :         fOk = FALSE;

  000fa	2600		 movs        r6,#0
  000fc	617e		 str         r6,[r7,#0x14]
  000fe	f8d7 a048	 ldr         r10,[r7,#0x48]
  00102	69bc		 ldr         r4,[r7,#0x18]
  00104		 |$LN31@PowerRestr|

; 1022 :     }
; 1023 : 
; 1024 :     // clean up if necessary
; 1025 :     if(!fOk) {

  00104	b926		 cbnz        r6,|$LN1@PowerRestr|

; 1026 :         if(pdpr != NULL) {

  00106	b124		 cbz         r4,|$LN44@PowerRestr|

; 1027 :             PmFree(pdpr);

  00108	4620		 mov         r0,r4
  0010a	f000 f800	 bl          PmFree

; 1028 :             pdpr = NULL;

  0010e	2400		 movs        r4,#0
  00110		 |$LN1@PowerRestr|

; 1029 :         }
; 1030 :     }
; 1031 : 
; 1032 :     PMLOGMSG(pdpr == NULL && ZONE_WARN, (_T("%s: couldn't create structure for '%s'\r\n"),
; 1033 :         pszFname, pDeviceId->pszName != NULL ? pDeviceId->pszName : _T("<NULL>")));

  00110	b964		 cbnz        r4,|$LN16@PowerRestr|
  00112		 |$LN44@PowerRestr|

; 1015 : 
; 1016 :         }
; 1017 :     }

  00112	f8d5 3440	 ldr         r3,[r5,#0x440]

; 1029 :         }
; 1030 :     }
; 1031 : 
; 1032 :     PMLOGMSG(pdpr == NULL && ZONE_WARN, (_T("%s: couldn't create structure for '%s'\r\n"),
; 1033 :         pszFname, pDeviceId->pszName != NULL ? pDeviceId->pszName : _T("<NULL>")));

  00116	f013 0f02	 tst         r3,#2
  0011a	d007		 beq         |$LN16@PowerRestr|
  0011c	f8da 2004	 ldr         r2,[r10,#4]
  00120	b902		 cbnz        r2,|$LN22@PowerRestr|
  00122	4a06		 ldr         r2,|$LN52@PowerRestr| ; =|??_C@_1O@DPFEOIGE@?$AA?$DM?$AAN?$AAU?$AAL?$AAL?$AA?$DO?$AA?$AA@|
  00124		 |$LN22@PowerRestr|
  00124	4804		 ldr         r0,|$LN51@PowerRestr| ; =|??_C@_1FC@GGBMAKFK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?5?$AAf?$AAo@|
  00126	4641		 mov         r1,r8
  00128	f000 f800	 bl          CeLogMsg
  0012c		 |$LN16@PowerRestr|

; 1034 :     return pdpr;
; 1035 : }

  0012c	4620		 mov         r0,r4
  0012e		 |$M49|
  0012e	b009		 add         sp,sp,#0x24
  00130	e8bd 0ff0	 pop         {r4-r11}
  00134	f85d fb14	 ldr         pc,[sp],#0x14
  00138		 |$LN50@PowerRestr|
  00138		 |$LN51@PowerRestr|
  00138	0000 0000	 DCD         |??_C@_1FC@GGBMAKFK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?5?$AAf?$AAo@|
  0013c		 |$LN52@PowerRestr|
  0013c	0000 0000	 DCD         |??_C@_1O@DPFEOIGE@?$AA?$DM?$AAN?$AAU?$AAL?$AAL?$AA?$DO?$AA?$AA@|
  00140		 |$LN53@PowerRestr|
  00140	0000 0000	 DCD         |??_C@_1GA@IDMIBKBM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAd?$AAu?$AAr?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?5?$AAi@|
  00144		 |$LN54@PowerRestr|
  00144	0000 0000	 DCD         |dpCurSettings|
  00148		 |$LN55@PowerRestr|
  00148	0000 0000	 DCD         |??_C@_1CO@JDGHGHGI@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAR?$AAe?$AAs?$AAt?$AAr?$AAi?$AAc?$AAt?$AAi?$AAo?$AAn?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|

			 ENDP  ; |PowerRestrictionCreate|

  0014c		 |$LN46@PowerRestr|
	EXPORT	|DeviceIdClone|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceIdClone| DCD imagerel |$LN10@DeviceIdCl|
	DCD	0xfd326071
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |DeviceIdClone| PROC

; 424  : {

  00000		 |$LN10@DeviceIdCl|
  00000	e92d 4878	 push        {r3-r6,r11,lr}
  00004	f20d 0b10	 addw        r11,sp,#0x10
  00008		 |$M8|
  00008	4606		 mov         r6,r0

; 425  :     PDEVICEID pIdClone;
; 426  :     DWORD dwSize;
; 427  : 
; 428  :     DEBUGCHK(pId != NULL);
; 429  : 
; 430  :     // calculate the amount of memory to allocate
; 431  :     dwSize = DeviceIdSize(pId);

  0000a	f000 f800	 bl          DeviceIdSize
  0000e	4605		 mov         r5,r0

; 432  :     if(dwSize != 0) {

  00010	b11d		 cbz         r5,|$LN4@DeviceIdCl|

; 433  :         pIdClone = (PDEVICEID) PmAlloc(dwSize);

  00012	f000 f800	 bl          PmAlloc
  00016	4604		 mov         r4,r0

; 434  :     } else {

  00018	e000		 b           |$LN3@DeviceIdCl|
  0001a		 |$LN4@DeviceIdCl|

; 435  :         pIdClone = NULL;

  0001a	2400		 movs        r4,#0
  0001c		 |$LN3@DeviceIdCl|

; 436  :     }
; 437  : 
; 438  :     // copy data into the buffer
; 439  :     if(pIdClone != NULL) {

  0001c	b14c		 cbz         r4,|$LN1@DeviceIdCl|

; 440  :         PDEVICEID pIdTmp = DeviceIdCloneIntoBuffer(pId, pIdClone, dwSize);

  0001e	462a		 mov         r2,r5
  00020	4621		 mov         r1,r4
  00022	4630		 mov         r0,r6
  00024	f000 f800	 bl          DeviceIdCloneIntoBuffer

; 441  :         if(pIdTmp == NULL) {

  00028	b918		 cbnz        r0,|$LN1@DeviceIdCl|

; 442  :             PmFree(pIdClone);

  0002a	4620		 mov         r0,r4
  0002c	f000 f800	 bl          PmFree

; 443  :             pIdClone = NULL;

  00030	2400		 movs        r4,#0
  00032		 |$LN1@DeviceIdCl|

; 444  :         }
; 445  :     }
; 446  : 
; 447  :     DEBUGCHK(pIdClone == NULL || pIdClone->pGuid != NULL || pIdClone->pszName != NULL);
; 448  : 
; 449  :     return pIdClone;
; 450  : }

  00032	4620		 mov         r0,r4
  00034		 |$M11|
  00034	e8bd 8878	 pop         {r3-r6,r11,pc}
  00038		 |$M9|

			 ENDP  ; |DeviceIdClone|

	EXPORT	|??_C@_1DM@PMPBMFMH@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?1?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AA?1?$AA?$CF?$AAs?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1HC@EKMABGEG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAf?$AAo?$AAr?$AAm?$AAa?$AAt?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAf@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CI@MAPGODIM@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CO@NKBHAHHA@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?1?$AA?$CF?$AAs?$AA_?$AAA?$AAc?$AAt?$AAi?$AAv?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DC@JJBBHDOP@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?1?$AA?$CF?$AAs?$AA_?$AAI?$AAn?$AAa?$AAc?$AAt?$AAi?$AAv?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GE@CFEGDMOD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AAw?$AAa?$AAk?$AAe?$AA?5?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FE@LNHDKALC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAf@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GC@IBIDOKJC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAr?$AAe@| [ DATA ] ; `string'
	EXPORT	|ActivityTimerCreate|
	IMPORT	|StringCchPrintfW|
	IMPORT	|CreateEventW|
	IMPORT	|wcstol|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$ActivityTimerCreate| DCD imagerel |$LN55@ActivityTi|
	DCD	imagerel |$unwind2$ActivityTimerCreate|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$ActivityTimerCreate| DCD 0x33b00106
	DCD	0x1e884e8
	DCD	0xe8ffdffc
	DCD	0xffdf01
	DCD	imagerel |__GSHandlerCheck|
	DCD	0xffffffd9

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GC@IBIDOKJC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAr?$AAe@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "A", 0x0, "c", 0x0, "t"
	DCB	0x0, "i", 0x0, "v", 0x0, "i", 0x0, "t", 0x0, "y", 0x0, "T"
	DCB	0x0, "i", 0x0, "m", 0x0, "e", 0x0, "r", 0x0, "C", 0x0, "r"
	DCB	0x0, "e", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "(", 0x0, "'"
	DCB	0x0, "%", 0x0, "s", 0x0, "'", 0x0, ")", 0x0, " ", 0x0, "r"
	DCB	0x0, "e", 0x0, "t", 0x0, "u", 0x0, "r", 0x0, "n", 0x0, "i"
	DCB	0x0, "n", 0x0, "g", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "8", 0x0, "x", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FE@LNHDKALC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAf@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "r", 0x0, "e", 0x0, "s"
	DCB	0x0, "o", 0x0, "u", 0x0, "r", 0x0, "c", 0x0, "e", 0x0, " "
	DCB	0x0, "a", 0x0, "l", 0x0, "l", 0x0, "o", 0x0, "c", 0x0, "a"
	DCB	0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n", 0x0, " ", 0x0, "f"
	DCB	0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, " "
	DCB	0x0, "f", 0x0, "o", 0x0, "r", 0x0, " ", 0x0, "'", 0x0, "%"
	DCB	0x0, "s", 0x0, "'", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GE@CFEGDMOD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AAw?$AAa?$AAk?$AAe?$AA?5?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "c", 0x0, "a", 0x0, "n"
	DCB	0x0, "'", 0x0, "t", 0x0, " ", 0x0, "p", 0x0, "a", 0x0, "r"
	DCB	0x0, "s", 0x0, "e", 0x0, " ", 0x0, "w", 0x0, "a", 0x0, "k"
	DCB	0x0, "e", 0x0, " ", 0x0, "s", 0x0, "o", 0x0, "u", 0x0, "r"
	DCB	0x0, "c", 0x0, "e", 0x0, " ", 0x0, "'", 0x0, "%", 0x0, "s"
	DCB	0x0, "'", 0x0, " ", 0x0, "f", 0x0, "o", 0x0, "r", 0x0, " "
	DCB	0x0, "t", 0x0, "i", 0x0, "m", 0x0, "e", 0x0, "r", 0x0, " "
	DCB	0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DC@JJBBHDOP@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?1?$AA?$CF?$AAs?$AA_?$AAI?$AAn?$AAa?$AAc?$AAt?$AAi?$AAv?$AAe?$AA?$AA@| DCB "P"
	DCB	0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "M", 0x0, "a"
	DCB	0x0, "n", 0x0, "a", 0x0, "g", 0x0, "e", 0x0, "r", 0x0, "/"
	DCB	0x0, "%", 0x0, "s", 0x0, "_", 0x0, "I", 0x0, "n", 0x0, "a"
	DCB	0x0, "c", 0x0, "t", 0x0, "i", 0x0, "v", 0x0, "e", 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CO@NKBHAHHA@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?1?$AA?$CF?$AAs?$AA_?$AAA?$AAc?$AAt?$AAi?$AAv?$AAe?$AA?$AA@| DCB "P"
	DCB	0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "M", 0x0, "a"
	DCB	0x0, "n", 0x0, "a", 0x0, "g", 0x0, "e", 0x0, "r", 0x0, "/"
	DCB	0x0, "%", 0x0, "s", 0x0, "_", 0x0, "A", 0x0, "c", 0x0, "t"
	DCB	0x0, "i", 0x0, "v", 0x0, "e", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CI@MAPGODIM@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@| DCB "A"
	DCB	0x0, "c", 0x0, "t", 0x0, "i", 0x0, "v", 0x0, "i", 0x0, "t"
	DCB	0x0, "y", 0x0, "T", 0x0, "i", 0x0, "m", 0x0, "e", 0x0, "r"
	DCB	0x0, "C", 0x0, "r", 0x0, "e", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HC@EKMABGEG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAf?$AAo?$AAr?$AAm?$AAa?$AAt?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAf@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "c", 0x0, "o", 0x0, "u"
	DCB	0x0, "l", 0x0, "d", 0x0, "n", 0x0, "'", 0x0, "t", 0x0, " "
	DCB	0x0, "f", 0x0, "o", 0x0, "r", 0x0, "m", 0x0, "a", 0x0, "t"
	DCB	0x0, " ", 0x0, "e", 0x0, "v", 0x0, "e", 0x0, "n", 0x0, "t"
	DCB	0x0, " ", 0x0, "n", 0x0, "a", 0x0, "m", 0x0, "e", 0x0, " "
	DCB	0x0, "f", 0x0, "o", 0x0, "r", 0x0, " ", 0x0, "a", 0x0, "c"
	DCB	0x0, "t", 0x0, "i", 0x0, "v", 0x0, "i", 0x0, "t", 0x0, "y"
	DCB	0x0, " ", 0x0, "t", 0x0, "i", 0x0, "m", 0x0, "e", 0x0, "r"
	DCB	0x0, " ", 0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DM@PMPBMFMH@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?1?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AA?1?$AA?$CF?$AAs?$AA?$AA@| DCB "P"
	DCB	0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "M", 0x0, "a"
	DCB	0x0, "n", 0x0, "a", 0x0, "g", 0x0, "e", 0x0, "r", 0x0, "/"
	DCB	0x0, "A", 0x0, "c", 0x0, "t", 0x0, "i", 0x0, "v", 0x0, "i"
	DCB	0x0, "t", 0x0, "y", 0x0, "T", 0x0, "i", 0x0, "m", 0x0, "e"
	DCB	0x0, "r", 0x0, "/", 0x0, "%", 0x0, "s", 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |ActivityTimerCreate| PROC

; 1510 : {

  00000		 |$LN55@ActivityTi|
  00000	e92d 4ff0	 push        {r4-r11,lr}
  00004	f20d 0b1c	 addw        r11,sp,#0x1C
  00008	f000 f800	 bl          __security_push_cookie
  0000c	f2ad 2d10	 subw        sp,sp,#0x210
  00010		 |$M53|

; 1511 :     PACTIVITY_TIMER pat = NULL;
; 1512 :     DWORD dwWakeSources, dwSize;
; 1513 :     LPCTSTR pszSource;
; 1514 :     TCHAR szPath[MAX_PATH];
; 1515 :     BOOL fOk = TRUE;
; 1516 :     SETFNAME(_T("ActivityTimerCreate"));
; 1517 : 
; 1518 :     PREFAST_DEBUGCHK(pszName != NULL );
; 1519 :     PREFAST_DEBUGCHK(pszSources != NULL);
; 1520 :     DEBUGCHK(*pszName != 0);
; 1521 : 
; 1522 :     // calculate the number of wake sources and allocate an array for them
; 1523 :     dwWakeSources = 0;
; 1524 :     pszSource = pszSources;
; 1525 :     while(*pszSource != 0) {

  00010	f8b2 3000	 ldrh.w      r3,[r2]
  00014	2601		 movs        r6,#1
  00016	f04f 0a00	 mov         r10,#0
  0001a	4690		 mov         r8,r2
  0001c	4689		 mov         r9,r1
  0001e	4605		 mov         r5,r0
  00020	4614		 mov         r4,r2
  00022	e008		 b           |$LN50@ActivityTi|
  00024		 |$LL19@ActivityTi|

; 1526 :         pszSource += _tcslen(pszSource) + 1;

  00024	4620		 mov         r0,r4
  00026	f000 f800	 bl          wcslen
  0002a	1c43		 adds        r3,r0,#1
  0002c	eb04 0443	 add         r4,r4,r3,lsl #1
  00030	8823		 ldrh        r3,[r4]

; 1527 :         dwWakeSources++;

  00032	f10a 0a01	 add         r10,r10,#1
  00036		 |$LN50@ActivityTi|

; 1511 :     PACTIVITY_TIMER pat = NULL;
; 1512 :     DWORD dwWakeSources, dwSize;
; 1513 :     LPCTSTR pszSource;
; 1514 :     TCHAR szPath[MAX_PATH];
; 1515 :     BOOL fOk = TRUE;
; 1516 :     SETFNAME(_T("ActivityTimerCreate"));
; 1517 : 
; 1518 :     PREFAST_DEBUGCHK(pszName != NULL );
; 1519 :     PREFAST_DEBUGCHK(pszSources != NULL);
; 1520 :     DEBUGCHK(*pszName != 0);
; 1521 : 
; 1522 :     // calculate the number of wake sources and allocate an array for them
; 1523 :     dwWakeSources = 0;
; 1524 :     pszSource = pszSources;
; 1525 :     while(*pszSource != 0) {

  00036	2b00		 cmp         r3,#0
  00038	d1f4		 bne         |$LL19@ActivityTi|

; 1528 :     }
; 1529 : 
; 1530 :     // allocate and initialize structure and members
; 1531 :     dwSize = sizeof(*pat) + ((dwWakeSources + 1) * sizeof(pat->pdwWakeSources[0])) 
; 1532 :         + ((_tcslen(pszName) + 1) * sizeof(*pszName));

  0003a	4628		 mov         r0,r5
  0003c	f000 f800	 bl          wcslen

; 1533 :     pat = (PACTIVITY_TIMER) PmAlloc(dwSize);

  00040	eb00 034a	 add         r3,r0,r10,lsl #1
  00044	3317		 adds        r3,r3,#0x17
  00046	0058		 lsls        r0,r3,#1
  00048	f000 f800	 bl          PmAlloc
  0004c	4604		 mov         r4,r0

; 1534 :     if(pat != NULL) {

  0004e	4f77		 ldr         r7,|$LN66@ActivityTi| ; =|dpCurSettings|
  00050	2c00		 cmp         r4,#0
  00052	f000 80c6	 beq         |$LN1@ActivityTi|

; 1535 :         memset(pat, 0, sizeof(*pat));

  00056	2228		 movs        r2,#0x28
  00058	2100		 movs        r1,#0
  0005a	f000 f800	 bl          memset

; 1536 :         pat->dwTimeout = dwTimeout;                 // timeout in milliseconds

  0005e	f8c4 9004	 str         r9,[r4,#4]

; 1537 :         if(pat->dwTimeout == 0) {

  00062	f1b9 0f00	 cmp         r9,#0
  00066	d103		 bne         |$LN16@ActivityTi|

; 1538 :             pat->dwTimeLeft = INFINITE;

  00068	f06f 0300	 mvn         r3,#0
  0006c	60a3		 str         r3,[r4,#8]

; 1539 :         } else {

  0006e	e001		 b           |$LN15@ActivityTi|
  00070		 |$LN16@ActivityTi|

; 1540 :             pat->dwTimeLeft = pat->dwTimeout;

  00070	f8c4 9008	 str         r9,[r4,#8]
  00074		 |$LN15@ActivityTi|

; 1541 :         }
; 1542 :         pat->pdwWakeSources = (LPDWORD) ((LPBYTE) pat + sizeof(*pat));

  00074	f114 0228	 adds        r2,r4,#0x28

; 1543 :         pat->pszName = (LPTSTR) ((LPBYTE) pat->pdwWakeSources 
; 1544 :             + ((dwWakeSources + 1) * sizeof(pat->pdwWakeSources[0])));

  00078	f10a 0301	 add         r3,r10,#1
  0007c	61a2		 str         r2,[r4,#0x18]
  0007e	eb02 0383	 add         r3,r2,r3,lsl #2

; 1545 : 
; 1546 :         // create the reset event
; 1547 :         if(fOk &&
; 1548 :             StringCchPrintf(szPath, _countof(szPath), _T("PowerManager/ActivityTimer/%s"), pszName) != S_OK) {

  00082	4a69		 ldr         r2,|$LN65@ActivityTi| ; =|??_C@_1DM@PMPBMFMH@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?1?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AA?1?$AA?$CF?$AAs?$AA?$AA@|
  00084	6023		 str         r3,[r4]
  00086	462b		 mov         r3,r5
  00088	a802		 add         r0,sp,#8
  0008a	f44f 7182	 mov         r1,#0x104
  0008e	f000 f800	 bl          StringCchPrintfW
  00092	b348		 cbz         r0,|$LN14@ActivityTi|

; 1549 :             PMLOGMSG(ZONE_WARN, (_T("%s: couldn't format event name for activity timer '%s'\r\n"),
; 1550 :                 pszFname, pszName));

  00094	f8d7 3440	 ldr         r3,[r7,#0x440]
  00098	f013 0f02	 tst         r3,#2
  0009c	d004		 beq         |$LN22@ActivityTi|
  0009e	495b		 ldr         r1,|$LN58@ActivityTi| ; =|??_C@_1CI@MAPGODIM@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  000a0	485e		 ldr         r0,|$LN62@ActivityTi| ; =|??_C@_1HC@EKMABGEG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAf?$AAo?$AAr?$AAm?$AAa?$AAt?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAf@|
  000a2	462a		 mov         r2,r5
  000a4	f000 f800	 bl          CeLogMsg
  000a8		 |$LN22@ActivityTi|

; 1551 :             fOk = FALSE;

  000a8	2600		 movs        r6,#0
  000aa		 |$LN12@ActivityTi|

; 1563 :         } else {
; 1564 :             szPath[_countof(szPath)-1] = 0;

  000aa	2300		 movs        r3,#0
  000ac	f8ad 320e	 strh        r3,[sp,#0x20E]

; 1565 :             pat->hevActive = CreateEvent(NULL, TRUE, FALSE, szPath);

  000b0	ab02		 add         r3,sp,#8
  000b2	2200		 movs        r2,#0
  000b4	2101		 movs        r1,#1
  000b6	2000		 movs        r0,#0
  000b8	f000 f800	 bl          CreateEventW
  000bc	6120		 str         r0,[r4,#0x10]

; 1566 :         }
; 1567 : 
; 1568 :         // create the event indicating inactivity
; 1569 :         if(fOk &&
; 1570 :             StringCchPrintf(szPath, _countof(szPath), _T("PowerManager/%s_Inactive"), pszName) != S_OK) {

  000be	b38e		 cbz         r6,|$LN10@ActivityTi|
  000c0	4a58		 ldr         r2,|$LN64@ActivityTi| ; =|??_C@_1DC@JJBBHDOP@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?1?$AA?$CF?$AAs?$AA_?$AAI?$AAn?$AAa?$AAc?$AAt?$AAi?$AAv?$AAe?$AA?$AA@|
  000c2	a802		 add         r0,sp,#8
  000c4	462b		 mov         r3,r5
  000c6	f44f 7182	 mov         r1,#0x104
  000ca	f000 f800	 bl          StringCchPrintfW
  000ce	b348		 cbz         r0,|$LN10@ActivityTi|

; 1571 :             PMLOGMSG(ZONE_WARN, (_T("%s: couldn't format event name for activity timer '%s'\r\n"),
; 1572 :                 pszFname, pszName));

  000d0	f8d7 3440	 ldr         r3,[r7,#0x440]
  000d4	f013 0f02	 tst         r3,#2
  000d8	d004		 beq         |$LN30@ActivityTi|
  000da	494c		 ldr         r1,|$LN58@ActivityTi| ; =|??_C@_1CI@MAPGODIM@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  000dc	484f		 ldr         r0,|$LN62@ActivityTi| ; =|??_C@_1HC@EKMABGEG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAf?$AAo?$AAr?$AAm?$AAa?$AAt?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAf@|
  000de	462a		 mov         r2,r5
  000e0	f000 f800	 bl          CeLogMsg
  000e4		 |$LN30@ActivityTi|

; 1573 :             fOk = FALSE;

  000e4	2600		 movs        r6,#0

; 1574 :         } else {

  000e6	e02f		 b           |$LN48@ActivityTi|
  000e8		 |$LN14@ActivityTi|

; 1552 :         } else {
; 1553 :             szPath[_countof(szPath)-1] = 0;

  000e8	2300		 movs        r3,#0
  000ea	f8ad 320e	 strh        r3,[sp,#0x20E]

; 1554 :             pat->hevReset = CreateEvent(NULL, FALSE, FALSE, szPath);

  000ee	ab02		 add         r3,sp,#8
  000f0	2200		 movs        r2,#0
  000f2	2100		 movs        r1,#0
  000f4	2000		 movs        r0,#0
  000f6	f000 f800	 bl          CreateEventW

; 1555 :         }
; 1556 : 
; 1557 :         // create the event indicating activity
; 1558 :         if(fOk &&
; 1559 :             StringCchPrintf(szPath, _countof(szPath), _T("PowerManager/%s_Active"), pszName) != S_OK) {

  000fa	4a49		 ldr         r2,|$LN63@ActivityTi| ; =|??_C@_1CO@NKBHAHHA@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?1?$AA?$CF?$AAs?$AA_?$AAA?$AAc?$AAt?$AAi?$AAv?$AAe?$AA?$AA@|
  000fc	60e0		 str         r0,[r4,#0xC]
  000fe	a802		 add         r0,sp,#8
  00100	462b		 mov         r3,r5
  00102	f44f 7182	 mov         r1,#0x104
  00106	f000 f800	 bl          StringCchPrintfW
  0010a	2800		 cmp         r0,#0
  0010c	d0cd		 beq         |$LN12@ActivityTi|

; 1560 :             PMLOGMSG(ZONE_WARN, (_T("%s: couldn't format event name for activity timer '%s'\r\n"),
; 1561 :                 pszFname, pszName));

  0010e	f8d7 3440	 ldr         r3,[r7,#0x440]
  00112	f013 0f02	 tst         r3,#2
  00116	d004		 beq         |$LN26@ActivityTi|
  00118	4840		 ldr         r0,|$LN62@ActivityTi| ; =|??_C@_1HC@EKMABGEG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAf?$AAo?$AAr?$AAm?$AAa?$AAt?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAf@|
  0011a	493c		 ldr         r1,|$LN58@ActivityTi| ; =|??_C@_1CI@MAPGODIM@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  0011c	462a		 mov         r2,r5
  0011e	f000 f800	 bl          CeLogMsg
  00122		 |$LN26@ActivityTi|

; 1562 :             fOk = FALSE;

  00122	2600		 movs        r6,#0
  00124		 |$LN10@ActivityTi|

; 1575 :             szPath[_countof(szPath)-1] = 0;

  00124	2300		 movs        r3,#0
  00126	f8ad 320e	 strh        r3,[sp,#0x20E]

; 1576 :             pat->hevInactive = CreateEvent(NULL, TRUE, FALSE, szPath);

  0012a	ab02		 add         r3,sp,#8
  0012c	2200		 movs        r2,#0
  0012e	2101		 movs        r1,#1
  00130	2000		 movs        r0,#0
  00132	f000 f800	 bl          CreateEventW
  00136	6160		 str         r0,[r4,#0x14]

; 1577 :         }
; 1578 : 
; 1579 :         if (fOk ) {

  00138	b136		 cbz         r6,|$LN48@ActivityTi|

; 1580 :             pat->hevAutoReset = CreateEvent(NULL, FALSE, FALSE, NULL);

  0013a	2300		 movs        r3,#0
  0013c	2200		 movs        r2,#0
  0013e	2100		 movs        r1,#0
  00140	2000		 movs        r0,#0
  00142	f000 f800	 bl          CreateEventW
  00146	6260		 str         r0,[r4,#0x24]
  00148		 |$LN48@ActivityTi|

; 1581 :         }
; 1582 :         // did we get everything we needed?
; 1583 :         if(pat->hevReset == NULL || pat->hevActive == NULL || pat->hevInactive == NULL || pat->hevAutoReset == NULL) {

  00148	68e3		 ldr         r3,[r4,#0xC]
  0014a	b3e3		 cbz         r3,|$LN6@ActivityTi|
  0014c	6923		 ldr         r3,[r4,#0x10]
  0014e	b3d3		 cbz         r3,|$LN6@ActivityTi|
  00150	6963		 ldr         r3,[r4,#0x14]
  00152	b3c3		 cbz         r3,|$LN6@ActivityTi|
  00154	6a63		 ldr         r3,[r4,#0x24]
  00156	b3b3		 cbz         r3,|$LN6@ActivityTi|

; 1586 :             fOk = FALSE;
; 1587 :         } else {
; 1588 :             DWORD dwIndex;
; 1589 : 
; 1590 :             // init activity name
; 1591 :             VERIFY(SUCCEEDED(StringCchCopy(pat->pszName, _tcslen(pszName) + 1, pszName)));

  00158	4628		 mov         r0,r5
  0015a	f000 f800	 bl          wcslen
  0015e	1c41		 adds        r1,r0,#1
  00160	6820		 ldr         r0,[r4]
  00162	462a		 mov         r2,r5
  00164	f000 f800	 bl          StringCchCopyW

; 1592 : 
; 1593 :             // init wake sources
; 1594 :             dwIndex = 0;

  00168	f04f 0900	 mov         r9,#0
  0016c	e023		 b           |$LN51@ActivityTi|
  0016e		 |$LL4@ActivityTi|

; 1595 :             pszSource = pszSources;
; 1596 :             while(fOk && *pszSource != 0 && dwIndex < dwWakeSources) {

  0016e	f8b8 3000	 ldrh        r3,[r8]
  00172	b313		 cbz         r3,|$LN49@ActivityTi|
  00174	45d1		 cmp         r9,r10
  00176	d220		 bcs         |$LN49@ActivityTi|

; 1597 :                 LPTSTR pszEnd;
; 1598 :                 pat->pdwWakeSources[dwIndex] = _tcstol(pszSource, &pszEnd, 0);

  00178	2200		 movs        r2,#0
  0017a	4669		 mov         r1,sp
  0017c	4640		 mov         r0,r8
  0017e	f000 f800	 bl          wcstol
  00182	69a3		 ldr         r3,[r4,#0x18]
  00184	f843 0029	 str         r0,[r3,r9,lsl #2]

; 1599 :                 if(*pszEnd != 0) {

  00188	9b00		 ldr         r3,[sp]
  0018a	881b		 ldrh        r3,[r3]
  0018c	b15b		 cbz         r3,|$LN2@ActivityTi|

; 1600 :                     PMLOGMSG(ZONE_WARN, 
; 1601 :                         (_T("%s: can't parse wake source '%s' for timer '%s'\r\n"),
; 1602 :                         pszFname, pszSource, pszName));

  0018e	f8d7 3440	 ldr         r3,[r7,#0x440]
  00192	f013 0f02	 tst         r3,#2
  00196	d005		 beq         |$LN36@ActivityTi|
  00198	491c		 ldr         r1,|$LN58@ActivityTi| ; =|??_C@_1CI@MAPGODIM@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  0019a	481f		 ldr         r0,|$LN61@ActivityTi| ; =|??_C@_1GE@CFEGDMOD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AAw?$AAa?$AAk?$AAe?$AA?5?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8@|
  0019c	462b		 mov         r3,r5
  0019e	4642		 mov         r2,r8
  001a0	f000 f800	 bl          CeLogMsg
  001a4		 |$LN36@ActivityTi|

; 1603 :                     fOk = FALSE;

  001a4	2600		 movs        r6,#0
  001a6		 |$LN2@ActivityTi|

; 1604 :                 }
; 1605 :                 pszSource += _tcslen(pszSource) + 1;

  001a6	4640		 mov         r0,r8
  001a8	f000 f800	 bl          wcslen
  001ac	1c43		 adds        r3,r0,#1
  001ae	eb08 0843	 add         r8,r8,r3,lsl #1

; 1606 :                 dwIndex++;

  001b2	f109 0901	 add         r9,r9,#1
  001b6		 |$LN51@ActivityTi|

; 1595 :             pszSource = pszSources;
; 1596 :             while(fOk && *pszSource != 0 && dwIndex < dwWakeSources) {

  001b6	2e00		 cmp         r6,#0
  001b8	d1d9		 bne         |$LL4@ActivityTi|
  001ba		 |$LN49@ActivityTi|

; 1607 :             }
; 1608 : 
; 1609 :             // terminate the list with SYSINTR_NOP
; 1610 :             pat->pdwWakeSources[dwIndex] = SYSINTR_NOP;

  001ba	69a3		 ldr         r3,[r4,#0x18]
  001bc	2200		 movs        r2,#0

; 1611 :         }
; 1612 :     }
; 1613 : 
; 1614 : 
; 1615 :     // clean up if necessary
; 1616 :     if(!fOk && pat != NULL) {

  001be	f843 2029	 str         r2,[r3,r9,lsl #2]
  001c2	b976		 cbnz        r6,|$LN1@ActivityTi|
  001c4	e009		 b           |$LN47@ActivityTi|
  001c6		 |$LN6@ActivityTi|

; 1571 :             PMLOGMSG(ZONE_WARN, (_T("%s: couldn't format event name for activity timer '%s'\r\n"),
; 1572 :                 pszFname, pszName));

  001c6	f8d7 3440	 ldr         r3,[r7,#0x440]

; 1584 :             PMLOGMSG(ZONE_WARN, (_T("%s: resource allocation failed for '%s'\r\n"), 
; 1585 :                 pszFname, pszName));

  001ca	f013 0f02	 tst         r3,#2
  001ce	d004		 beq         |$LN47@ActivityTi|
  001d0	4810		 ldr         r0,|$LN60@ActivityTi| ; =|??_C@_1FE@LNHDKALC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAf@|
  001d2	490e		 ldr         r1,|$LN58@ActivityTi| ; =|??_C@_1CI@MAPGODIM@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  001d4	462a		 mov         r2,r5
  001d6	f000 f800	 bl          CeLogMsg
  001da		 |$LN47@ActivityTi|

; 1617 :         VERIFY(ActivityTimerDestroy(pat));

  001da	4620		 mov         r0,r4
  001dc	f000 f800	 bl          ActivityTimerDestroy

; 1618 :         pat = NULL;

  001e0	2400		 movs        r4,#0
  001e2		 |$LN1@ActivityTi|

; 1619 :     }
; 1620 : 
; 1621 :     PMLOGMSG(ZONE_INIT || (pat == NULL && ZONE_WARN), 
; 1622 :         (_T("%s: ActivityTimerCreate('%s') returning 0x%08x\r\n"), pszFname, pszName));

  001e2	f8d7 3440	 ldr         r3,[r7,#0x440]
  001e6	f013 0f04	 tst         r3,#4
  001ea	d103		 bne         |$LN39@ActivityTi|
  001ec	b93c		 cbnz        r4,|$LN40@ActivityTi|
  001ee	f013 0f02	 tst         r3,#2
  001f2	d004		 beq         |$LN40@ActivityTi|
  001f4		 |$LN39@ActivityTi|
  001f4	4806		 ldr         r0,|$LN59@ActivityTi| ; =|??_C@_1GC@IBIDOKJC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAr?$AAe@|
  001f6	4905		 ldr         r1,|$LN58@ActivityTi| ; =|??_C@_1CI@MAPGODIM@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  001f8	462a		 mov         r2,r5
  001fa	f000 f800	 bl          CeLogMsg
  001fe		 |$LN40@ActivityTi|

; 1623 :     return pat;
; 1624 : }

  001fe	4620		 mov         r0,r4
  00200		 |$M56|
  00200	f20d 2d10	 addw        sp,sp,#0x210
  00204	f000 f800	 bl          __security_pop_cookie
  00208	e8bd 8ff0	 pop         {r4-r11,pc}
  0020c		 |$LN57@ActivityTi|
  0020c		 |$LN58@ActivityTi|
  0020c	0000 0000	 DCD         |??_C@_1CI@MAPGODIM@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  00210		 |$LN59@ActivityTi|
  00210	0000 0000	 DCD         |??_C@_1GC@IBIDOKJC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAr?$AAe@|
  00214		 |$LN60@ActivityTi|
  00214	0000 0000	 DCD         |??_C@_1FE@LNHDKALC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAf@|
  00218		 |$LN61@ActivityTi|
  00218	0000 0000	 DCD         |??_C@_1GE@CFEGDMOD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AAw?$AAa?$AAk?$AAe?$AA?5?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8@|
  0021c		 |$LN62@ActivityTi|
  0021c	0000 0000	 DCD         |??_C@_1HC@EKMABGEG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAf?$AAo?$AAr?$AAm?$AAa?$AAt?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAf@|
  00220		 |$LN63@ActivityTi|
  00220	0000 0000	 DCD         |??_C@_1CO@NKBHAHHA@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?1?$AA?$CF?$AAs?$AA_?$AAA?$AAc?$AAt?$AAi?$AAv?$AAe?$AA?$AA@|
  00224		 |$LN64@ActivityTi|
  00224	0000 0000	 DCD         |??_C@_1DC@JJBBHDOP@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?1?$AA?$CF?$AAs?$AA_?$AAI?$AAn?$AAa?$AAc?$AAt?$AAi?$AAv?$AAe?$AA?$AA@|
  00228		 |$LN65@ActivityTi|
  00228	0000 0000	 DCD         |??_C@_1DM@PMPBMFMH@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?1?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AA?1?$AA?$CF?$AAs?$AA?$AA@|
  0022c		 |$LN66@ActivityTi|
  0022c	0000 0000	 DCD         |dpCurSettings|
  00230		 |$M54|

			 ENDP  ; |ActivityTimerCreate|

	EXPORT	|PowerNotificationRemList|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$PowerNotificationRemList| DCD imagerel |$LN25@PowerNotif|
	DCD	0xfd3260c9
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |PowerNotificationRemList| PROC

; 1271 : {

  00000		 |$LN25@PowerNotif|
  00000	e92d 4878	 push        {r3-r6,r11,lr}
  00004	f20d 0b10	 addw        r11,sp,#0x10
  00008		 |$M23|
  00008	4606		 mov         r6,r0

; 93   :     EnterCriticalSection(&gcsPowerManager);

  0000a	4816		 ldr         r0,|$LN28@PowerNotif| ; =|gcsPowerManager|

; 1271 : {

  0000c	460c		 mov         r4,r1

; 1272 :     BOOL fOk = TRUE;

  0000e	2501		 movs        r5,#1

; 93   :     EnterCriticalSection(&gcsPowerManager);

  00010	f000 f800	 bl          EnterCriticalSection

; 1273 : 
; 1274 :     PREFAST_DEBUGCHK(ppListHead != NULL);
; 1275 : 
; 1276 :     PMLOCK();
; 1277 :     // We have to check that ppn is in the ppListHead before we can delete it.
; 1278 :     PPOWER_NOTIFICATION pCurNotification = *ppListHead;

  00014	6833		 ldr         r3,[r6]

; 1279 :     
; 1280 :     while (pCurNotification) {

  00016	b1f3		 cbz         r3,|$LN8@PowerNotif|
  00018		 |$LL12@PowerNotif|

; 1281 :         if (pCurNotification == ppn)

  00018	42a3		 cmp         r3,r4
  0001a	d002		 beq         |$LN20@PowerNotif|

; 1282 :             break;
; 1283 :         else
; 1284 :             pCurNotification = pCurNotification->pNext ;

  0001c	68db		 ldr         r3,[r3,#0xC]
  0001e	2b00		 cmp         r3,#0
  00020	d1fa		 bne         |$LL12@PowerNotif|
  00022		 |$LN20@PowerNotif|

; 1285 :     };
; 1286 :     if (pCurNotification) {

  00022	b1c3		 cbz         r3,|$LN8@PowerNotif|

; 1287 :         
; 1288 :         // are we at the head of the list?
; 1289 :         if(ppn->pPrev != NULL) {

  00024	6922		 ldr         r2,[r4,#0x10]
  00026	2100		 movs        r1,#0
  00028	b112		 cbz         r2,|$LN7@PowerNotif|

; 1290 :             ppn->pPrev->pNext = ppn->pNext;

  0002a	68e3		 ldr         r3,[r4,#0xC]
  0002c	60d3		 str         r3,[r2,#0xC]

; 1291 :         } else {

  0002e	e004		 b           |$LN6@PowerNotif|
  00030		 |$LN7@PowerNotif|

; 1292 :             // not that if pNext == NULL && pPrev == NULL we are the only list
; 1293 :             // member and the assignment to the list head will set it to NULL (meaning
; 1294 :             // empty).
; 1295 :             if(ppn->pNext != NULL) {

  00030	68e3		 ldr         r3,[r4,#0xC]
  00032	b103		 cbz         r3,|$LN5@PowerNotif|

; 1296 :                 ppn->pNext->pPrev = NULL;

  00034	6119		 str         r1,[r3,#0x10]
  00036		 |$LN5@PowerNotif|

; 1297 :             }
; 1298 :             *ppListHead = ppn->pNext;

  00036	68e3		 ldr         r3,[r4,#0xC]
  00038	6033		 str         r3,[r6]
  0003a		 |$LN6@PowerNotif|

; 1299 :         }
; 1300 :         
; 1301 :         // are we at the tail of the list?
; 1302 :         if(ppn->pNext != NULL) {

  0003a	68e2		 ldr         r2,[r4,#0xC]
  0003c	b112		 cbz         r2,|$LN4@PowerNotif|

; 1303 :             ppn->pNext->pPrev = ppn->pPrev;

  0003e	6923		 ldr         r3,[r4,#0x10]
  00040	6113		 str         r3,[r2,#0x10]

; 1304 :         } else {

  00042	e002		 b           |$LN2@PowerNotif|
  00044		 |$LN4@PowerNotif|

; 1305 :             if(ppn->pPrev != NULL) {

  00044	6923		 ldr         r3,[r4,#0x10]
  00046	b103		 cbz         r3,|$LN2@PowerNotif|

; 1306 :                 ppn->pPrev->pNext = NULL;

  00048	60d9		 str         r1,[r3,#0xC]
  0004a		 |$LN2@PowerNotif|

; 1307 :             }
; 1308 :         }
; 1309 : 
; 1310 :         // clear list pointers
; 1311 :         ppn->pNext = NULL;
; 1312 :         ppn->pPrev = NULL;
; 1313 : 
; 1314 :         // delete the structure and its members
; 1315 :         PowerNotificationDestroy(ppn);

  0004a	4620		 mov         r0,r4
  0004c	60e1		 str         r1,[r4,#0xC]
  0004e	6121		 str         r1,[r4,#0x10]
  00050	f000 f800	 bl          PowerNotificationDestroy

; 1316 :     }
; 1317 :     else

  00054	e000		 b           |$LN1@PowerNotif|
  00056		 |$LN8@PowerNotif|

; 1318 :         fOk = FALSE ;

  00056	2500		 movs        r5,#0
  00058		 |$LN1@PowerNotif|

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  00058	4802		 ldr         r0,|$LN28@PowerNotif| ; =|gcsPowerManager|
  0005a	f000 f800	 bl          LeaveCriticalSection

; 1319 :     
; 1320 :     PMUNLOCK();
; 1321 : 
; 1322 :     return fOk;
; 1323 : }

  0005e	4628		 mov         r0,r5
  00060		 |$M26|
  00060	e8bd 8878	 pop         {r3-r6,r11,pc}
  00064		 |$LN27@PowerNotif|
  00064		 |$LN28@PowerNotif|
  00064	0000 0000	 DCD         |gcsPowerManager|
  00068		 |$M24|

			 ENDP  ; |PowerNotificationRemList|

	EXPORT	|??_C@_1CE@DCEBDKPO@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAD?$AAe?$AAc?$AAR?$AAe?$AAf?$AA?$AA@| [ DATA ] ; `string'

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceStateDecRef| DCD imagerel |$LN14@DeviceStat|
	DCD	0x31608d

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CE@DCEBDKPO@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAD?$AAe?$AAc?$AAR?$AAe?$AAf?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "S"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "D", 0x0, "e"
	DCB	0x0, "c", 0x0, "R", 0x0, "e", 0x0, "f", 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |DeviceStateDecRef| PROC

; 800  : {

  00000		 |$LN14@DeviceStat|
  00000	e92d 4830	 push        {r4,r5,r11,lr}
  00004	f20d 0b08	 addw        r11,sp,#8
  00008		 |$M12|
  00008	4604		 mov         r4,r0

; 93   :     EnterCriticalSection(&gcsPowerManager);

  0000a	480f		 ldr         r0,|$LN17@DeviceStat| ; =|gcsPowerManager|

; 801  :     BOOL fDestroy = FALSE;

  0000c	2500		 movs        r5,#0

; 93   :     EnterCriticalSection(&gcsPowerManager);

  0000e	f000 f800	 bl          EnterCriticalSection

; 802  :     SETFNAME(_T("DeviceStateDecRef"));
; 803  : 
; 804  :     PREFAST_DEBUGCHK(pds != NULL);
; 805  : 
; 806  :     PMLOCK();
; 807  :     DEBUGCHK(pds->dwRefCount > 0);
; 808  :     pds->dwRefCount--;

  00012	6da3		 ldr         r3,[r4,#0x58]

; 809  :     PMLOGMSG(ZONE_REFCNT, (_T("%s: refcnt for 0x%08x set to %d\r\n"), pszFname,
; 810  :         pds, pds->dwRefCount));

  00014	4a0f		 ldr         r2,|$LN20@DeviceStat| ; =|dpCurSettings|
  00016	3b01		 subs        r3,#1
  00018	65a3		 str         r3,[r4,#0x58]
  0001a	f8d2 2440	 ldr         r2,[r2,#0x440]
  0001e	f012 0f40	 tst         r2,#0x40
  00022	d004		 beq         |$LN5@DeviceStat|
  00024	490a		 ldr         r1,|$LN19@DeviceStat| ; =|??_C@_1CE@DCEBDKPO@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAD?$AAe?$AAc?$AAR?$AAe?$AAf?$AA?$AA@|
  00026	4809		 ldr         r0,|$LN18@DeviceStat| ; =|??_C@_1EE@LALFIHHK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAf?$AAc?$AAn?$AAt?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAd?$AA?$AN@|
  00028	4622		 mov         r2,r4
  0002a	f000 f800	 bl          CeLogMsg
  0002e		 |$LN5@DeviceStat|

; 811  :     if(pds->dwRefCount == 0) {

  0002e	6da3		 ldr         r3,[r4,#0x58]
  00030	b903		 cbnz        r3,|$LN2@DeviceStat|

; 812  :         DEBUGCHK(pds->pListHead == NULL && pds->pNext == NULL && pds->pPrev == NULL);
; 813  :         fDestroy = TRUE;

  00032	2501		 movs        r5,#1
  00034		 |$LN2@DeviceStat|

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  00034	4804		 ldr         r0,|$LN17@DeviceStat| ; =|gcsPowerManager|
  00036	f000 f800	 bl          LeaveCriticalSection

; 814  :     }
; 815  :     PMUNLOCK();
; 816  : 
; 817  :     // is it time to get rid of the device?
; 818  :     if(fDestroy) {

  0003a	b115		 cbz         r5,|$LN1@DeviceStat|

; 819  :         DeviceStateDestroy(pds);

  0003c	4620		 mov         r0,r4
  0003e	f000 f800	 bl          DeviceStateDestroy
  00042		 |$LN1@DeviceStat|
  00042		 |$M15|

; 820  :     }
; 821  : }

  00042	e8bd 8830	 pop         {r4,r5,r11,pc}
  00046		 |$LN21@DeviceStat|
  00046		 |$M22|
  00046	defe		 __debugbreak
  00048		 |$LN16@DeviceStat|
  00048		 |$LN17@DeviceStat|
  00048	0000 0000	 DCD         |gcsPowerManager|
  0004c		 |$LN18@DeviceStat|
  0004c	0000 0000	 DCD         |??_C@_1EE@LALFIHHK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAf?$AAc?$AAn?$AAt?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAd?$AA?$AN@|
  00050		 |$LN19@DeviceStat|
  00050	0000 0000	 DCD         |??_C@_1CE@DCEBDKPO@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAD?$AAe?$AAc?$AAR?$AAe?$AAf?$AA?$AA@|
  00054		 |$LN20@DeviceStat|
  00054	0000 0000	 DCD         |dpCurSettings|
  00058		 |$M13|

			 ENDP  ; |DeviceStateDecRef|

	EXPORT	|??_C@_1DE@OOEKDBLE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CI@CGAEIIBO@?$AAC?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AAT?$AAo?$AAG?$AAu?$AAi?$AAd?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DC@FIBMBACO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAg?$AAu?$AAi?$AAd?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|ConvertStringToGuid|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$ConvertStringToGuid| DCD imagerel |$LN28@ConvertStr|
	DCD	imagerel |$unwind2$ConvertStringToGuid|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$ConvertStringToGuid| DCD 0x2010002f
	DCD	0x9ca8fcc7
	DCD	0xff
	DCD	imagerel |__C_specific_handler|
	DCD	0x1
	DCD	imagerel |$LN14@ConvertStr|
	DCD	imagerel |$LN15@ConvertStr|
	DCD	0x1
	DCD	imagerel |$LN11@ConvertStr|

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DC@FIBMBACO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAg?$AAu?$AAi?$AAd?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "r", 0x0, "r"
	DCB	0x0, "o", 0x0, "r", 0x0, " ", 0x0, "p", 0x0, "a", 0x0, "r"
	DCB	0x0, "s", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "g"
	DCB	0x0, "u", 0x0, "i", 0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CI@CGAEIIBO@?$AAC?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AAT?$AAo?$AAG?$AAu?$AAi?$AAd?$AA?$AA@| DCB "C"
	DCB	0x0, "o", 0x0, "n", 0x0, "v", 0x0, "e", 0x0, "r", 0x0, "t"
	DCB	0x0, "S", 0x0, "t", 0x0, "r", 0x0, "i", 0x0, "n", 0x0, "g"
	DCB	0x0, "T", 0x0, "o", 0x0, "G", 0x0, "u", 0x0, "i", 0x0, "d"
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DE@OOEKDBLE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "c", 0x0, "o", 0x0, "u"
	DCB	0x0, "l", 0x0, "d", 0x0, "n", 0x0, "'", 0x0, "t", 0x0, " "
	DCB	0x0, "p", 0x0, "a", 0x0, "r", 0x0, "s", 0x0, "e", 0x0, " "
	DCB	0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |ConvertStringToGuid| PROC

; 315  : {

  00000		 |$LN28@ConvertStr|
  00000	e92d 489c	 push        {r2-r4,r7,r11,lr}
  00004	f20d 0b10	 addw        r11,sp,#0x10
  00008	466f		 mov         r7,sp
  0000a		 |$LN26@ConvertStr|
  0000a	4604		 mov         r4,r0

; 316  :     BOOL fOk = FALSE;

  0000c	2300		 movs        r3,#0
  0000e	603b		 str         r3,[r7]
  00010		 |$LN14@ConvertStr|

; 298  :     if (*lpsz++ != '{' )

  00010	8823		 ldrh        r3,[r4]
  00012	2b7b		 cmp         r3,#0x7B
  00014	d108		 bne         |$LN24@ConvertStr|

; 299  :         return FALSE;
; 300  :     
; 301  :     if(wUUIDFromString(lpsz, pguid) != TRUE)

  00016	1ca0		 adds        r0,r4,#2
  00018	f000 f800	 bl          |?wUUIDFromString@@YAHPBGPAU_GUID@@@Z|
  0001c	2801		 cmp         r0,#1
  0001e	d103		 bne         |$LN24@ConvertStr|

; 302  :         return FALSE;
; 303  :     
; 304  :     lpsz +=36;
; 305  :     
; 306  :     if (*lpsz++ != '}' )

  00020	f8b4 304a	 ldrh        r3,[r4,#0x4A]
  00024	2b7d		 cmp         r3,#0x7D
  00026	d00a		 beq         |$LN5@ConvertStr|
  00028		 |$LN24@ConvertStr|

; 317  :     SETFNAME(_T("ConvertStringToGuid"));
; 318  : 
; 319  :     DEBUGCHK(pGuid != NULL && pszGuid != NULL);
; 320  :     __try {
; 321  :         if (! GUIDFromString(pszGuid, pGuid)) {
; 322  :             PMLOGMSG(ZONE_WARN, (_T("%s: couldn't parse '%s'\r\n"), pszFname,
; 323  :                 pszGuid));

  00028	4b0f		 ldr         r3,|$LN34@ConvertStr| ; =|dpCurSettings|
  0002a	f8d3 3440	 ldr         r3,[r3,#0x440]
  0002e	f013 0f02	 tst         r3,#2
  00032	d004		 beq         |$LN5@ConvertStr|
  00034	490b		 ldr         r1,|$LN33@ConvertStr| ; =|??_C@_1CI@CGAEIIBO@?$AAC?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AAT?$AAo?$AAG?$AAu?$AAi?$AAd?$AA?$AA@|
  00036	480d		 ldr         r0,|$LN35@ConvertStr| ; =|??_C@_1DE@OOEKDBLE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@|
  00038	4622		 mov         r2,r4
  0003a	f000 f800	 bl          CeLogMsg
  0003e		 |$LN5@ConvertStr|

; 324  :         }
; 325  :         fOk = TRUE;

  0003e	2001		 movs        r0,#1
  00040	6038		 str         r0,[r7]
  00042		 |$LN15@ConvertStr|

; 326  :     }

  00042	e00a		 b           |$LN3@ConvertStr|
  00044		 |$LN11@ConvertStr|
  00044		 |$LN13@ConvertStr|

; 327  :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 328  :         PMLOGMSG(ZONE_WARN, (_T("%s: error parsing guid\r\n"), pszFname));

  00044	4b08		 ldr         r3,|$LN34@ConvertStr| ; =|dpCurSettings|
  00046	f8d3 3440	 ldr         r3,[r3,#0x440]
  0004a	f013 0f02	 tst         r3,#2
  0004e	d003		 beq         |$LN7@ConvertStr|
  00050	4904		 ldr         r1,|$LN33@ConvertStr| ; =|??_C@_1CI@CGAEIIBO@?$AAC?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AAT?$AAo?$AAG?$AAu?$AAi?$AAd?$AA?$AA@|
  00052	4803		 ldr         r0,|$LN32@ConvertStr| ; =|??_C@_1DC@FIBMBACO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAg?$AAu?$AAi?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  00054	f000 f800	 bl          CeLogMsg
  00058		 |$LN7@ConvertStr|
  00058	6838		 ldr         r0,[r7]
  0005a		 |$LN3@ConvertStr|
  0005a		 |$M30|

; 329  :     }
; 330  : 
; 331  :     return fOk;
; 332  : }

  0005a	e8bd 889c	 pop         {r2-r4,r7,r11,pc}
  0005e		 |$LN36@ConvertStr|
  0005e		 |$M37|
  0005e	defe		 __debugbreak
  00060		 |$LN31@ConvertStr|
  00060		 |$LN32@ConvertStr|
  00060	0000 0000	 DCD         |??_C@_1DC@FIBMBACO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAg?$AAu?$AAi?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  00064		 |$LN33@ConvertStr|
  00064	0000 0000	 DCD         |??_C@_1CI@CGAEIIBO@?$AAC?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AAT?$AAo?$AAG?$AAu?$AAi?$AAd?$AA?$AA@|
  00068		 |$LN34@ConvertStr|
  00068	0000 0000	 DCD         |dpCurSettings|
  0006c		 |$LN35@ConvertStr|
  0006c	0000 0000	 DCD         |??_C@_1DE@OOEKDBLE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@|

			 ENDP  ; |ConvertStringToGuid|

  00070		 |$LN27@ConvertStr|
	EXPORT	|??_C@_1DC@DKENJKMJ@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAR?$AAe?$AAs?$AAt?$AAr?$AAi?$AAc?$AAt?$AAi?$AAo?$AAn?$AAF?$AAi?$AAn?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EK@KNCJBHEM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAw?$AAh?$AAi?$AAl?$AAe?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi@| [ DATA ] ; `string'
	EXPORT	|PowerRestrictionFindList|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$PowerRestrictionFindList| DCD imagerel |$LN33@PowerRestr|
	DCD	imagerel |$unwind2$PowerRestrictionFindList|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$PowerRestrictionFindList| DCD 0x20100033
	DCD	0xfca8fcc7
	DCD	0xff
	DCD	imagerel |__C_specific_handler|
	DCD	0x1
	DCD	imagerel |$LN17@PowerRestr|
	DCD	imagerel |$LN18@PowerRestr|
	DCD	0x1
	DCD	imagerel |$LN14@PowerRestr|

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EK@KNCJBHEM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAw?$AAh?$AAi?$AAl?$AAe?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "x", 0x0, "c"
	DCB	0x0, "e", 0x0, "p", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, " ", 0x0, "w", 0x0, "h", 0x0, "i", 0x0, "l", 0x0, "e"
	DCB	0x0, " ", 0x0, "s", 0x0, "e", 0x0, "a", 0x0, "r", 0x0, "c"
	DCB	0x0, "h", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "l"
	DCB	0x0, "i", 0x0, "s", 0x0, "t", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DC@DKENJKMJ@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAR?$AAe?$AAs?$AAt?$AAr?$AAi?$AAc?$AAt?$AAi?$AAo?$AAn?$AAF?$AAi?$AAn?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@| DCB "P"
	DCB	0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "R", 0x0, "e"
	DCB	0x0, "s", 0x0, "t", 0x0, "r", 0x0, "i", 0x0, "c", 0x0, "t"
	DCB	0x0, "i", 0x0, "o", 0x0, "n", 0x0, "F", 0x0, "i", 0x0, "n"
	DCB	0x0, "d", 0x0, "L", 0x0, "i", 0x0, "s", 0x0, "t", 0x0, 0x0
	DCB	0x0					; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |PowerRestrictionFindList| PROC

; 1126 : {

  00000		 |$LN33@PowerRestr|
  00000	e92d 48fc	 push        {r2-r7,r11,lr}
  00004	f20d 0b18	 addw        r11,sp,#0x18
  00008	466f		 mov         r7,sp
  0000a		 |$LN31@PowerRestr|
  0000a	4615		 mov         r5,r2
  0000c	460e		 mov         r6,r1
  0000e	4604		 mov         r4,r0

; 1127 :     PDEVICE_POWER_RESTRICTION pdpr;
; 1128 :     SETFNAME(_T("PowerRestrictionFindList"));

  00010	4b18		 ldr         r3,|$LN40@PowerRestr| ; =|??_C@_1DC@DKENJKMJ@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAR?$AAe?$AAs?$AAt?$AAr?$AAi?$AAc?$AAt?$AAi?$AAo?$AAn?$AAF?$AAi?$AAn?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@|
  00012	607b		 str         r3,[r7,#4]

; 93   :     EnterCriticalSection(&gcsPowerManager);

  00014	4814		 ldr         r0,|$LN37@PowerRestr| ; =|gcsPowerManager|
  00016	f000 f800	 bl          EnterCriticalSection
  0001a		 |$LN17@PowerRestr|

; 1129 : 
; 1130 :     PMLOCK();
; 1131 : 
; 1132 :     __try {
; 1133 :         // look for a match
; 1134 :         for(pdpr = pList; pdpr != NULL; pdpr = pdpr->pNext) {

  0001a	603c		 str         r4,[r7]
  0001c	b184		 cbz         r4,|$LN18@PowerRestr|

; 1135 :             if(DeviceIdsAreEqual(pdpr->pDeviceId, pDeviceId)
; 1136 :                 && (pszSystemState == NULL && pdpr->pszSystemState == NULL
; 1137 :                 || (pszSystemState != NULL && pdpr->pszSystemState != NULL 
; 1138 :                     && _tcscmp(pszSystemState, pdpr->pszSystemState) == 0))) {

  0001e	6820		 ldr         r0,[r4]
  00020	4631		 mov         r1,r6
  00022	f000 f800	 bl          |?DeviceIdsAreEqual@@YAHPAU_DeviceId_tag@@0@Z|
  00026	b148		 cbz         r0,|$LN3@PowerRestr|
  00028	b915		 cbnz        r5,|$LN30@PowerRestr|
  0002a	68e3		 ldr         r3,[r4,#0xC]
  0002c	b143		 cbz         r3,|$LN18@PowerRestr|
  0002e	b12d		 cbz         r5,|$LN3@PowerRestr|
  00030		 |$LN30@PowerRestr|
  00030	68e1		 ldr         r1,[r4,#0xC]
  00032	b119		 cbz         r1,|$LN3@PowerRestr|
  00034	4628		 mov         r0,r5
  00036	f000 f800	 bl          wcscmp
  0003a	b108		 cbz         r0,|$LN18@PowerRestr|
  0003c		 |$LN3@PowerRestr|

; 1129 : 
; 1130 :     PMLOCK();
; 1131 : 
; 1132 :     __try {
; 1133 :         // look for a match
; 1134 :         for(pdpr = pList; pdpr != NULL; pdpr = pdpr->pNext) {

  0003c	6964		 ldr         r4,[r4,#0x14]
  0003e	e7ec		 b           |$LN17@PowerRestr|
  00040		 |$LN18@PowerRestr|

; 1139 :                 break;
; 1140 :             }
; 1141 :         }

  00040	e00b		 b           |$LN19@PowerRestr|
  00042		 |$LN14@PowerRestr|
  00042		 |$LN16@PowerRestr|

; 1142 :     }
; 1143 :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 1144 :         PMLOGMSG(ZONE_WARN, (_T("%s: exception while searching list\r\n"),
; 1145 :             pszFname));

  00042	4b0b		 ldr         r3,|$LN39@PowerRestr| ; =|dpCurSettings|
  00044	f8d3 3440	 ldr         r3,[r3,#0x440]
  00048	f013 0f02	 tst         r3,#2
  0004c	d003		 beq         |$LN10@PowerRestr|
  0004e	4807		 ldr         r0,|$LN38@PowerRestr| ; =|??_C@_1EK@KNCJBHEM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAw?$AAh?$AAi?$AAl?$AAe?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi@|
  00050	6879		 ldr         r1,[r7,#4]
  00052	f000 f800	 bl          CeLogMsg
  00056		 |$LN10@PowerRestr|

; 1146 :         pdpr = NULL;

  00056	2400		 movs        r4,#0
  00058	603c		 str         r4,[r7]
  0005a		 |$LN19@PowerRestr|

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  0005a	4803		 ldr         r0,|$LN37@PowerRestr| ; =|gcsPowerManager|
  0005c	f000 f800	 bl          LeaveCriticalSection

; 1147 :     }
; 1148 : 
; 1149 :     PMUNLOCK();
; 1150 : 
; 1151 :     return pdpr;
; 1152 : }

  00060	4620		 mov         r0,r4
  00062		 |$M35|
  00062	e8bd 88fc	 pop         {r2-r7,r11,pc}
  00066		 |$LN41@PowerRestr|
  00066		 |$M42|
  00066	defe		 __debugbreak
  00068		 |$LN36@PowerRestr|
  00068		 |$LN37@PowerRestr|
  00068	0000 0000	 DCD         |gcsPowerManager|
  0006c		 |$LN38@PowerRestr|
  0006c	0000 0000	 DCD         |??_C@_1EK@KNCJBHEM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAw?$AAh?$AAi?$AAl?$AAe?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi@|
  00070		 |$LN39@PowerRestr|
  00070	0000 0000	 DCD         |dpCurSettings|
  00074		 |$LN40@PowerRestr|
  00074	0000 0000	 DCD         |??_C@_1DC@DKENJKMJ@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAR?$AAe?$AAs?$AAt?$AAr?$AAi?$AAc?$AAt?$AAi?$AAo?$AAn?$AAF?$AAi?$AAn?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@|

			 ENDP  ; |PowerRestrictionFindList|

  00078		 |$LN32@PowerRestr|
	EXPORT	|??_C@_1FM@HONKCJKL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAm?$AAo?$AAv?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAf?$AAr?$AAo?$AAm?$AA?5@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CG@MJDKKDFD@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAR?$AAe?$AAm?$AAL?$AAi?$AAs?$AAt?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|DeviceStateRemList|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceStateRemList| DCD imagerel |$LN18@DeviceStat|
	DCD	0xfdb060d9

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CG@MJDKKDFD@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAR?$AAe?$AAm?$AAL?$AAi?$AAs?$AAt?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "S"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "R", 0x0, "e"
	DCB	0x0, "m", 0x0, "L", 0x0, "i", 0x0, "s", 0x0, "t", 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FM@HONKCJKL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAm?$AAo?$AAv?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAf?$AAr?$AAo?$AAm?$AA?5@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "r", 0x0, "e", 0x0, "m"
	DCB	0x0, "o", 0x0, "v", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " "
	DCB	0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x"
	DCB	0x0, " ", 0x0, "(", 0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'"
	DCB	0x0, ")", 0x0, " ", 0x0, "f", 0x0, "r", 0x0, "o", 0x0, "m"
	DCB	0x0, " ", 0x0, "l", 0x0, "i", 0x0, "s", 0x0, "t", 0x0, " "
	DCB	0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |DeviceStateRemList| PROC

; 865  : {

  00000		 |$LN18@DeviceStat|
  00000	e92d 481e	 push        {r1-r4,r11,lr}
  00004	f20d 0b10	 addw        r11,sp,#0x10
  00008		 |$M16|

; 866  :     BOOL fOk = TRUE;
; 867  :     SETFNAME(_T("DeviceStateRemList"));
; 868  :     PREFAST_DEBUGCHK(pds != NULL);
; 869  :     PREFAST_DEBUGCHK(pds->pListHead != NULL);
; 870  :     
; 871  :     PMLOGMSG(ZONE_REFCNT | ZONE_DEVICE, 
; 872  :         (_T("%s: removing 0x%08x ('%s') from list 0x%08x\r\n"),
; 873  :         pszFname, pds, pds->pszName, pds->pListHead));

  00008	4b1b		 ldr         r3,|$LN24@DeviceStat| ; =|dpCurSettings|
  0000a	4604		 mov         r4,r0
  0000c	f8d3 3440	 ldr         r3,[r3,#0x440]
  00010	f013 0f50	 tst         r3,#0x50
  00014	d007		 beq         |$LN9@DeviceStat|
  00016	6e63		 ldr         r3,[r4,#0x64]
  00018	4916		 ldr         r1,|$LN23@DeviceStat| ; =|??_C@_1CG@MJDKKDFD@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAR?$AAe?$AAm?$AAL?$AAi?$AAs?$AAt?$AA?$AA@|
  0001a	4815		 ldr         r0,|$LN22@DeviceStat| ; =|??_C@_1FM@HONKCJKL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAm?$AAo?$AAv?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAf?$AAr?$AAo?$AAm?$AA?5@|
  0001c	9300		 str         r3,[sp]
  0001e	6823		 ldr         r3,[r4]
  00020	4622		 mov         r2,r4
  00022	f000 f800	 bl          CeLogMsg
  00026		 |$LN9@DeviceStat|

; 93   :     EnterCriticalSection(&gcsPowerManager);

  00026	4811		 ldr         r0,|$LN21@DeviceStat| ; =|gcsPowerManager|
  00028	f000 f800	 bl          EnterCriticalSection

; 874  : 
; 875  :     PMLOCK();
; 876  : 
; 877  :     // are we at the head of the list?
; 878  :     if(pds->pPrev != NULL) {

  0002c	6ee2		 ldr         r2,[r4,#0x6C]
  0002e	2100		 movs        r1,#0
  00030	b112		 cbz         r2,|$LN6@DeviceStat|

; 879  :         pds->pPrev->pNext = pds->pNext;

  00032	6ea3		 ldr         r3,[r4,#0x68]
  00034	6693		 str         r3,[r2,#0x68]

; 880  :     } else {

  00036	e005		 b           |$LN5@DeviceStat|
  00038		 |$LN6@DeviceStat|

; 881  :         // not that if pNext == NULL && pPrev == NULL we are the only list
; 882  :         // member and the assignment to the list head will set it to NULL (meaning
; 883  :         // empty).
; 884  :         if(pds->pNext != NULL) {

  00038	6ea3		 ldr         r3,[r4,#0x68]
  0003a	b103		 cbz         r3,|$LN4@DeviceStat|

; 885  :             pds->pNext->pPrev = NULL;

  0003c	66d9		 str         r1,[r3,#0x6C]
  0003e		 |$LN4@DeviceStat|

; 886  :         }
; 887  :         pds->pListHead->pList = pds->pNext;

  0003e	6e62		 ldr         r2,[r4,#0x64]
  00040	6ea3		 ldr         r3,[r4,#0x68]
  00042	6053		 str         r3,[r2,#4]
  00044		 |$LN5@DeviceStat|

; 888  :     }
; 889  :     
; 890  :     // are we at the tail of the list?
; 891  :     if(pds->pNext != NULL) {

  00044	6ea2		 ldr         r2,[r4,#0x68]
  00046	b112		 cbz         r2,|$LN3@DeviceStat|

; 892  :         pds->pNext->pPrev = pds->pPrev;

  00048	6ee3		 ldr         r3,[r4,#0x6C]
  0004a	66d3		 str         r3,[r2,#0x6C]

; 893  :     } else {

  0004c	e002		 b           |$LN1@DeviceStat|
  0004e		 |$LN3@DeviceStat|

; 894  :         if(pds->pPrev != NULL) {

  0004e	6ee3		 ldr         r3,[r4,#0x6C]
  00050	b103		 cbz         r3,|$LN1@DeviceStat|

; 895  :             pds->pPrev->pNext = NULL;

  00052	6699		 str         r1,[r3,#0x68]
  00054		 |$LN1@DeviceStat|

; 896  :         }
; 897  :     }
; 898  : 
; 899  :     // clear list pointers
; 900  :     pds->pNext = NULL;
; 901  :     pds->pPrev = NULL;
; 902  :     pds->pListHead = NULL;
; 903  : 
; 904  :     // decrement the reference count
; 905  :     DeviceStateDecRef(pds);

  00054	4620		 mov         r0,r4
  00056	66a1		 str         r1,[r4,#0x68]
  00058	66e1		 str         r1,[r4,#0x6C]
  0005a	6661		 str         r1,[r4,#0x64]
  0005c	f000 f800	 bl          DeviceStateDecRef

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  00060	4802		 ldr         r0,|$LN21@DeviceStat| ; =|gcsPowerManager|
  00062	f000 f800	 bl          LeaveCriticalSection

; 906  :         
; 907  :     PMUNLOCK();
; 908  : 
; 909  :     return fOk;

  00066	2001		 movs        r0,#1
  00068		 |$M19|

; 910  : }

  00068	e8bd 881e	 pop         {r1-r4,r11,pc}
  0006c		 |$LN20@DeviceStat|
  0006c		 |$LN21@DeviceStat|
  0006c	0000 0000	 DCD         |gcsPowerManager|
  00070		 |$LN22@DeviceStat|
  00070	0000 0000	 DCD         |??_C@_1FM@HONKCJKL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAm?$AAo?$AAv?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAf?$AAr?$AAo?$AAm?$AA?5@|
  00074		 |$LN23@DeviceStat|
  00074	0000 0000	 DCD         |??_C@_1CG@MJDKKDFD@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAR?$AAe?$AAm?$AAL?$AAi?$AAs?$AAt?$AA?$AA@|
  00078		 |$LN24@DeviceStat|
  00078	0000 0000	 DCD         |dpCurSettings|
  0007c		 |$M17|

			 ENDP  ; |DeviceStateRemList|

	EXPORT	|??_C@_1DA@BOEDGMEE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAP?$AAa?$AAr?$AAs?$AAe?$AAN?$AAa?$AAm?$AAe?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1HG@NNHOCEOL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAo?$AAn?$AA?8?$AAt?$AA?5?$AAk?$AAn?$AAo?$AAw?$AA?5?$AAh?$AAo?$AAw?$AA?5?$AAt?$AAo?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AAn?$AAa?$AAm?$AAe@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EC@CJJOAPHD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AAT?$AAo?$AAG?$AAu?$AAi?$AAd?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$AN?$AA?6@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EO@PDOMGPAM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAM?$AAi?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AA?8?$AA?8?$AA?5?$AAa?$AAf?$AAt?$AAe?$AAr?$AA?5@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FC@IOIEGKDA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAM?$AAi?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAa?$AAf?$AAt?$AAe@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EG@IEOIOHJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAE?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAr?$AAe?$AAa?$AAd?$AAi?$AAn?$AAg?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DM@DPPAKCAI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAG?$AAe?$AAt?$AAC?$AAl?$AAa?$AAs?$AAs?$AAF?$AAr?$AAo?$AAm?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DK@KKOFKFEH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|DeviceIdParseNameString|
	IMPORT	|__GSHandlerCheck_SEH|
	IMPORT	|malloc|
	IMPORT	|free|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceIdParseNameString| DCD imagerel |$LN69@DeviceIdPa|
	DCD	imagerel |$unwind2$DeviceIdParseNameString|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$DeviceIdParseNameString| DCD 0x33b000e3
	DCD	0x1e80ec7
	DCD	0xe8ffdffc
	DCD	0xffdf01
	DCD	imagerel |__GSHandlerCheck_SEH|
	DCD	0x2
	DCD	imagerel |$LN49@DeviceIdPa|
	DCD	imagerel |$LN50@DeviceIdPa|
	DCD	0x1
	DCD	imagerel |$LN46@DeviceIdPa|
	DCD	imagerel |$LN42@DeviceIdPa|
	DCD	imagerel |$LN43@DeviceIdPa|
	DCD	0x1
	DCD	imagerel |$LN39@DeviceIdPa|
	DCD	0xffffffd9

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DK@KKOFKFEH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "x", 0x0, "c"
	DCB	0x0, "e", 0x0, "p", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, " ", 0x0, "p", 0x0, "a", 0x0, "r", 0x0, "s", 0x0, "i"
	DCB	0x0, "n", 0x0, "g", 0x0, " ", 0x0, "n", 0x0, "a", 0x0, "m"
	DCB	0x0, "e", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DM@DPPAKCAI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAG?$AAe?$AAt?$AAC?$AAl?$AAa?$AAs?$AAs?$AAF?$AAr?$AAo?$AAm?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "G", 0x0, "e", 0x0, "t"
	DCB	0x0, "C", 0x0, "l", 0x0, "a", 0x0, "s", 0x0, "s", 0x0, "F"
	DCB	0x0, "r", 0x0, "o", 0x0, "m", 0x0, "N", 0x0, "a", 0x0, "m"
	DCB	0x0, "e", 0x0, " ", 0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l"
	DCB	0x0, "e", 0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EG@IEOIOHJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAE?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAr?$AAe?$AAa?$AAd?$AAi?$AAn?$AAg?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "E", 0x0, "x", 0x0, "c"
	DCB	0x0, "e", 0x0, "p", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, " ", 0x0, "r", 0x0, "e", 0x0, "a", 0x0, "d", 0x0, "i"
	DCB	0x0, "n", 0x0, "g", 0x0, " ", 0x0, "D", 0x0, "e", 0x0, "v"
	DCB	0x0, "i", 0x0, "c", 0x0, "e", 0x0, "N", 0x0, "a", 0x0, "m"
	DCB	0x0, "e", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FC@IOIEGKDA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAM?$AAi?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAa?$AAf?$AAt?$AAe@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "D", 0x0, "e", 0x0, "v"
	DCB	0x0, "i", 0x0, "c", 0x0, "e", 0x0, "N", 0x0, "a", 0x0, "m"
	DCB	0x0, "e", 0x0, " ", 0x0, "M", 0x0, "i", 0x0, "s", 0x0, "s"
	DCB	0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "n", 0x0, "a"
	DCB	0x0, "m", 0x0, "e", 0x0, " ", 0x0, "a", 0x0, "f", 0x0, "t"
	DCB	0x0, "e", 0x0, "r", 0x0, " ", 0x0, "G", 0x0, "U", 0x0, "I"
	DCB	0x0, "D", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EO@PDOMGPAM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAM?$AAi?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AA?8?$AA?8?$AA?5?$AAa?$AAf?$AAt?$AAe?$AAr?$AA?5@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "D", 0x0, "e", 0x0, "v"
	DCB	0x0, "i", 0x0, "c", 0x0, "e", 0x0, "N", 0x0, "a", 0x0, "m"
	DCB	0x0, "e", 0x0, " ", 0x0, "M", 0x0, "i", 0x0, "s", 0x0, "s"
	DCB	0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "'", 0x0, "'"
	DCB	0x0, " ", 0x0, "a", 0x0, "f", 0x0, "t", 0x0, "e", 0x0, "r"
	DCB	0x0, " ", 0x0, "G", 0x0, "U", 0x0, "I", 0x0, "D", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EC@CJJOAPHD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AAT?$AAo?$AAG?$AAu?$AAi?$AAd?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$AN?$AA?6@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "C", 0x0, "o", 0x0, "n"
	DCB	0x0, "v", 0x0, "e", 0x0, "r", 0x0, "t", 0x0, "S", 0x0, "t"
	DCB	0x0, "r", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, "T", 0x0, "o"
	DCB	0x0, "G", 0x0, "u", 0x0, "i", 0x0, "d", 0x0, " ", 0x0, "f"
	DCB	0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HG@NNHOCEOL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAo?$AAn?$AA?8?$AAt?$AA?5?$AAk?$AAn?$AAo?$AAw?$AA?5?$AAh?$AAo?$AAw?$AA?5?$AAt?$AAo?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AAn?$AAa?$AAm?$AAe@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "d", 0x0, "o", 0x0, "n"
	DCB	0x0, "'", 0x0, "t", 0x0, " ", 0x0, "k", 0x0, "n", 0x0, "o"
	DCB	0x0, "w", 0x0, " ", 0x0, "h", 0x0, "o", 0x0, "w", 0x0, " "
	DCB	0x0, "t", 0x0, "o", 0x0, " ", 0x0, "p", 0x0, "a", 0x0, "r"
	DCB	0x0, "s", 0x0, "e", 0x0, " ", 0x0, "n", 0x0, "a", 0x0, "m"
	DCB	0x0, "e", 0x0, " ", 0x0, "w", 0x0, "i", 0x0, "t", 0x0, "h"
	DCB	0x0, "o", 0x0, "u", 0x0, "t", 0x0, " ", 0x0, "P", 0x0, "O"
	DCB	0x0, "W", 0x0, "E", 0x0, "R", 0x0, "_", 0x0, "N", 0x0, "A"
	DCB	0x0, "M", 0x0, "E", 0x0, " ", 0x0, "f", 0x0, "l", 0x0, "a"
	DCB	0x0, "g", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DA@BOEDGMEE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAP?$AAa?$AAr?$AAs?$AAe?$AAN?$AAa?$AAm?$AAe?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "I"
	DCB	0x0, "d", 0x0, "P", 0x0, "a", 0x0, "r", 0x0, "s", 0x0, "e"
	DCB	0x0, "N", 0x0, "a", 0x0, "m", 0x0, "e", 0x0, "S", 0x0, "t"
	DCB	0x0, "r", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |DeviceIdParseNameString| PROC

; 549  : {

  00000		 |$LN69@DeviceIdPa|
  00000	e92d 4ff0	 push        {r4-r11,lr}
  00004	f20d 0b1c	 addw        r11,sp,#0x1C
  00008	f000 f800	 bl          __security_push_cookie
  0000c	b08e		 sub         sp,sp,#0x38
  0000e	466f		 mov         r7,sp
  00010		 |$LN67@DeviceIdPa|
  00010	4682		 mov         r10,r0

; 550  :     GUID idClass;
; 551  :     BOOL fHaveGUID = FALSE;

  00012	2200		 movs        r2,#0
  00014	613a		 str         r2,[r7,#0x10]
  00016	617a		 str         r2,[r7,#0x14]

; 552  :     LPCTSTR pszName = pszDevName;
; 553  :     LPTSTR pszTempName = NULL;

  00018	2300		 movs        r3,#0
  0001a	603b		 str         r3,[r7]
  0001c	60fb		 str         r3,[r7,#0xC]

; 554  :     PDEVICEID pdi = NULL;

  0001e	f04f 0900	 mov         r9,#0
  00022	f8c7 9008	 str         r9,[r7,#8]

; 555  :     DEVICEID di;
; 556  :     SETFNAME(_T("DeviceIdParseNameString"));

  00026	4d71		 ldr         r5,|$LN83@DeviceIdPa| ; =|??_C@_1DA@BOEDGMEE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAP?$AAa?$AAr?$AAs?$AAe?$AAN?$AAa?$AAm?$AAe?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AA?$AA@|
  00028	607d		 str         r5,[r7,#4]

; 557  : 
; 558  :     // sanity check the parameters
; 559  :     PREFAST_DEBUGCHK(pszName != NULL);
; 560  :     if((dwFlags & POWER_NAME) == 0) {

  0002a	f011 0f01	 tst         r1,#1
  0002e	d10c		 bne         |$LN18@DeviceIdPa|

; 561  :         PMLOGMSG(ZONE_WARN, 
; 562  :             (_T("%s: don't know how to parse name without POWER_NAME flag\r\n"),
; 563  :             pszFname));

  00030	4b67		 ldr         r3,|$LN76@DeviceIdPa| ; =|dpCurSettings|
  00032	f8d3 3440	 ldr         r3,[r3,#0x440]
  00036	f013 0f02	 tst         r3,#2
  0003a	d003		 beq         |$LN21@DeviceIdPa|
  0003c	486a		 ldr         r0,|$LN82@DeviceIdPa| ; =|??_C@_1HG@NNHOCEOL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAo?$AAn?$AA?8?$AAt?$AA?5?$AAk?$AAn?$AAo?$AAw?$AA?5?$AAh?$AAo?$AAw?$AA?5?$AAt?$AAo?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AAn?$AAa?$AAm?$AAe@|
  0003e	4629		 mov         r1,r5
  00040	f000 f800	 bl          CeLogMsg
  00044		 |$LN21@DeviceIdPa|

; 564  :         return NULL;

  00044	f04f 0900	 mov         r9,#0
  00048	e0b7		 b           |$LN19@DeviceIdPa|
  0004a		 |$LN18@DeviceIdPa|
  0004a		 |$LN42@DeviceIdPa|

; 565  :     }
; 566  : 
; 567  :     // is the name prefixed with a guid?
; 568  :     __try {
; 569  :         BOOL fOk = TRUE;

  0004a	f04f 0801	 mov         r8,#1

; 570  :         if(*pszName == '{') {

  0004e	f8ba 3000	 ldrh        r3,[r10]
  00052	2b7b		 cmp         r3,#0x7B
  00054	d129		 bne         |$LN58@DeviceIdPa|

; 571  :             if(!ConvertStringToGuid(pszName, &idClass)) {

  00056	f117 0128	 adds        r1,r7,#0x28
  0005a	4650		 mov         r0,r10
  0005c	f000 f800	 bl          ConvertStringToGuid
  00060	b938		 cbnz        r0,|$LN15@DeviceIdPa|

; 572  :                 // indicate an error later
; 573  :                 PMLOGMSG(ZONE_WARN, (_T("%s: ConvertStringToGuid failed\r\n"),
; 574  :                 pszFname));

  00062	4c5b		 ldr         r4,|$LN76@DeviceIdPa| ; =|dpCurSettings|
  00064	f8d4 3440	 ldr         r3,[r4,#0x440]
  00068	f013 0f02	 tst         r3,#2
  0006c	d013		 beq         |$LN25@DeviceIdPa|
  0006e	485d		 ldr         r0,|$LN81@DeviceIdPa| ; =|??_C@_1EC@CJJOAPHD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AAT?$AAo?$AAG?$AAu?$AAi?$AAd?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$AN?$AA?6@|

; 575  :                 fOk = FALSE;
; 576  :             } else {

  00070	e00e		 b           |$LN64@DeviceIdPa|
  00072		 |$LN15@DeviceIdPa|

; 577  :                 // skip the guid, we are guaranteed the length of the guid 
; 578  :                 // because the guid parsed ok.
; 579  :                 pszName += 38; // go to the char after the close brace

  00072	f10a 0a4c	 add         r10,r10,#0x4C
  00076	f8c7 a024	 str         r10,[r7,#0x24]

; 580  :                 if(*pszName != _T('\\')) {

  0007a	f8ba 3000	 ldrh        r3,[r10]
  0007e	2b5c		 cmp         r3,#0x5C
  00080	d00c		 beq         |$LN13@DeviceIdPa|

; 581  :                     PMLOGMSG(ZONE_WARN, 
; 582  :                         (_T("%s: DeviceName Missing '\' after GUID\r\n"),
; 583  :                         pszFname));

  00082	4c53		 ldr         r4,|$LN76@DeviceIdPa| ; =|dpCurSettings|

; 572  :                 // indicate an error later
; 573  :                 PMLOGMSG(ZONE_WARN, (_T("%s: ConvertStringToGuid failed\r\n"),
; 574  :                 pszFname));

  00084	f8d4 3440	 ldr         r3,[r4,#0x440]

; 581  :                     PMLOGMSG(ZONE_WARN, 
; 582  :                         (_T("%s: DeviceName Missing '\' after GUID\r\n"),
; 583  :                         pszFname));

  00088	f013 0f02	 tst         r3,#2
  0008c	d003		 beq         |$LN25@DeviceIdPa|
  0008e	4854		 ldr         r0,|$LN80@DeviceIdPa| ; =|??_C@_1EO@PDOMGPAM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAM?$AAi?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AA?8?$AA?8?$AA?5?$AAa?$AAf?$AAt?$AAe?$AAr?$AA?5@|
  00090		 |$LN64@DeviceIdPa|
  00090	4629		 mov         r1,r5
  00092	f000 f800	 bl          CeLogMsg
  00096		 |$LN25@DeviceIdPa|

; 584  :                     fOk = FALSE;

  00096	2600		 movs        r6,#0
  00098	46b0		 mov         r8,r6

; 585  :                 } else {

  0009a	e008		 b           |$LN12@DeviceIdPa|
  0009c		 |$LN13@DeviceIdPa|

; 586  :                     pszName++;

  0009c	f10a 0a02	 add         r10,r10,#2
  000a0	f8c7 a024	 str         r10,[r7,#0x24]

; 587  :                     fHaveGUID = TRUE;

  000a4	2301		 movs        r3,#1
  000a6	613b		 str         r3,[r7,#0x10]
  000a8	617b		 str         r3,[r7,#0x14]
  000aa		 |$LN58@DeviceIdPa|
  000aa	2600		 movs        r6,#0
  000ac	4c48		 ldr         r4,|$LN76@DeviceIdPa| ; =|dpCurSettings|
  000ae		 |$LN12@DeviceIdPa|

; 588  :                 }
; 589  :             }
; 590  :         } 
; 591  : 
; 592  :         
; 593  :         // Check if we have a name
; 594  :         if( *pszName == 0 )

  000ae	f8ba 3000	 ldrh        r3,[r10]
  000b2	b94b		 cbnz        r3,|$LN11@DeviceIdPa|

; 572  :                 // indicate an error later
; 573  :                 PMLOGMSG(ZONE_WARN, (_T("%s: ConvertStringToGuid failed\r\n"),
; 574  :                 pszFname));

  000b4	f8d4 3440	 ldr         r3,[r4,#0x440]

; 595  :         {
; 596  :             PMLOGMSG(ZONE_WARN, (_T("%s: DeviceName Missing name after GUID\r\n"),
; 597  :                 pszFname));

  000b8	f013 0f02	 tst         r3,#2
  000bc	d003		 beq         |$LN27@DeviceIdPa|
  000be	4847		 ldr         r0,|$LN79@DeviceIdPa| ; =|??_C@_1FC@IOIEGKDA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAM?$AAi?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAa?$AAf?$AAt?$AAe@|
  000c0	4629		 mov         r1,r5
  000c2	f000 f800	 bl          CeLogMsg
  000c6		 |$LN27@DeviceIdPa|

; 598  :             fOk = FALSE;

  000c6	46b0		 mov         r8,r6
  000c8		 |$LN11@DeviceIdPa|

; 599  :         }            
; 600  : 
; 601  :         // Convert the name to lower case
; 602  :         if( fOk ){

  000c8	f1b8 0f00	 cmp         r8,#0
  000cc	d033		 beq         |$LN63@DeviceIdPa|

; 603  :             DWORD dwLen;
; 604  :             DWORD cchName;
; 605  : 
; 606  :             // yes, save it and convert to lower case
; 607  :             cchName = _tcslen(pszName);

  000ce	4650		 mov         r0,r10
  000d0	f000 f800	 bl          wcslen
  000d4	61b8		 str         r0,[r7,#0x18]

; 608  :             dwLen = (cchName + 1) * sizeof(*pszName);

  000d6	1c43		 adds        r3,r0,#1
  000d8		 |$LN49@DeviceIdPa|

; 609  :             __try {
; 610  :                 DWORD dwIndex;
; 611  :                 pszTempName = (LPTSTR) malloc(dwLen);              

  000d8	0058		 lsls        r0,r3,#1
  000da	f000 f800	 bl          malloc
  000de	4603		 mov         r3,r0
  000e0	603b		 str         r3,[r7]
  000e2	60fb		 str         r3,[r7,#0xC]

; 612  :                 if (pszTempName) {

  000e4	b183		 cbz         r3,|$LN8@DeviceIdPa|

; 613  :                     for(dwIndex = 0; dwIndex < cchName; dwIndex++) {

  000e6	4632		 mov         r2,r6
  000e8		 |$LN65@DeviceIdPa|
  000e8	623a		 str         r2,[r7,#0x20]
  000ea	69b9		 ldr         r1,[r7,#0x18]
  000ec	428a		 cmp         r2,r1
  000ee	d209		 bcs         |$LN5@DeviceIdPa|

; 614  :                         pszTempName[dwIndex] = _totlower(pszName[dwIndex]);

  000f0	f83a 0012	 ldrh        r0,[r10,r2,lsl #1]
  000f4	f000 f800	 bl          towlower
  000f8	683b		 ldr         r3,[r7]
  000fa	6a3a		 ldr         r2,[r7,#0x20]
  000fc	f823 0012	 strh        r0,[r3,r2,lsl #1]

; 613  :                     for(dwIndex = 0; dwIndex < cchName; dwIndex++) {

  00100	3201		 adds        r2,#1
  00102	e7f1		 b           |$LN65@DeviceIdPa|
  00104		 |$LN5@DeviceIdPa|

; 615  :                     }
; 616  :                     pszTempName[cchName] = 0;

  00104	f823 6011	 strh        r6,[r3,r1,lsl #1]
  00108		 |$LN8@DeviceIdPa|

; 617  :                 }
; 618  :                 di.pszName = pszTempName;

  00108	61fb		 str         r3,[r7,#0x1C]
  0010a		 |$LN50@DeviceIdPa|

; 619  :             } 

  0010a	6838		 ldr         r0,[r7]
  0010c	693b		 ldr         r3,[r7,#0x10]
  0010e	e014		 b           |$LN51@DeviceIdPa|
  00110		 |$LN46@DeviceIdPa|
  00110		 |$LN48@DeviceIdPa|

; 620  :             __except(EXCEPTION_EXECUTE_HANDLER) {
; 621  :                 PMLOGMSG(ZONE_WARN, (_T("%s: Exception reading DeviceName\r\n"),
; 622  :                     pszFname));

  00110	4c2f		 ldr         r4,|$LN76@DeviceIdPa| ; =|dpCurSettings|

; 572  :                 // indicate an error later
; 573  :                 PMLOGMSG(ZONE_WARN, (_T("%s: ConvertStringToGuid failed\r\n"),
; 574  :                 pszFname));

  00112	f8d4 3440	 ldr         r3,[r4,#0x440]

; 620  :             __except(EXCEPTION_EXECUTE_HANDLER) {
; 621  :                 PMLOGMSG(ZONE_WARN, (_T("%s: Exception reading DeviceName\r\n"),
; 622  :                     pszFname));

  00116	f013 0f02	 tst         r3,#2
  0011a	687d		 ldr         r5,[r7,#4]
  0011c	d003		 beq         |$LN29@DeviceIdPa|
  0011e	482e		 ldr         r0,|$LN78@DeviceIdPa| ; =|??_C@_1EG@IEOIOHJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAE?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAr?$AAe?$AAa?$AAd?$AAi?$AAn?$AAg?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe@|
  00120	4629		 mov         r1,r5
  00122	f000 f800	 bl          CeLogMsg
  00126		 |$LN29@DeviceIdPa|

; 623  :                 fOk = FALSE;

  00126	2600		 movs        r6,#0
  00128	46b0		 mov         r8,r6
  0012a	697b		 ldr         r3,[r7,#0x14]
  0012c	68f8		 ldr         r0,[r7,#0xC]
  0012e	6038		 str         r0,[r7]
  00130	f8d7 9008	 ldr         r9,[r7,#8]
  00134	e001		 b           |$LN51@DeviceIdPa|
  00136		 |$LN63@DeviceIdPa|
  00136	2000		 movs        r0,#0
  00138	693b		 ldr         r3,[r7,#0x10]
  0013a		 |$LN51@DeviceIdPa|

; 624  :             }
; 625  :         }
; 626  : 
; 627  :         // If we don't have a GUID yet, find the GUID from the lower case name
; 628  :         if( fOk && !fHaveGUID ) {

  0013a	f1b8 0f00	 cmp         r8,#0
  0013e	d01b		 beq         |$LN43@DeviceIdPa|
  00140	b973		 cbnz        r3,|$LN60@DeviceIdPa|

; 629  :             if(!GetClassFromName( pszTempName, &idClass )){

  00142	f117 0128	 adds        r1,r7,#0x28
  00146	f000 f800	 bl          |?GetClassFromName@@YAHPBGPAU_GUID@@@Z|
  0014a	b948		 cbnz        r0,|$LN60@DeviceIdPa|

; 572  :                 // indicate an error later
; 573  :                 PMLOGMSG(ZONE_WARN, (_T("%s: ConvertStringToGuid failed\r\n"),
; 574  :                 pszFname));

  0014c	f8d4 3440	 ldr         r3,[r4,#0x440]

; 630  :                 PMLOGMSG(ZONE_WARN, (_T("%s: GetClassFromName failed\r\n"),
; 631  :                     pszFname));

  00150	f013 0f02	 tst         r3,#2
  00154	d003		 beq         |$LN31@DeviceIdPa|
  00156	481f		 ldr         r0,|$LN77@DeviceIdPa| ; =|??_C@_1DM@DPPAKCAI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAG?$AAe?$AAt?$AAC?$AAl?$AAa?$AAs?$AAs?$AAF?$AAr?$AAo?$AAm?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  00158	4629		 mov         r1,r5
  0015a	f000 f800	 bl          CeLogMsg
  0015e		 |$LN31@DeviceIdPa|

; 632  :                 fOk = FALSE;

  0015e	46b0		 mov         r8,r6
  00160		 |$LN60@DeviceIdPa|

; 633  :             }
; 634  :         }            
; 635  : 
; 636  :         // Clone the DeviceId to be returned
; 637  :         if( fOk ) {

  00160	f1b8 0f00	 cmp         r8,#0
  00164	d008		 beq         |$LN43@DeviceIdPa|

; 638  :             di.pGuid = &idClass;

  00166	f117 0328	 adds        r3,r7,#0x28
  0016a	61bb		 str         r3,[r7,#0x18]

; 639  :             pdi = DeviceIdClone(&di);

  0016c	f117 0018	 adds        r0,r7,#0x18
  00170	f000 f800	 bl          DeviceIdClone
  00174	4681		 mov         r9,r0
  00176	60b8		 str         r0,[r7,#8]
  00178		 |$LN43@DeviceIdPa|

; 640  :         }
; 641  : 
; 642  :         
; 643  :     }

  00178	683b		 ldr         r3,[r7]
  0017a	e00d		 b           |$LN44@DeviceIdPa|
  0017c		 |$LN39@DeviceIdPa|
  0017c		 |$LN41@DeviceIdPa|

; 644  :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 645  :         PMLOGMSG(ZONE_WARN, (_T("%s: exception parsing name\r\n"), pszFname));

  0017c	4c14		 ldr         r4,|$LN76@DeviceIdPa| ; =|dpCurSettings|

; 572  :                 // indicate an error later
; 573  :                 PMLOGMSG(ZONE_WARN, (_T("%s: ConvertStringToGuid failed\r\n"),
; 574  :                 pszFname));

  0017e	f8d4 3440	 ldr         r3,[r4,#0x440]

; 644  :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 645  :         PMLOGMSG(ZONE_WARN, (_T("%s: exception parsing name\r\n"), pszFname));

  00182	f013 0f02	 tst         r3,#2
  00186	687d		 ldr         r5,[r7,#4]
  00188	d003		 beq         |$LN33@DeviceIdPa|
  0018a	4810		 ldr         r0,|$LN75@DeviceIdPa| ; =|??_C@_1DK@KKOFKFEH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?$AN?$AA?6?$AA?$AA@|
  0018c	4629		 mov         r1,r5
  0018e	f000 f800	 bl          CeLogMsg
  00192		 |$LN33@DeviceIdPa|
  00192	68fb		 ldr         r3,[r7,#0xC]
  00194	f8d7 9008	 ldr         r9,[r7,#8]
  00198		 |$LN44@DeviceIdPa|

; 646  :     }
; 647  : 
; 648  :     if (pszTempName)

  00198	b113		 cbz         r3,|$LN1@DeviceIdPa|

; 649  :         free(pszTempName);

  0019a	4618		 mov         r0,r3
  0019c	f000 f800	 bl          free
  001a0		 |$LN1@DeviceIdPa|

; 650  : 
; 651  :     PMLOGMSG(pdi == NULL && ZONE_WARN, (_T("%s: returning 0x%08x\r\n"), pszFname, pdi));

  001a0	f1b9 0f00	 cmp         r9,#0
  001a4	d109		 bne         |$LN19@DeviceIdPa|

; 572  :                 // indicate an error later
; 573  :                 PMLOGMSG(ZONE_WARN, (_T("%s: ConvertStringToGuid failed\r\n"),
; 574  :                 pszFname));

  001a6	f8d4 3440	 ldr         r3,[r4,#0x440]

; 650  : 
; 651  :     PMLOGMSG(pdi == NULL && ZONE_WARN, (_T("%s: returning 0x%08x\r\n"), pszFname, pdi));

  001aa	f013 0f02	 tst         r3,#2
  001ae	d004		 beq         |$LN19@DeviceIdPa|
  001b0	4805		 ldr         r0,|$LN74@DeviceIdPa| ; =|??_C@_1CO@HPJBBGLL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  001b2	2200		 movs        r2,#0
  001b4	4629		 mov         r1,r5
  001b6	f000 f800	 bl          CeLogMsg
  001ba		 |$LN19@DeviceIdPa|

; 652  :     return pdi;
; 653  : }

  001ba	4648		 mov         r0,r9
  001bc		 |$M72|
  001bc	b00e		 add         sp,sp,#0x38
  001be	f000 f800	 bl          __security_pop_cookie
  001c2	e8bd 8ff0	 pop         {r4-r11,pc}
  001c6		 |$LN84@DeviceIdPa|
  001c6		 |$M85|
  001c6	defe		 __debugbreak
  001c8		 |$LN73@DeviceIdPa|
  001c8		 |$LN74@DeviceIdPa|
  001c8	0000 0000	 DCD         |??_C@_1CO@HPJBBGLL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  001cc		 |$LN75@DeviceIdPa|
  001cc	0000 0000	 DCD         |??_C@_1DK@KKOFKFEH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?$AN?$AA?6?$AA?$AA@|
  001d0		 |$LN76@DeviceIdPa|
  001d0	0000 0000	 DCD         |dpCurSettings|
  001d4		 |$LN77@DeviceIdPa|
  001d4	0000 0000	 DCD         |??_C@_1DM@DPPAKCAI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAG?$AAe?$AAt?$AAC?$AAl?$AAa?$AAs?$AAs?$AAF?$AAr?$AAo?$AAm?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  001d8		 |$LN78@DeviceIdPa|
  001d8	0000 0000	 DCD         |??_C@_1EG@IEOIOHJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAE?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAr?$AAe?$AAa?$AAd?$AAi?$AAn?$AAg?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe@|
  001dc		 |$LN79@DeviceIdPa|
  001dc	0000 0000	 DCD         |??_C@_1FC@IOIEGKDA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAM?$AAi?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAa?$AAf?$AAt?$AAe@|
  001e0		 |$LN80@DeviceIdPa|
  001e0	0000 0000	 DCD         |??_C@_1EO@PDOMGPAM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAM?$AAi?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AA?8?$AA?8?$AA?5?$AAa?$AAf?$AAt?$AAe?$AAr?$AA?5@|
  001e4		 |$LN81@DeviceIdPa|
  001e4	0000 0000	 DCD         |??_C@_1EC@CJJOAPHD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AAT?$AAo?$AAG?$AAu?$AAi?$AAd?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$AN?$AA?6@|
  001e8		 |$LN82@DeviceIdPa|
  001e8	0000 0000	 DCD         |??_C@_1HG@NNHOCEOL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAo?$AAn?$AA?8?$AAt?$AA?5?$AAk?$AAn?$AAo?$AAw?$AA?5?$AAh?$AAo?$AAw?$AA?5?$AAt?$AAo?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AAn?$AAa?$AAm?$AAe@|
  001ec		 |$LN83@DeviceIdPa|
  001ec	0000 0000	 DCD         |??_C@_1DA@BOEDGMEE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAP?$AAa?$AAr?$AAs?$AAe?$AAN?$AAa?$AAm?$AAe?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AA?$AA@|

			 ENDP  ; |DeviceIdParseNameString|

  001f0		 |$LN68@DeviceIdPa|
	END
