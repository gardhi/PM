; Listing generated by Microsoft (R) Optimizing Compiler Version 17.00.50727.114 

	TTL	C:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmpnp.cpp
	THUMB

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|SetEvent|
	IMPORT	|EventModify|
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\kfuncs.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |SetEvent| PROC

; 244  :     return EventModify(h,EVENT_SET);

  00000	2103		 movs        r1,#3
  00002		 |$M4|
  00002	f000 9000	 b           EventModify

			 ENDP  ; |SetEvent|

	EXPORT	|GetCurrentThread|
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\kfuncs.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |GetCurrentThread| PROC

; 358  :     return ((HANDLE)(SH_CURTHREAD+SYS_HANDLE_BASE));

  00000	2041		 movs        r0,#0x41
  00002		 |$M4|

; 359  : }

  00002	4770		 bx          lr

			 ENDP  ; |GetCurrentThread|

	EXPORT	|GetCurrentThreadId|
	IMPORT	|__GetUserKData|
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\kfuncs.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |GetCurrentThreadId| PROC

; 372  :     return __GetUserKData (SYSHANDLE_OFFSET + (SH_CURTHREAD * sizeof(HANDLE)));

  00000	2008		 movs        r0,#8
  00002		 |$M4|
  00002	f000 9000	 b           __GetUserKData

			 ENDP  ; |GetCurrentThreadId|

	IMPORT	|__security_push_cookie|
	IMPORT	|__security_pop_cookie|
	IMPORT	|__GSHandlerCheck|
	IMPORT	|StringCchVPrintfW|
	IMPORT	|StringCchLengthW|
	IMPORT	|CeLogData|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$CeLogMsg| DCD imagerel |$LN8@CeLogMsg|
	DCD	imagerel |$unwind2$CeLogMsg|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$CeLogMsg| DCD 0x44b00032
	DCD	0x1e889e8
	DCD	0x400a8fb
	DCD	0x8801e8ff
	DCD	0xff05ef00
	DCD	imagerel |__GSHandlerCheck|
	DCD	0xffffffe5
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\celog.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |CeLogMsg| PROC

; 1208 : {

  00000		 |$LN8@CeLogMsg|
  00000	b40f		 push        {r0-r3}
  00002	e92d 4800	 push        {r11,lr}
  00006	46eb		 mov         r11,sp
  00008	f000 f800	 bl          __security_push_cookie
  0000c	f2ad 2d24	 subw        sp,sp,#0x224
  00010		 |$M6|
  00010	4602		 mov         r2,r0

; 1209 :     va_list arglist;
; 1210 :     WCHAR   szTemp[MAX_PATH];
; 1211 :     size_t  cchLen;
; 1212 :     HRESULT hr;
; 1213 : 
; 1214 :     // Compose a single string using the input args
; 1215 :     va_start(arglist, szFormat);
; 1216 :     hr = StringCchVPrintfW(szTemp, MAX_PATH, szFormat, arglist);

  00012	a806		 add         r0,sp,#0x18
  00014	ab8d		 add         r3,sp,#0x234
  00016	f44f 7182	 mov         r1,#0x104
  0001a	928c		 str         r2,[sp,#0x230]
  0001c	f000 f800	 bl          StringCchVPrintfW

; 1217 :     if (SUCCEEDED(hr)) {

  00020	2800		 cmp         r0,#0
  00022	db17		 blt         |$LN1@CeLogMsg|

; 1218 :         hr = StringCchLengthW(szTemp, MAX_PATH, &cchLen);

  00024	aa04		 add         r2,sp,#0x10
  00026	a806		 add         r0,sp,#0x18
  00028	f44f 7182	 mov         r1,#0x104
  0002c	f000 f800	 bl          StringCchLengthW

; 1219 :         if (SUCCEEDED(hr)) {

  00030	2800		 cmp         r0,#0
  00032	db0f		 blt         |$LN1@CeLogMsg|

; 1220 :             CeLogData(TRUE, CELID_RAW_WCHAR, szTemp, (WORD)((cchLen + 1) * sizeof(WCHAR)),
; 1221 :                       0, CELZONE_ALWAYSON, 0, FALSE);

  00034	f04f 4380	 mov         r3,#0x40000000
  00038	9301		 str         r3,[sp,#4]
  0003a	9b04		 ldr         r3,[sp,#0x10]
  0003c	2200		 movs        r2,#0
  0003e	9203		 str         r2,[sp,#0xC]
  00040	3301		 adds        r3,#1
  00042	005b		 lsls        r3,r3,#1
  00044	9202		 str         r2,[sp,#8]
  00046	9200		 str         r2,[sp]
  00048	aa06		 add         r2,sp,#0x18
  0004a	214a		 movs        r1,#0x4A
  0004c	b29b		 uxth        r3,r3
  0004e	2001		 movs        r0,#1
  00050	f000 f800	 bl          CeLogData
  00054		 |$LN1@CeLogMsg|
  00054		 |$M9|

; 1222 :         }
; 1223 :     }
; 1224 : }

  00054	f20d 2d24	 addw        sp,sp,#0x224
  00058	f000 f800	 bl          __security_pop_cookie
  0005c	f85d bb04	 pop         {r11}
  00060	f85d fb14	 ldr         pc,[sp],#0x14
  00064		 |$M7|

			 ENDP  ; |CeLogMsg|

	EXPORT	|??_C@_1DO@DCJBELBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAR?$AAe?$AAa?$AAd?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CG@EGNINIOP@?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs?$AAs?$AAP?$AAn?$AAP?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FI@ONIMKDGK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAl?$AAo?$AAn?$AAg?$AAe?$AAr?$AA?5?$AAt?$AAh?$AAa?$AAn?$AA?5?$AA?$CF?$AAd?$AA?5?$AAc@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EE@EFOEONDD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAg?$AAo?$AAt?$AA?5?$AAr?$AAu?$AAn?$AAt?$AA?5?$AAm?$AAe?$AAs?$AAs?$AAa?$AAg?$AAe?$AA?5?$AA?$CI?$AA?$CF?$AAd?$AA?5?$AAb?$AAy?$AAt?$AAe?$AAs?$AA?$CJ?$AA?$AN@| [ DATA ] ; `string'
	EXPORT	|?ProcessPnPMsgQueue@@YAHPAX@Z|		; ProcessPnPMsgQueue
	IMPORT	|memset|
	IMPORT	|ReadMsgQueue|
	IMPORT	|dpCurSettings|
	IMPORT	|GetLastError|
	IMPORT	|NKDbgPrintfW|
	IMPORT	|towlower|
	IMPORT	|AddDevice|
	IMPORT	|RemoveDevice|

  00008			 AREA	 |.pdata|, PDATA
|$pdata1$?ProcessPnPMsgQueue@@YAHPAX@Z| DCD imagerel |$LN28@ProcessPnP|
	DCD	imagerel |$unwind2$?ProcessPnPMsgQueue@@YAHPAX@Z|

  0001c			 AREA	 |.xdata|, DATA
	%	4
|$unwind2$?ProcessPnPMsgQueue@@YAHPAX@Z| DCD 0x4430007b
	DCD	0x1e8dce8
	DCD	0xff70a8fc
	DCD	0x70a801e8
	DCD	0xff
	DCD	imagerel |__GSHandlerCheck|
	DCD	0xffffffe9

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EE@EFOEONDD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAg?$AAo?$AAt?$AA?5?$AAr?$AAu?$AAn?$AAt?$AA?5?$AAm?$AAe?$AAs?$AAs?$AAa?$AAg?$AAe?$AA?5?$AA?$CI?$AA?$CF?$AAd?$AA?5?$AAb?$AAy?$AAt?$AAe?$AAs?$AA?$CJ?$AA?$AN@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "g", 0x0, "o", 0x0, "t"
	DCB	0x0, " ", 0x0, "r", 0x0, "u", 0x0, "n", 0x0, "t", 0x0, " "
	DCB	0x0, "m", 0x0, "e", 0x0, "s", 0x0, "s", 0x0, "a", 0x0, "g"
	DCB	0x0, "e", 0x0, " ", 0x0, "(", 0x0, "%", 0x0, "d", 0x0, " "
	DCB	0x0, "b", 0x0, "y", 0x0, "t", 0x0, "e", 0x0, "s", 0x0, ")"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FI@ONIMKDGK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAl?$AAo?$AAn?$AAg?$AAe?$AAr?$AA?5?$AAt?$AAh?$AAa?$AAn?$AA?5?$AA?$CF?$AAd?$AA?5?$AAc@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "d", 0x0, "e", 0x0, "v"
	DCB	0x0, "i", 0x0, "c", 0x0, "e", 0x0, " ", 0x0, "n", 0x0, "a"
	DCB	0x0, "m", 0x0, "e", 0x0, " ", 0x0, "l", 0x0, "o", 0x0, "n"
	DCB	0x0, "g", 0x0, "e", 0x0, "r", 0x0, " ", 0x0, "t", 0x0, "h"
	DCB	0x0, "a", 0x0, "n", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, " "
	DCB	0x0, "c", 0x0, "h", 0x0, "a", 0x0, "r", 0x0, "a", 0x0, "c"
	DCB	0x0, "t", 0x0, "e", 0x0, "r", 0x0, "s", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CG@EGNINIOP@?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs?$AAs?$AAP?$AAn?$AAP?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$AA@| DCB "P"
	DCB	0x0, "r", 0x0, "o", 0x0, "c", 0x0, "e", 0x0, "s", 0x0, "s"
	DCB	0x0, "P", 0x0, "n", 0x0, "P", 0x0, "M", 0x0, "s", 0x0, "g"
	DCB	0x0, "Q", 0x0, "u", 0x0, "e", 0x0, "u", 0x0, "e", 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DO@DCJBELBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAR?$AAe?$AAa?$AAd?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "R", 0x0, "e", 0x0, "a"
	DCB	0x0, "d", 0x0, "M", 0x0, "s", 0x0, "g", 0x0, "Q", 0x0, "u"
	DCB	0x0, "e", 0x0, "u", 0x0, "e", 0x0, "(", 0x0, ")", 0x0, " "
	DCB	0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d"
	DCB	0x0, " ", 0x0, "%", 0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmpnp.cpp

  00064			 AREA	 |.text|, CODE, THUMB

  00064		 |?ProcessPnPMsgQueue@@YAHPAX@Z| PROC	; ProcessPnPMsgQueue

; 27   : {

  00064		 |$LN28@ProcessPnP|
  00064	e92d 4870	 push        {r4-r6,r11,lr}
  00068	f20d 0b0c	 addw        r11,sp,#0xC
  0006c	f000 f800	 bl          __security_push_cookie
  00070	f2ad 3d70	 subw        sp,sp,#0x370
  00074		 |$M26|
  00074	4604		 mov         r4,r0

; 28   :     BOOL fOk = FALSE;
; 29   :     UCHAR deviceBuf[PNP_QUEUE_SIZE];
; 30   :     DWORD iBytesInQueue = 0;

  00076	2300		 movs        r3,#0

; 31   :     DWORD dwFlags = 0;
; 32   :     SETFNAME(_T("ProcessPnPMsgQueue"));
; 33   : 
; 34   :     // read a message from the message queue -- it should be a device advertisement
; 35   :     memset(deviceBuf, 0, PNP_QUEUE_SIZE);

  00078	a804		 add         r0,sp,#0x10
  0007a	f44f 7258	 mov         r2,#0x360
  0007e	2100		 movs        r1,#0
  00080	9302		 str         r3,[sp,#8]
  00082	9303		 str         r3,[sp,#0xC]
  00084	2500		 movs        r5,#0
  00086	f000 f800	 bl          memset

; 36   :     if ( !ReadMsgQueue(hMsgQ, deviceBuf, PNP_QUEUE_SIZE, &iBytesInQueue, 0, &dwFlags)) {

  0008a	ab03		 add         r3,sp,#0xC
  0008c	9301		 str         r3,[sp,#4]
  0008e	2600		 movs        r6,#0
  00090	ab02		 add         r3,sp,#8
  00092	a904		 add         r1,sp,#0x10
  00094	f44f 7258	 mov         r2,#0x360
  00098	4620		 mov         r0,r4
  0009a	9600		 str         r6,[sp]
  0009c	f000 f800	 bl          ReadMsgQueue
  000a0	b988		 cbnz        r0,|$LN12@ProcessPnP|

; 37   :         // nothing in the queue
; 38   :         PMLOGMSG(ZONE_WARN, (_T("%s: ReadMsgQueue() failed %d\r\n"), pszFname,
; 39   :             GetLastError()));

  000a2	4b30		 ldr         r3,|$LN33@ProcessPnP| ; =|dpCurSettings|
  000a4	f8d3 3440	 ldr         r3,[r3,#0x440]
  000a8	f013 0f02	 tst         r3,#2
  000ac	d04e		 beq         |$LN19@ProcessPnP|
  000ae	f000 f800	 bl          GetLastError
  000b2	492a		 ldr         r1,|$LN31@ProcessPnP| ; =|??_C@_1CG@EGNINIOP@?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs?$AAs?$AAP?$AAn?$AAP?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$AA@|
  000b4	4602		 mov         r2,r0
  000b6	482d		 ldr         r0,|$LN35@ProcessPnP| ; =|??_C@_1DO@DCJBELBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAR?$AAe?$AAa?$AAd?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  000b8	f000 f800	 bl          NKDbgPrintfW
  000bc	f000 f800	 bl          GetLastError
  000c0	4602		 mov         r2,r0
  000c2	482a		 ldr         r0,|$LN35@ProcessPnP| ; =|??_C@_1DO@DCJBELBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAR?$AAe?$AAa?$AAd?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@|

; 40   :     } else if(iBytesInQueue >= sizeof(DEVDETAIL)) {

  000c4	e03f		 b           |$LN24@ProcessPnP|
  000c6		 |$LN12@ProcessPnP|
  000c6	9a02		 ldr         r2,[sp,#8]
  000c8	2a20		 cmp         r2,#0x20
  000ca	d330		 bcc         |$LN10@ProcessPnP|

; 41   :         // process the message
; 42   :         PDEVDETAIL pDevDetail = (PDEVDETAIL) deviceBuf;
; 43   :         
; 44   :         // check for overlarge names
; 45   :         if(pDevDetail->cbName < 0 || pDevDetail->cbName > ((PNP_MAX_NAMELEN - 1) * sizeof(pDevDetail->szName[0]))) {

  000cc	9b0a		 ldr         r3,[sp,#0x28]
  000ce	2b00		 cmp         r3,#0
  000d0	db1f		 blt         |$LN8@ProcessPnP|
  000d2	2bfe		 cmp         r3,#0xFE
  000d4	d81d		 bhi         |$LN8@ProcessPnP|

; 48   :         } else {
; 49   :             // convert the device name to lower case
; 50   :             int i;
; 51   :             for(i = 0; i < (PNP_MAX_NAMELEN - 1) && pDevDetail->szName[i] != 0; i++) {

  000d6	2500		 movs        r5,#0
  000d8	ac04		 add         r4,sp,#0x10
  000da		 |$LL6@ProcessPnP|
  000da	8ba0		 ldrh        r0,[r4,#0x1C]
  000dc	b130		 cbz         r0,|$LN4@ProcessPnP|

; 52   :                 pDevDetail->szName[i] = _totlower(pDevDetail->szName[i]);

  000de	f000 f800	 bl          towlower
  000e2	83a0		 strh        r0,[r4,#0x1C]
  000e4	3501		 adds        r5,#1
  000e6	3402		 adds        r4,#2
  000e8	2d7f		 cmp         r5,#0x7F
  000ea	dbf6		 blt         |$LL6@ProcessPnP|
  000ec		 |$LN4@ProcessPnP|

; 53   :             }
; 54   :             pDevDetail->szName[i] = 0;

  000ec	ab04		 add         r3,sp,#0x10
  000ee	eb03 0345	 add         r3,r3,r5,lsl #1
  000f2	839e		 strh        r6,[r3,#0x1C]

; 55   :             
; 56   :             // add or remove the device -- note that a particular interface may be
; 57   :             // advertised more than once, so these routines must handle that possibility.
; 58   :             if(pDevDetail->fAttached) {

  000f4	9b09		 ldr         r3,[sp,#0x24]
  000f6	b133		 cbz         r3,|$LN3@ProcessPnP|

; 59   :                 AddDevice(&pDevDetail->guidDevClass, pDevDetail->szName, NULL, NULL);

  000f8	a90b		 add         r1,sp,#0x2C
  000fa	a804		 add         r0,sp,#0x10
  000fc	2300		 movs        r3,#0
  000fe	2200		 movs        r2,#0
  00100	f000 f800	 bl          AddDevice

; 60   :             } else {

  00104	e003		 b           |$LN2@ProcessPnP|
  00106		 |$LN3@ProcessPnP|

; 61   :                 RemoveDevice(&pDevDetail->guidDevClass, pDevDetail->szName);

  00106	a90b		 add         r1,sp,#0x2C
  00108	a804		 add         r0,sp,#0x10
  0010a	f000 f800	 bl          RemoveDevice
  0010e		 |$LN2@ProcessPnP|

; 62   :             }
; 63   :             fOk = TRUE;

  0010e	2501		 movs        r5,#1
  00110	e01c		 b           |$LN19@ProcessPnP|
  00112		 |$LN8@ProcessPnP|

; 46   :             PMLOGMSG(ZONE_WARN, (_T("%s: device name longer than %d characters\r\n"), 
; 47   :                 pszFname, PNP_MAX_NAMELEN - 1));

  00112	4b14		 ldr         r3,|$LN33@ProcessPnP| ; =|dpCurSettings|
  00114	f8d3 3440	 ldr         r3,[r3,#0x440]
  00118	f013 0f02	 tst         r3,#2
  0011c	d016		 beq         |$LN19@ProcessPnP|
  0011e	490f		 ldr         r1,|$LN31@ProcessPnP| ; =|??_C@_1CG@EGNINIOP@?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs?$AAs?$AAP?$AAn?$AAP?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$AA@|
  00120	4811		 ldr         r0,|$LN34@ProcessPnP| ; =|??_C@_1FI@ONIMKDGK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAl?$AAo?$AAn?$AAg?$AAe?$AAr?$AA?5?$AAt?$AAh?$AAa?$AAn?$AA?5?$AA?$CF?$AAd?$AA?5?$AAc@|
  00122	227f		 movs        r2,#0x7F
  00124	f000 f800	 bl          NKDbgPrintfW
  00128	480f		 ldr         r0,|$LN34@ProcessPnP| ; =|??_C@_1FI@ONIMKDGK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAl?$AAo?$AAn?$AAg?$AAe?$AAr?$AA?5?$AAt?$AAh?$AAa?$AAn?$AA?5?$AA?$CF?$AAd?$AA?5?$AAc@|
  0012a	227f		 movs        r2,#0x7F

; 64   :         }
; 65   :     } else {

  0012c	e00b		 b           |$LN24@ProcessPnP|
  0012e		 |$LN10@ProcessPnP|

; 66   :         // not enough bytes for a message
; 67   :         PMLOGMSG(ZONE_WARN, (_T("%s: got runt message (%d bytes)\r\n"), pszFname, 
; 68   :             iBytesInQueue));

  0012e	4b0d		 ldr         r3,|$LN33@ProcessPnP| ; =|dpCurSettings|
  00130	f8d3 3440	 ldr         r3,[r3,#0x440]
  00134	f013 0f02	 tst         r3,#2
  00138	d008		 beq         |$LN19@ProcessPnP|
  0013a	4908		 ldr         r1,|$LN31@ProcessPnP| ; =|??_C@_1CG@EGNINIOP@?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs?$AAs?$AAP?$AAn?$AAP?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$AA@|
  0013c	4808		 ldr         r0,|$LN32@ProcessPnP| ; =|??_C@_1EE@EFOEONDD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAg?$AAo?$AAt?$AA?5?$AAr?$AAu?$AAn?$AAt?$AA?5?$AAm?$AAe?$AAs?$AAs?$AAa?$AAg?$AAe?$AA?5?$AA?$CI?$AA?$CF?$AAd?$AA?5?$AAb?$AAy?$AAt?$AAe?$AAs?$AA?$CJ?$AA?$AN@|
  0013e	f000 f800	 bl          NKDbgPrintfW
  00142	9a02		 ldr         r2,[sp,#8]
  00144	4806		 ldr         r0,|$LN32@ProcessPnP| ; =|??_C@_1EE@EFOEONDD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAg?$AAo?$AAt?$AA?5?$AAr?$AAu?$AAn?$AAt?$AA?5?$AAm?$AAe?$AAs?$AAs?$AAa?$AAg?$AAe?$AA?5?$AA?$CI?$AA?$CF?$AAd?$AA?5?$AAb?$AAy?$AAt?$AAe?$AAs?$AA?$CJ?$AA?$AN@|
  00146		 |$LN24@ProcessPnP|
  00146	4905		 ldr         r1,|$LN31@ProcessPnP| ; =|??_C@_1CG@EGNINIOP@?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs?$AAs?$AAP?$AAn?$AAP?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$AA@|
  00148	f000 f800	 bl          CeLogMsg
  0014c		 |$LN19@ProcessPnP|

; 69   :     }
; 70   : 
; 71   :     return fOk;
; 72   : }

  0014c	4628		 mov         r0,r5
  0014e		 |$M29|
  0014e	f20d 3d70	 addw        sp,sp,#0x370
  00152	f000 f800	 bl          __security_pop_cookie
  00156	e8bd 8870	 pop         {r4-r6,r11,pc}
  0015a		 |$LN36@ProcessPnP|
  0015a		 |$M37|
  0015a	defe		 __debugbreak
  0015c		 |$LN30@ProcessPnP|
  0015c		 |$LN31@ProcessPnP|
  0015c	0000 0000	 DCD         |??_C@_1CG@EGNINIOP@?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs?$AAs?$AAP?$AAn?$AAP?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$AA@|
  00160		 |$LN32@ProcessPnP|
  00160	0000 0000	 DCD         |??_C@_1EE@EFOEONDD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAg?$AAo?$AAt?$AA?5?$AAr?$AAu?$AAn?$AAt?$AA?5?$AAm?$AAe?$AAs?$AAs?$AAa?$AAg?$AAe?$AA?5?$AA?$CI?$AA?$CF?$AAd?$AA?5?$AAb?$AAy?$AAt?$AAe?$AAs?$AA?$CJ?$AA?$AN@|
  00164		 |$LN33@ProcessPnP|
  00164	0000 0000	 DCD         |dpCurSettings|
  00168		 |$LN34@ProcessPnP|
  00168	0000 0000	 DCD         |??_C@_1FI@ONIMKDGK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAl?$AAo?$AAn?$AAg?$AAe?$AAr?$AA?5?$AAt?$AAh?$AAa?$AAn?$AA?5?$AA?$CF?$AAd?$AA?5?$AAc@|
  0016c		 |$LN35@ProcessPnP|
  0016c	0000 0000	 DCD         |??_C@_1DO@DCJBELBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAR?$AAe?$AAa?$AAd?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  00170		 |$M27|

			 ENDP  ; |?ProcessPnPMsgQueue@@YAHPAX@Z|, ProcessPnPMsgQueue

	EXPORT	|??_C@_1CK@KPKINJCK@?$AA?$CL?$AA?$CF?$AAs?$AA?3?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BM@DAIDPNHH@?$AAP?$AAn?$AAp?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BO@OBACGECJ@?$AAP?$AAn?$AAP?$AAP?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA2?$AA5?$AA6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FK@FFHKOOHH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AAs?$AA?$CI?$AA?$CJ@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@| [ DATA ] ; `string'
	EXPORT	|??_C@_1IE@LMBDNHOB@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FA@PABKGHKA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs?$AAs?$AAP?$AAn?$AAP?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$CJ?$AA?5?$AAf@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DC@FJNGMGD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAs?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1HC@LPAHHGNK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAW?$AAa?$AAi?$AAt?$AAF?$AAo?$AAr?$AAM?$AAu?$AAl?$AAt?$AAi?$AAp?$AAl?$AAe?$AAO?$AAb?$AAj?$AAe?$AAc?$AAt?$AAs?$AA?$CI?$AA?$CJ?$AA?5?$AAr?$AAe?$AAt@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BO@HFODHNIK@?$AA?9?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAi?$AAt?$AAi?$AAn?$AAg?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|PnpThreadProc|
	IMPORT	|GetPMThreadPriority|
	IMPORT	|CeSetThreadPriority|
	IMPORT	|ghevPmShutdown|
	IMPORT	|gpDeviceLists|
	IMPORT	|RequestDeviceNotifications|
	IMPORT	|ghevPowerManagerReady|
	IMPORT	|WaitForMultipleObjects|
	IMPORT	|StopDeviceNotifications|

  00010			 AREA	 |.pdata|, PDATA
|$pdata1$PnpThreadProc| DCD imagerel |$LN64@PnpThreadP|
	DCD	0x11760381

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BO@HFODHNIK@?$AA?9?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAi?$AAt?$AAi?$AAn?$AAg?$AA?$AN?$AA?6?$AA?$AA@| DCB "-"
	DCB	0x0, "%", 0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "x"
	DCB	0x0, "i", 0x0, "t", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HC@LPAHHGNK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAW?$AAa?$AAi?$AAt?$AAF?$AAo?$AAr?$AAM?$AAu?$AAl?$AAt?$AAi?$AAp?$AAl?$AAe?$AAO?$AAb?$AAj?$AAe?$AAc?$AAt?$AAs?$AA?$CI?$AA?$CJ?$AA?5?$AAr?$AAe?$AAt@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "W", 0x0, "a", 0x0, "i"
	DCB	0x0, "t", 0x0, "F", 0x0, "o", 0x0, "r", 0x0, "M", 0x0, "u"
	DCB	0x0, "l", 0x0, "t", 0x0, "i", 0x0, "p", 0x0, "l", 0x0, "e"
	DCB	0x0, "O", 0x0, "b", 0x0, "j", 0x0, "e", 0x0, "c", 0x0, "t"
	DCB	0x0, "s", 0x0, "(", 0x0, ")", 0x0, " ", 0x0, "r", 0x0, "e"
	DCB	0x0, "t", 0x0, "u", 0x0, "r", 0x0, "n", 0x0, "e", 0x0, "d"
	DCB	0x0, " ", 0x0, "%", 0x0, "d", 0x0, ",", 0x0, " ", 0x0, "s"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "u", 0x0, "s", 0x0, " "
	DCB	0x0, "i", 0x0, "s", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DC@FJNGMGD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAs?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "s", 0x0, "h", 0x0, "u"
	DCB	0x0, "t", 0x0, "d", 0x0, "o", 0x0, "w", 0x0, "n", 0x0, " "
	DCB	0x0, "e", 0x0, "v", 0x0, "e", 0x0, "n", 0x0, "t", 0x0, " "
	DCB	0x0, "s", 0x0, "e", 0x0, "t", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@| DCB "U", 0x0
	DCB	"n", 0x0, "k", 0x0, "n", 0x0, "o", 0x0, "w", 0x0, "n", 0x0
	DCB	0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FA@PABKGHKA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs?$AAs?$AAP?$AAn?$AAP?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$CJ?$AA?5?$AAf@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "P", 0x0, "r", 0x0, "o"
	DCB	0x0, "c", 0x0, "e", 0x0, "s", 0x0, "s", 0x0, "P", 0x0, "n"
	DCB	0x0, "P", 0x0, "M", 0x0, "s", 0x0, "g", 0x0, "Q", 0x0, "u"
	DCB	0x0, "e", 0x0, "u", 0x0, "e", 0x0, "(", 0x0, "0", 0x0, "x"
	DCB	0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, ")", 0x0, " "
	DCB	0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1IE@LMBDNHOB@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@| DCB "c"
	DCB	0x0, ":", 0x0, "\\", 0x0, "w", 0x0, "i", 0x0, "n", 0x0, "c"
	DCB	0x0, "e", 0x0, "8", 0x0, "0", 0x0, "0", 0x0, "\\", 0x0, "p"
	DCB	0x0, "l", 0x0, "a", 0x0, "t", 0x0, "f", 0x0, "o", 0x0, "r"
	DCB	0x0, "m", 0x0, "\\", 0x0, "r", 0x0, "r", 0x0, "m", 0x0, "_"
	DCB	0x0, "p", 0x0, "p", 0x0, "c", 0x0, "_", 0x0, "w", 0x0, "i"
	DCB	0x0, "n", 0x0, "d", 0x0, "o", 0x0, "w", 0x0, "s", 0x0, "\\"
	DCB	0x0, "s", 0x0, "r", 0x0, "c", 0x0, "\\", 0x0, "d", 0x0, "r"
	DCB	0x0, "i", 0x0, "v", 0x0, "e", 0x0, "r", 0x0, "s", 0x0, "\\"
	DCB	0x0, "p", 0x0, "m", 0x0, "\\", 0x0, "m", 0x0, "d", 0x0, "d"
	DCB	0x0, "\\", 0x0, "p", 0x0, "m", 0x0, "p", 0x0, "n", 0x0, "p"
	DCB	0x0, ".", 0x0, "c", 0x0, "p", 0x0, "p", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "D", 0x0, "E", 0x0, "B"
	DCB	0x0, "U", 0x0, "G", 0x0, "C", 0x0, "H", 0x0, "K", 0x0, " "
	DCB	0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d"
	DCB	0x0, " ", 0x0, "i", 0x0, "n", 0x0, " ", 0x0, "f", 0x0, "i"
	DCB	0x0, "l", 0x0, "e", 0x0, " ", 0x0, "%", 0x0, "s", 0x0, " "
	DCB	0x0, "a", 0x0, "t", 0x0, " ", 0x0, "l", 0x0, "i", 0x0, "n"
	DCB	0x0, "e", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, " ", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FK@FFHKOOHH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AAs?$AA?$CI?$AA?$CJ@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "R", 0x0, "e", 0x0, "q"
	DCB	0x0, "u", 0x0, "e", 0x0, "s", 0x0, "t", 0x0, "D", 0x0, "e"
	DCB	0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "N", 0x0, "o"
	DCB	0x0, "t", 0x0, "i", 0x0, "f", 0x0, "i", 0x0, "c", 0x0, "a"
	DCB	0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n", 0x0, "s", 0x0, "("
	DCB	0x0, ")", 0x0, " ", 0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l"
	DCB	0x0, "e", 0x0, "d", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BO@OBACGECJ@?$AAP?$AAn?$AAP?$AAP?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA2?$AA5?$AA6?$AA?$AA@| DCB "P"
	DCB	0x0, "n", 0x0, "P", 0x0, "P", 0x0, "r", 0x0, "i", 0x0, "o"
	DCB	0x0, "r", 0x0, "i", 0x0, "t", 0x0, "y", 0x0, "2", 0x0, "5"
	DCB	0x0, "6", 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BM@DAIDPNHH@?$AAP?$AAn?$AAp?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@| DCB "P"
	DCB	0x0, "n", 0x0, "p", 0x0, "T", 0x0, "h", 0x0, "r", 0x0, "e"
	DCB	0x0, "a", 0x0, "d", 0x0, "P", 0x0, "r", 0x0, "o", 0x0, "c"
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CK@KPKINJCK@?$AA?$CL?$AA?$CF?$AAs?$AA?3?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@| DCB "+"
	DCB	0x0, "%", 0x0, "s", 0x0, ":", 0x0, " ", 0x0, "t", 0x0, "h"
	DCB	0x0, "r", 0x0, "e", 0x0, "a", 0x0, "d", 0x0, " ", 0x0, "0"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmpnp.cpp
; File c:\wince800\public\common\sdk\inc\kfuncs.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmpnp.cpp
; File c:\wince800\public\common\sdk\inc\kfuncs.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmpnp.cpp
; File c:\wince800\public\common\sdk\inc\kfuncs.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmpnp.cpp
; File c:\wince800\public\common\sdk\inc\kfuncs.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmpnp.cpp
; File c:\wince800\public\common\sdk\inc\kfuncs.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmpnp.cpp

  00170			 AREA	 |.text|, CODE, THUMB

  00170		 |PnpThreadProc| PROC

; 81   : {

  00170		 |$LN64@PnpThreadP|
  00170	e92d 4ff0	 push        {r4-r11,lr}
  00174	f20d 0b1c	 addw        r11,sp,#0x1C
  00178	b0c5		 sub         sp,sp,#0x114
  0017a		 |$M62|

; 92   :     PMLOGMSG(ZONE_INIT, (_T("+%s: thread 0x%08x\r\n"), pszFname, GetCurrentThreadId()));

  0017a	4d7b		 ldr         r5,|$LN81@PnpThreadP| ; =|dpCurSettings|
  0017c	4681		 mov         r9,r0
  0017e	f8d5 3440	 ldr         r3,[r5,#0x440]
  00182	f013 0f04	 tst         r3,#4
  00186	d00f		 beq         |$LN21@PnpThreadP|
; File c:\wince800\public\common\sdk\inc\kfuncs.h

; 372  :     return __GetUserKData (SYSHANDLE_OFFSET + (SH_CURTHREAD * sizeof(HANDLE)));

  00188	2008		 movs        r0,#8
  0018a	f000 f800	 bl          __GetUserKData
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmpnp.cpp

; 92   :     PMLOGMSG(ZONE_INIT, (_T("+%s: thread 0x%08x\r\n"), pszFname, GetCurrentThreadId()));

  0018e	4969		 ldr         r1,|$LN68@PnpThreadP| ; =|??_C@_1BM@DAIDPNHH@?$AAP?$AAn?$AAp?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@|
; File c:\wince800\public\common\sdk\inc\kfuncs.h

; 372  :     return __GetUserKData (SYSHANDLE_OFFSET + (SH_CURTHREAD * sizeof(HANDLE)));

  00190	4602		 mov         r2,r0
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmpnp.cpp

; 92   :     PMLOGMSG(ZONE_INIT, (_T("+%s: thread 0x%08x\r\n"), pszFname, GetCurrentThreadId()));

  00192	4874		 ldr         r0,|$LN80@PnpThreadP| ; =|??_C@_1CK@KPKINJCK@?$AA?$CL?$AA?$CF?$AAs?$AA?3?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  00194	f000 f800	 bl          NKDbgPrintfW
; File c:\wince800\public\common\sdk\inc\kfuncs.h

; 372  :     return __GetUserKData (SYSHANDLE_OFFSET + (SH_CURTHREAD * sizeof(HANDLE)));

  00198	2008		 movs        r0,#8
  0019a	f000 f800	 bl          __GetUserKData
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmpnp.cpp

; 92   :     PMLOGMSG(ZONE_INIT, (_T("+%s: thread 0x%08x\r\n"), pszFname, GetCurrentThreadId()));

  0019e	4965		 ldr         r1,|$LN68@PnpThreadP| ; =|??_C@_1BM@DAIDPNHH@?$AAP?$AAn?$AAp?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@|
; File c:\wince800\public\common\sdk\inc\kfuncs.h

; 372  :     return __GetUserKData (SYSHANDLE_OFFSET + (SH_CURTHREAD * sizeof(HANDLE)));

  001a0	4602		 mov         r2,r0
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmpnp.cpp

; 92   :     PMLOGMSG(ZONE_INIT, (_T("+%s: thread 0x%08x\r\n"), pszFname, GetCurrentThreadId()));

  001a2	4870		 ldr         r0,|$LN80@PnpThreadP| ; =|??_C@_1CK@KPKINJCK@?$AA?$CL?$AA?$CF?$AAs?$AA?3?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  001a4	f000 f800	 bl          CeLogMsg
  001a8		 |$LN21@PnpThreadP|

; 93   : 
; 94   :     // set the thread priority
; 95   :     if(!GetPMThreadPriority(_T("PnPPriority256"), &iPriority)) {

  001a8	486d		 ldr         r0,|$LN79@PnpThreadP| ; =|??_C@_1BO@OBACGECJ@?$AAP?$AAn?$AAP?$AAP?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA2?$AA5?$AA6?$AA?$AA@|
  001aa	4669		 mov         r1,sp
  001ac	f000 f800	 bl          GetPMThreadPriority
  001b0	b910		 cbnz        r0,|$LN58@PnpThreadP|

; 96   :         iPriority = DEF_PNP_THREAD_PRIORITY;

  001b2	21f9		 movs        r1,#0xF9
  001b4	9100		 str         r1,[sp]
  001b6	e000		 b           |$LN18@PnpThreadP|
  001b8		 |$LN58@PnpThreadP|
  001b8	9900		 ldr         r1,[sp]
  001ba		 |$LN18@PnpThreadP|

; 97   :     }
; 98   :     CeSetThreadPriority(GetCurrentThread(), iPriority);

  001ba	2041		 movs        r0,#0x41
  001bc	f000 f800	 bl          CeSetThreadPriority

; 99   : 
; 100  :     // first list entry is the exit event
; 101  :     hEvents[dwNumEvents++] = ghevPmShutdown;

  001c0	f8df 8198	 ldr         r8,|$LN78@PnpThreadP| ; =|ghevPmShutdown|

; 102  : 
; 103  :     // set up device notifications
; 104  :     for(pdl = gpDeviceLists; pdl != NULL && dwNumEvents < _countof(hEvents); pdl = pdl->pNext) {

  001c4	f8df a190	 ldr         r10,|$LN77@PnpThreadP| ; =|gpDeviceLists|
  001c8	2601		 movs        r6,#1
  001ca	f8d8 3000	 ldr         r3,[r8]
  001ce	f8da 4000	 ldr         r4,[r10]
  001d2	9304		 str         r3,[sp,#0x10]
  001d4	b32c		 cbz         r4,|$LN55@PnpThreadP|

; 97   :     }
; 98   :     CeSetThreadPriority(GetCurrentThread(), iPriority);

  001d6	af05		 add         r7,sp,#0x14
  001d8		 |$LL17@PnpThreadP|

; 102  : 
; 103  :     // set up device notifications
; 104  :     for(pdl = gpDeviceLists; pdl != NULL && dwNumEvents < _countof(hEvents); pdl = pdl->pNext) {

  001d8	2e40		 cmp         r6,#0x40
  001da	d220		 bcs         |$LN15@PnpThreadP|

; 105  :         hEvents[dwNumEvents++] = pdl->hMsgQ;

  001dc	68a3		 ldr         r3,[r4,#8]

; 106  :         pdl->hnClass = RequestDeviceNotifications(pdl->pGuid, pdl->hMsgQ, TRUE);

  001de	2201		 movs        r2,#1
  001e0	3601		 adds        r6,#1
  001e2	f847 3b04	 str         r3,[r7],#4
  001e6	68a1		 ldr         r1,[r4,#8]
  001e8	6820		 ldr         r0,[r4]
  001ea	f000 f800	 bl          RequestDeviceNotifications
  001ee	60e0		 str         r0,[r4,#0xC]

; 107  :         if(pdl->hnClass == NULL) {

  001f0	b990		 cbnz        r0,|$LN16@PnpThreadP|

; 108  :             PMLOGMSG(ZONE_WARN, (_T("%s: RequestDeviceNotifications() failed %d\r\n"),
; 109  :                 pszFname, GetLastError()));

  001f2	f8d5 3440	 ldr         r3,[r5,#0x440]
  001f6	f013 0f02	 tst         r3,#2
  001fa	d00d		 beq         |$LN16@PnpThreadP|
  001fc	f000 f800	 bl          GetLastError
  00200	494c		 ldr         r1,|$LN68@PnpThreadP| ; =|??_C@_1BM@DAIDPNHH@?$AAP?$AAn?$AAp?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@|
  00202	4602		 mov         r2,r0
  00204	4853		 ldr         r0,|$LN76@PnpThreadP| ; =|??_C@_1FK@FFHKOOHH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AAs?$AA?$CI?$AA?$CJ@|
  00206	f000 f800	 bl          NKDbgPrintfW
  0020a	f000 f800	 bl          GetLastError
  0020e	4949		 ldr         r1,|$LN68@PnpThreadP| ; =|??_C@_1BM@DAIDPNHH@?$AAP?$AAn?$AAp?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@|
  00210	4602		 mov         r2,r0
  00212	4850		 ldr         r0,|$LN76@PnpThreadP| ; =|??_C@_1FK@FFHKOOHH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AAs?$AA?$CI?$AA?$CJ@|
  00214	f000 f800	 bl          CeLogMsg
  00218		 |$LN16@PnpThreadP|

; 102  : 
; 103  :     // set up device notifications
; 104  :     for(pdl = gpDeviceLists; pdl != NULL && dwNumEvents < _countof(hEvents); pdl = pdl->pNext) {

  00218	6964		 ldr         r4,[r4,#0x14]
  0021a	2c00		 cmp         r4,#0
  0021c	d1dc		 bne         |$LL17@PnpThreadP|
  0021e		 |$LN15@PnpThreadP|

; 110  :         }
; 111  :     }
; 112  :     DEBUGCHK(dwNumEvents > 1);

  0021e	2e01		 cmp         r6,#1
  00220	d806		 bhi         |$LN26@PnpThreadP|
  00222		 |$LN55@PnpThreadP|
  00222	4a49		 ldr         r2,|$LN73@PnpThreadP| ; =|??_C@_1IE@LMBDNHOB@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00224	4846		 ldr         r0,|$LN71@PnpThreadP| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00226	2370		 movs        r3,#0x70
  00228	4629		 mov         r1,r5
  0022a	f000 f800	 bl          NKDbgPrintfW
  0022e	defe		 __debugbreak
  00230		 |$LN26@PnpThreadP|
; File c:\wince800\public\common\sdk\inc\kfuncs.h

; 244  :     return EventModify(h,EVENT_SET);

  00230	2103		 movs        r1,#3
  00232	4648		 mov         r0,r9
  00234	f000 f800	 bl          EventModify
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmpnp.cpp

; 117  :     HANDLE hInit[2] = {ghevPowerManagerReady, ghevPmShutdown};

  00238	4b45		 ldr         r3,|$LN75@PnpThreadP| ; =|ghevPowerManagerReady|

; 118  :     fDone = (WaitForMultipleObjects(_countof(hInit), hInit, FALSE, INFINITE)!= WAIT_OBJECT_0);

  0023a	a902		 add         r1,sp,#8
  0023c	2200		 movs        r2,#0
  0023e	681b		 ldr         r3,[r3]
  00240	2002		 movs        r0,#2
  00242	9302		 str         r3,[sp,#8]
  00244	f8d8 3000	 ldr         r3,[r8]
  00248	9303		 str         r3,[sp,#0xC]
  0024a	f06f 0300	 mvn         r3,#0
  0024e	f000 f800	 bl          WaitForMultipleObjects
  00252	2800		 cmp         r0,#0
  00254	d151		 bne         |$LN59@PnpThreadP|
  00256	af04		 add         r7,sp,#0x10
  00258		 |$LL13@PnpThreadP|

; 119  : 
; 120  :     // wait for new devices to arrive
; 121  :     while(!fDone) {
; 122  :         dwStatus = WaitForMultipleObjects(dwNumEvents, hEvents, FALSE, INFINITE);

  00258	f06f 0300	 mvn         r3,#0
  0025c	2200		 movs        r2,#0
  0025e	a904		 add         r1,sp,#0x10
  00260	4630		 mov         r0,r6
  00262	f000 f800	 bl          WaitForMultipleObjects
  00266	4604		 mov         r4,r0

; 123  :         if(dwStatus == (WAIT_OBJECT_0 + 0)) {

  00268	b3d4		 cbz         r4,|$LN57@PnpThreadP|

; 125  :             fDone = TRUE;
; 126  :         } else if(dwStatus > WAIT_OBJECT_0 && dwStatus <= (WAIT_OBJECT_0 + MAXIMUM_WAIT_OBJECTS)) { 

  0026a	1e63		 subs        r3,r4,#1
  0026c	2b3f		 cmp         r3,#0x3F
  0026e	d821		 bhi         |$LN9@PnpThreadP|

; 127  :             dwStatus -= WAIT_OBJECT_0;
; 128  :             if (dwStatus < MAXIMUM_WAIT_OBJECTS) {

  00270	2c40		 cmp         r4,#0x40
  00272	d217		 bcs         |$LN8@PnpThreadP|

; 129  :                 fOk = ProcessPnPMsgQueue(hEvents[dwStatus]);

  00274	f857 0020	 ldr         r0,[r7,r0,lsl #2]
  00278	f000 f800	 bl          |?ProcessPnPMsgQueue@@YAHPAX@Z|

; 130  :                 if(!fOk) {

  0027c	2800		 cmp         r0,#0
  0027e	d1eb		 bne         |$LL13@PnpThreadP|

; 131  :                     PMLOGMSG(ZONE_WARN, (_T("%s: ProcessPnPMsgQueue(0x%08x) failed\r\n"), pszFname,
; 132  :                         hEvents[dwStatus]));

  00280	f8d5 3440	 ldr         r3,[r5,#0x440]
  00284	f013 0f02	 tst         r3,#2
  00288	d0e6		 beq         |$LL13@PnpThreadP|
  0028a	f857 2024	 ldr         r2,[r7,r4,lsl #2]
  0028e	4929		 ldr         r1,|$LN68@PnpThreadP| ; =|??_C@_1BM@DAIDPNHH@?$AAP?$AAn?$AAp?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@|
  00290	482e		 ldr         r0,|$LN74@PnpThreadP| ; =|??_C@_1FA@PABKGHKA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs?$AAs?$AAP?$AAn?$AAP?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$CJ?$AA?5?$AAf@|
  00292	f000 f800	 bl          NKDbgPrintfW
  00296	f857 2024	 ldr         r2,[r7,r4,lsl #2]
  0029a	4926		 ldr         r1,|$LN68@PnpThreadP| ; =|??_C@_1BM@DAIDPNHH@?$AAP?$AAn?$AAp?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@|
  0029c	482b		 ldr         r0,|$LN74@PnpThreadP| ; =|??_C@_1FA@PABKGHKA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs?$AAs?$AAP?$AAn?$AAP?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$CJ?$AA?5?$AAf@|
  0029e	f000 f800	 bl          CeLogMsg

; 133  :                 }
; 134  :             } else {

  002a2	e7d9		 b           |$LL13@PnpThreadP|
  002a4		 |$LN8@PnpThreadP|

; 135  :                 ASSERT(FALSE);

  002a4	4a28		 ldr         r2,|$LN73@PnpThreadP| ; =|??_C@_1IE@LMBDNHOB@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  002a6	4927		 ldr         r1,|$LN72@PnpThreadP| ; =|??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  002a8	4825		 ldr         r0,|$LN71@PnpThreadP| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  002aa	2387		 movs        r3,#0x87
  002ac	f000 f800	 bl          NKDbgPrintfW
  002b0	defe		 __debugbreak
  002b2	e7d1		 b           |$LL13@PnpThreadP|
  002b4		 |$LN9@PnpThreadP|

; 124  :             PMLOGMSG(ZONE_WARN, (_T("%s: shutdown event set\r\n"), pszFname));

  002b4	f8d5 3440	 ldr         r3,[r5,#0x440]

; 136  :             }
; 137  :         } else {
; 138  :             PMLOGMSG(ZONE_WARN, (_T("%s: WaitForMultipleObjects() returned %d, status is %d\r\n"),
; 139  :                 pszFname, dwStatus, GetLastError())); 

  002b8	f013 0f02	 tst         r3,#2
  002bc	d01d		 beq         |$LN59@PnpThreadP|
  002be	f000 f800	 bl          GetLastError
  002c2	491c		 ldr         r1,|$LN68@PnpThreadP| ; =|??_C@_1BM@DAIDPNHH@?$AAP?$AAn?$AAp?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@|
  002c4	4603		 mov         r3,r0
  002c6	481d		 ldr         r0,|$LN70@PnpThreadP| ; =|??_C@_1HC@LPAHHGNK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAW?$AAa?$AAi?$AAt?$AAF?$AAo?$AAr?$AAM?$AAu?$AAl?$AAt?$AAi?$AAp?$AAl?$AAe?$AAO?$AAb?$AAj?$AAe?$AAc?$AAt?$AAs?$AA?$CI?$AA?$CJ?$AA?5?$AAr?$AAe?$AAt@|
  002c8	4622		 mov         r2,r4
  002ca	f000 f800	 bl          NKDbgPrintfW
  002ce	f000 f800	 bl          GetLastError
  002d2	4918		 ldr         r1,|$LN68@PnpThreadP| ; =|??_C@_1BM@DAIDPNHH@?$AAP?$AAn?$AAp?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@|
  002d4	4603		 mov         r3,r0
  002d6	4819		 ldr         r0,|$LN70@PnpThreadP| ; =|??_C@_1HC@LPAHHGNK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAW?$AAa?$AAi?$AAt?$AAF?$AAo?$AAr?$AAM?$AAu?$AAl?$AAt?$AAi?$AAp?$AAl?$AAe?$AAO?$AAb?$AAj?$AAe?$AAc?$AAt?$AAs?$AA?$CI?$AA?$CJ?$AA?5?$AAr?$AAe?$AAt@|
  002d8	4622		 mov         r2,r4
  002da	f000 f800	 bl          CeLogMsg
  002de	e00c		 b           |$LN59@PnpThreadP|
  002e0		 |$LN57@PnpThreadP|

; 124  :             PMLOGMSG(ZONE_WARN, (_T("%s: shutdown event set\r\n"), pszFname));

  002e0	f8d5 3440	 ldr         r3,[r5,#0x440]
  002e4	f013 0f02	 tst         r3,#2
  002e8	d007		 beq         |$LN59@PnpThreadP|
  002ea	4912		 ldr         r1,|$LN68@PnpThreadP| ; =|??_C@_1BM@DAIDPNHH@?$AAP?$AAn?$AAp?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@|
  002ec	4812		 ldr         r0,|$LN69@PnpThreadP| ; =|??_C@_1DC@FJNGMGD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAs?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  002ee	f000 f800	 bl          NKDbgPrintfW
  002f2	4910		 ldr         r1,|$LN68@PnpThreadP| ; =|??_C@_1BM@DAIDPNHH@?$AAP?$AAn?$AAp?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@|
  002f4	4810		 ldr         r0,|$LN69@PnpThreadP| ; =|??_C@_1DC@FJNGMGD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAs?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  002f6	f000 f800	 bl          CeLogMsg
  002fa		 |$LN59@PnpThreadP|

; 140  :             fDone = TRUE;
; 141  :             break;
; 142  :         }
; 143  :     }
; 144  : 
; 145  :     // release resources
; 146  :     for(pdl = gpDeviceLists; pdl != NULL; pdl = pdl->pNext) {

  002fa	f8da 4000	 ldr         r4,[r10]
  002fe	e004		 b           |$LN60@PnpThreadP|
  00300		 |$LL4@PnpThreadP|

; 147  :         if(pdl->hnClass != NULL) StopDeviceNotifications(pdl->hnClass);

  00300	68e0		 ldr         r0,[r4,#0xC]
  00302	b108		 cbz         r0,|$LN3@PnpThreadP|
  00304	f000 f800	 bl          StopDeviceNotifications
  00308		 |$LN3@PnpThreadP|

; 140  :             fDone = TRUE;
; 141  :             break;
; 142  :         }
; 143  :     }
; 144  : 
; 145  :     // release resources
; 146  :     for(pdl = gpDeviceLists; pdl != NULL; pdl = pdl->pNext) {

  00308	6964		 ldr         r4,[r4,#0x14]
  0030a		 |$LN60@PnpThreadP|
  0030a	2c00		 cmp         r4,#0
  0030c	d1f8		 bne         |$LL4@PnpThreadP|

; 148  :     }
; 149  : 
; 150  :     // all done
; 151  :     PMLOGMSG(ZONE_INIT | ZONE_WARN, (_T("-%s: exiting\r\n"), pszFname));

  0030e	f8d5 3440	 ldr         r3,[r5,#0x440]
  00312	f013 0f06	 tst         r3,#6
  00316	d007		 beq         |$LN37@PnpThreadP|
  00318	4906		 ldr         r1,|$LN68@PnpThreadP| ; =|??_C@_1BM@DAIDPNHH@?$AAP?$AAn?$AAp?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@|
  0031a	4805		 ldr         r0,|$LN67@PnpThreadP| ; =|??_C@_1BO@HFODHNIK@?$AA?9?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAi?$AAt?$AAi?$AAn?$AAg?$AA?$AN?$AA?6?$AA?$AA@|
  0031c	f000 f800	 bl          NKDbgPrintfW
  00320	4904		 ldr         r1,|$LN68@PnpThreadP| ; =|??_C@_1BM@DAIDPNHH@?$AAP?$AAn?$AAp?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@|
  00322	4803		 ldr         r0,|$LN67@PnpThreadP| ; =|??_C@_1BO@HFODHNIK@?$AA?9?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAi?$AAt?$AAi?$AAn?$AAg?$AA?$AN?$AA?6?$AA?$AA@|
  00324	f000 f800	 bl          CeLogMsg
  00328		 |$LN37@PnpThreadP|

; 152  :     return 0;

  00328	2000		 movs        r0,#0
  0032a		 |$M65|

; 153  : }

  0032a	b045		 add         sp,sp,#0x114
  0032c	e8bd 8ff0	 pop         {r4-r11,pc}
  00330		 |$LN66@PnpThreadP|
  00330		 |$LN67@PnpThreadP|
  00330	0000 0000	 DCD         |??_C@_1BO@HFODHNIK@?$AA?9?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAi?$AAt?$AAi?$AAn?$AAg?$AA?$AN?$AA?6?$AA?$AA@|
  00334		 |$LN68@PnpThreadP|
  00334	0000 0000	 DCD         |??_C@_1BM@DAIDPNHH@?$AAP?$AAn?$AAp?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@|
  00338		 |$LN69@PnpThreadP|
  00338	0000 0000	 DCD         |??_C@_1DC@FJNGMGD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAs?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  0033c		 |$LN70@PnpThreadP|
  0033c	0000 0000	 DCD         |??_C@_1HC@LPAHHGNK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAW?$AAa?$AAi?$AAt?$AAF?$AAo?$AAr?$AAM?$AAu?$AAl?$AAt?$AAi?$AAp?$AAl?$AAe?$AAO?$AAb?$AAj?$AAe?$AAc?$AAt?$AAs?$AA?$CI?$AA?$CJ?$AA?5?$AAr?$AAe?$AAt@|
  00340		 |$LN71@PnpThreadP|
  00340	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00344		 |$LN72@PnpThreadP|
  00344	0000 0000	 DCD         |??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  00348		 |$LN73@PnpThreadP|
  00348	0000 0000	 DCD         |??_C@_1IE@LMBDNHOB@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  0034c		 |$LN74@PnpThreadP|
  0034c	0000 0000	 DCD         |??_C@_1FA@PABKGHKA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs?$AAs?$AAP?$AAn?$AAP?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$CJ?$AA?5?$AAf@|
  00350		 |$LN75@PnpThreadP|
  00350	0000 0000	 DCD         |ghevPowerManagerReady|
  00354		 |$LN76@PnpThreadP|
  00354	0000 0000	 DCD         |??_C@_1FK@FFHKOOHH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AAs?$AA?$CI?$AA?$CJ@|
  00358		 |$LN77@PnpThreadP|
  00358	0000 0000	 DCD         |gpDeviceLists|
  0035c		 |$LN78@PnpThreadP|
  0035c	0000 0000	 DCD         |ghevPmShutdown|
  00360		 |$LN79@PnpThreadP|
  00360	0000 0000	 DCD         |??_C@_1BO@OBACGECJ@?$AAP?$AAn?$AAP?$AAP?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA2?$AA5?$AA6?$AA?$AA@|
  00364		 |$LN80@PnpThreadP|
  00364	0000 0000	 DCD         |??_C@_1CK@KPKINJCK@?$AA?$CL?$AA?$CF?$AAs?$AA?3?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  00368		 |$LN81@PnpThreadP|
  00368	0000 0000	 DCD         |dpCurSettings|
  0036c		 |$M63|

			 ENDP  ; |PnpThreadProc|

	END
