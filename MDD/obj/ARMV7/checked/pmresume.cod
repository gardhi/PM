; Listing generated by Microsoft (R) Optimizing Compiler Version 17.00.50727.114 

	TTL	C:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmresume.cpp
	THUMB

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|SetEvent|
	IMPORT	|EventModify|
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\kfuncs.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |SetEvent| PROC

; 244  :     return EventModify(h,EVENT_SET);

  00000	2103		 movs        r1,#3
  00002		 |$M4|
  00002	f000 9000	 b           EventModify

			 ENDP  ; |SetEvent|

	EXPORT	|GetCurrentThread|
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\kfuncs.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |GetCurrentThread| PROC

; 358  :     return ((HANDLE)(SH_CURTHREAD+SYS_HANDLE_BASE));

  00000	2041		 movs        r0,#0x41
  00002		 |$M4|

; 359  : }

  00002	4770		 bx          lr

			 ENDP  ; |GetCurrentThread|

	EXPORT	|GetCurrentThreadId|
	IMPORT	|__GetUserKData|
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\kfuncs.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |GetCurrentThreadId| PROC

; 372  :     return __GetUserKData (SYSHANDLE_OFFSET + (SH_CURTHREAD * sizeof(HANDLE)));

  00000	2008		 movs        r0,#8
  00002		 |$M4|
  00002	f000 9000	 b           __GetUserKData

			 ENDP  ; |GetCurrentThreadId|

	IMPORT	|__security_push_cookie|
	IMPORT	|__security_pop_cookie|
	IMPORT	|__GSHandlerCheck|
	IMPORT	|StringCchVPrintfW|
	IMPORT	|StringCchLengthW|
	IMPORT	|CeLogData|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$CeLogMsg| DCD imagerel |$LN8@CeLogMsg|
	DCD	imagerel |$unwind2$CeLogMsg|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$CeLogMsg| DCD 0x44b00032
	DCD	0x1e889e8
	DCD	0x400a8fb
	DCD	0x8801e8ff
	DCD	0xff05ef00
	DCD	imagerel |__GSHandlerCheck|
	DCD	0xffffffe5
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\celog.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |CeLogMsg| PROC

; 1208 : {

  00000		 |$LN8@CeLogMsg|
  00000	b40f		 push        {r0-r3}
  00002	e92d 4800	 push        {r11,lr}
  00006	46eb		 mov         r11,sp
  00008	f000 f800	 bl          __security_push_cookie
  0000c	f2ad 2d24	 subw        sp,sp,#0x224
  00010		 |$M6|
  00010	4602		 mov         r2,r0

; 1209 :     va_list arglist;
; 1210 :     WCHAR   szTemp[MAX_PATH];
; 1211 :     size_t  cchLen;
; 1212 :     HRESULT hr;
; 1213 : 
; 1214 :     // Compose a single string using the input args
; 1215 :     va_start(arglist, szFormat);
; 1216 :     hr = StringCchVPrintfW(szTemp, MAX_PATH, szFormat, arglist);

  00012	a806		 add         r0,sp,#0x18
  00014	ab8d		 add         r3,sp,#0x234
  00016	f44f 7182	 mov         r1,#0x104
  0001a	928c		 str         r2,[sp,#0x230]
  0001c	f000 f800	 bl          StringCchVPrintfW

; 1217 :     if (SUCCEEDED(hr)) {

  00020	2800		 cmp         r0,#0
  00022	db17		 blt         |$LN1@CeLogMsg|

; 1218 :         hr = StringCchLengthW(szTemp, MAX_PATH, &cchLen);

  00024	aa04		 add         r2,sp,#0x10
  00026	a806		 add         r0,sp,#0x18
  00028	f44f 7182	 mov         r1,#0x104
  0002c	f000 f800	 bl          StringCchLengthW

; 1219 :         if (SUCCEEDED(hr)) {

  00030	2800		 cmp         r0,#0
  00032	db0f		 blt         |$LN1@CeLogMsg|

; 1220 :             CeLogData(TRUE, CELID_RAW_WCHAR, szTemp, (WORD)((cchLen + 1) * sizeof(WCHAR)),
; 1221 :                       0, CELZONE_ALWAYSON, 0, FALSE);

  00034	f04f 4380	 mov         r3,#0x40000000
  00038	9301		 str         r3,[sp,#4]
  0003a	9b04		 ldr         r3,[sp,#0x10]
  0003c	2200		 movs        r2,#0
  0003e	9203		 str         r2,[sp,#0xC]
  00040	3301		 adds        r3,#1
  00042	005b		 lsls        r3,r3,#1
  00044	9202		 str         r2,[sp,#8]
  00046	9200		 str         r2,[sp]
  00048	aa06		 add         r2,sp,#0x18
  0004a	214a		 movs        r1,#0x4A
  0004c	b29b		 uxth        r3,r3
  0004e	2001		 movs        r0,#1
  00050	f000 f800	 bl          CeLogData
  00054		 |$LN1@CeLogMsg|
  00054		 |$M9|

; 1222 :         }
; 1223 :     }
; 1224 : }

  00054	f20d 2d24	 addw        sp,sp,#0x224
  00058	f000 f800	 bl          __security_pop_cookie
  0005c	f85d bb04	 pop         {r11}
  00060	f85d fb14	 ldr         pc,[sp],#0x14
  00064		 |$M7|

			 ENDP  ; |CeLogMsg|

	EXPORT	|PmPowerHandler|
	IMPORT	|ghevResume|
	IMPORT	|CeSetPowerOnEvent|
	IMPORT	|ghevTimerResume|

  00008			 AREA	 |.pdata|, PDATA
|$pdata1$PmPowerHandler| DCD imagerel |$LN9@PmPowerHan|
	DCD	0x3f6041
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmresume.cpp

  00064			 AREA	 |.text|, CODE, THUMB

  00064		 |PmPowerHandler| PROC

; 83   : {

  00064		 |$LN9@PmPowerHan|
  00064	e92d 4800	 push        {r11,lr}
  00068	46eb		 mov         r11,sp
  0006a		 |$M7|

; 84   :     if(!bOff) {

  0006a	b948		 cbnz        r0,|$LN1@PmPowerHan|

; 85   :         // we are resuming, signal the resume thread
; 86   :         if(ghevResume != NULL) CeSetPowerOnEvent(ghevResume);

  0006c	4b06		 ldr         r3,|$LN13@PmPowerHan| ; =|ghevResume|
  0006e	6818		 ldr         r0,[r3]
  00070	b108		 cbz         r0,|$LN2@PmPowerHan|
  00072	f000 f800	 bl          CeSetPowerOnEvent
  00076		 |$LN2@PmPowerHan|

; 87   : 
; 88   :         // signal the timer thread too
; 89   :         if(ghevTimerResume != NULL) CeSetPowerOnEvent(ghevTimerResume);

  00076	4b03		 ldr         r3,|$LN12@PmPowerHan| ; =|ghevTimerResume|
  00078	6818		 ldr         r0,[r3]
  0007a	b108		 cbz         r0,|$LN1@PmPowerHan|
  0007c	f000 f800	 bl          CeSetPowerOnEvent
  00080		 |$LN1@PmPowerHan|
  00080		 |$M10|

; 90   :     }
; 91   : }

  00080	e8bd 8800	 pop         {r11,pc}
  00084		 |$LN11@PmPowerHan|
  00084		 |$LN12@PmPowerHan|
  00084	0000 0000	 DCD         |ghevTimerResume|
  00088		 |$LN13@PmPowerHan|
  00088	0000 0000	 DCD         |ghevResume|
  0008c		 |$M8|

			 ENDP  ; |PmPowerHandler|

	EXPORT	|??_C@_1CK@KPKINJCK@?$AA?$CL?$AA?$CF?$AAs?$AA?3?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CC@FNPJBGCC@?$AAR?$AAe?$AAs?$AAu?$AAm?$AAe?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CE@JOMDCLAD@?$AAR?$AAe?$AAs?$AAu?$AAm?$AAe?$AAP?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA2?$AA5?$AA6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DI@EJCLFLII@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAs?$AAu?$AAm?$AAe?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAs?$AAi?$AAg?$AAn?$AAa?$AAl?$AAe?$AAd?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1HC@LPAHHGNK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAW?$AAa?$AAi?$AAt?$AAF?$AAo?$AAr?$AAM?$AAu?$AAl?$AAt?$AAi?$AAp?$AAl?$AAe?$AAO?$AAb?$AAj?$AAe?$AAc?$AAt?$AAs?$AA?$CI?$AA?$CJ?$AA?5?$AAr?$AAe?$AAt@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DC@FJNGMGD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAs?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BO@HFODHNIK@?$AA?9?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAi?$AAt?$AAi?$AAn?$AAg?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|ResumeThreadProc|
	IMPORT	|dpCurSettings|
	IMPORT	|NKDbgPrintfW|
	IMPORT	|GetPMThreadPriority|
	IMPORT	|CeSetThreadPriority|
	IMPORT	|ghevPmShutdown|
	IMPORT	|WaitForMultipleObjects|
	IMPORT	|PlatformResumeSystem|
	IMPORT	|GetLastError|

  00010			 AREA	 |.pdata|, PDATA
|$pdata1$ResumeThreadProc| DCD imagerel |$LN37@ResumeThre|
	DCD	0xfdf101f1

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BO@HFODHNIK@?$AA?9?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAi?$AAt?$AAi?$AAn?$AAg?$AA?$AN?$AA?6?$AA?$AA@| DCB "-"
	DCB	0x0, "%", 0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "x"
	DCB	0x0, "i", 0x0, "t", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DC@FJNGMGD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAs?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "s", 0x0, "h", 0x0, "u"
	DCB	0x0, "t", 0x0, "d", 0x0, "o", 0x0, "w", 0x0, "n", 0x0, " "
	DCB	0x0, "e", 0x0, "v", 0x0, "e", 0x0, "n", 0x0, "t", 0x0, " "
	DCB	0x0, "s", 0x0, "e", 0x0, "t", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HC@LPAHHGNK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAW?$AAa?$AAi?$AAt?$AAF?$AAo?$AAr?$AAM?$AAu?$AAl?$AAt?$AAi?$AAp?$AAl?$AAe?$AAO?$AAb?$AAj?$AAe?$AAc?$AAt?$AAs?$AA?$CI?$AA?$CJ?$AA?5?$AAr?$AAe?$AAt@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "W", 0x0, "a", 0x0, "i"
	DCB	0x0, "t", 0x0, "F", 0x0, "o", 0x0, "r", 0x0, "M", 0x0, "u"
	DCB	0x0, "l", 0x0, "t", 0x0, "i", 0x0, "p", 0x0, "l", 0x0, "e"
	DCB	0x0, "O", 0x0, "b", 0x0, "j", 0x0, "e", 0x0, "c", 0x0, "t"
	DCB	0x0, "s", 0x0, "(", 0x0, ")", 0x0, " ", 0x0, "r", 0x0, "e"
	DCB	0x0, "t", 0x0, "u", 0x0, "r", 0x0, "n", 0x0, "e", 0x0, "d"
	DCB	0x0, " ", 0x0, "%", 0x0, "d", 0x0, ",", 0x0, " ", 0x0, "s"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "u", 0x0, "s", 0x0, " "
	DCB	0x0, "i", 0x0, "s", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DI@EJCLFLII@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAs?$AAu?$AAm?$AAe?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAs?$AAi?$AAg?$AAn?$AAa?$AAl?$AAe?$AAd?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "r", 0x0, "e", 0x0, "s"
	DCB	0x0, "u", 0x0, "m", 0x0, "e", 0x0, " ", 0x0, "e", 0x0, "v"
	DCB	0x0, "e", 0x0, "n", 0x0, "t", 0x0, " ", 0x0, "s", 0x0, "i"
	DCB	0x0, "g", 0x0, "n", 0x0, "a", 0x0, "l", 0x0, "e", 0x0, "d"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CE@JOMDCLAD@?$AAR?$AAe?$AAs?$AAu?$AAm?$AAe?$AAP?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA2?$AA5?$AA6?$AA?$AA@| DCB "R"
	DCB	0x0, "e", 0x0, "s", 0x0, "u", 0x0, "m", 0x0, "e", 0x0, "P"
	DCB	0x0, "r", 0x0, "i", 0x0, "o", 0x0, "r", 0x0, "i", 0x0, "t"
	DCB	0x0, "y", 0x0, "2", 0x0, "5", 0x0, "6", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CC@FNPJBGCC@?$AAR?$AAe?$AAs?$AAu?$AAm?$AAe?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@| DCB "R"
	DCB	0x0, "e", 0x0, "s", 0x0, "u", 0x0, "m", 0x0, "e", 0x0, "T"
	DCB	0x0, "h", 0x0, "r", 0x0, "e", 0x0, "a", 0x0, "d", 0x0, "P"
	DCB	0x0, "r", 0x0, "o", 0x0, "c", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CK@KPKINJCK@?$AA?$CL?$AA?$CF?$AAs?$AA?3?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@| DCB "+"
	DCB	0x0, "%", 0x0, "s", 0x0, ":", 0x0, " ", 0x0, "t", 0x0, "h"
	DCB	0x0, "r", 0x0, "e", 0x0, "a", 0x0, "d", 0x0, " ", 0x0, "0"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmresume.cpp
; File c:\wince800\public\common\sdk\inc\kfuncs.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmresume.cpp
; File c:\wince800\public\common\sdk\inc\kfuncs.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmresume.cpp
; File c:\wince800\public\common\sdk\inc\kfuncs.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmresume.cpp
; File c:\wince800\public\common\sdk\inc\kfuncs.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmresume.cpp
; File c:\wince800\public\common\sdk\inc\kfuncs.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmresume.cpp

  0008c			 AREA	 |.text|, CODE, THUMB

  0008c		 |ResumeThreadProc| PROC

; 34   : {

  0008c		 |$LN37@ResumeThre|
  0008c	e92d 483f	 push        {r0-r5,r11,lr}
  00090	f20d 0b18	 addw        r11,sp,#0x18
  00094		 |$M35|

; 42   :     PMLOGMSG(ZONE_INIT, (_T("+%s: thread 0x%08x\r\n"), pszFname, GetCurrentThreadId()));

  00094	4c44		 ldr         r4,|$LN49@ResumeThre| ; =|dpCurSettings|
  00096	4605		 mov         r5,r0
  00098	f8d4 3440	 ldr         r3,[r4,#0x440]
  0009c	f013 0f04	 tst         r3,#4
  000a0	d00f		 beq         |$LN11@ResumeThre|
; File c:\wince800\public\common\sdk\inc\kfuncs.h

; 372  :     return __GetUserKData (SYSHANDLE_OFFSET + (SH_CURTHREAD * sizeof(HANDLE)));

  000a2	2008		 movs        r0,#8
  000a4	f000 f800	 bl          __GetUserKData
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmresume.cpp

; 42   :     PMLOGMSG(ZONE_INIT, (_T("+%s: thread 0x%08x\r\n"), pszFname, GetCurrentThreadId()));

  000a8	4937		 ldr         r1,|$LN41@ResumeThre| ; =|??_C@_1CC@FNPJBGCC@?$AAR?$AAe?$AAs?$AAu?$AAm?$AAe?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@|
; File c:\wince800\public\common\sdk\inc\kfuncs.h

; 372  :     return __GetUserKData (SYSHANDLE_OFFSET + (SH_CURTHREAD * sizeof(HANDLE)));

  000aa	4602		 mov         r2,r0
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmresume.cpp

; 42   :     PMLOGMSG(ZONE_INIT, (_T("+%s: thread 0x%08x\r\n"), pszFname, GetCurrentThreadId()));

  000ac	483d		 ldr         r0,|$LN48@ResumeThre| ; =|??_C@_1CK@KPKINJCK@?$AA?$CL?$AA?$CF?$AAs?$AA?3?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  000ae	f000 f800	 bl          NKDbgPrintfW
; File c:\wince800\public\common\sdk\inc\kfuncs.h

; 372  :     return __GetUserKData (SYSHANDLE_OFFSET + (SH_CURTHREAD * sizeof(HANDLE)));

  000b2	2008		 movs        r0,#8
  000b4	f000 f800	 bl          __GetUserKData
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmresume.cpp

; 42   :     PMLOGMSG(ZONE_INIT, (_T("+%s: thread 0x%08x\r\n"), pszFname, GetCurrentThreadId()));

  000b8	4933		 ldr         r1,|$LN41@ResumeThre| ; =|??_C@_1CC@FNPJBGCC@?$AAR?$AAe?$AAs?$AAu?$AAm?$AAe?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@|
; File c:\wince800\public\common\sdk\inc\kfuncs.h

; 372  :     return __GetUserKData (SYSHANDLE_OFFSET + (SH_CURTHREAD * sizeof(HANDLE)));

  000ba	4602		 mov         r2,r0
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmresume.cpp

; 42   :     PMLOGMSG(ZONE_INIT, (_T("+%s: thread 0x%08x\r\n"), pszFname, GetCurrentThreadId()));

  000bc	4839		 ldr         r0,|$LN48@ResumeThre| ; =|??_C@_1CK@KPKINJCK@?$AA?$CL?$AA?$CF?$AAs?$AA?3?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  000be	f000 f800	 bl          CeLogMsg
  000c2		 |$LN11@ResumeThre|

; 43   : 
; 44   :     // set the thread priority
; 45   :     if(!GetPMThreadPriority(_T("ResumePriority256"), &iPriority)) {

  000c2	4837		 ldr         r0,|$LN47@ResumeThre| ; =|??_C@_1CE@JOMDCLAD@?$AAR?$AAe?$AAs?$AAu?$AAm?$AAe?$AAP?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA2?$AA5?$AA6?$AA?$AA@|
  000c4	4669		 mov         r1,sp
  000c6	f000 f800	 bl          GetPMThreadPriority
  000ca	b910		 cbnz        r0,|$LN33@ResumeThre|

; 46   :         iPriority = DEF_RESUME_THREAD_PRIORITY;

  000cc	2163		 movs        r1,#0x63
  000ce	9100		 str         r1,[sp]
  000d0	e000		 b           |$LN8@ResumeThre|
  000d2		 |$LN33@ResumeThre|
  000d2	9900		 ldr         r1,[sp]
  000d4		 |$LN8@ResumeThre|

; 47   :     }
; 48   :     CeSetThreadPriority(GetCurrentThread(), iPriority);

  000d4	2041		 movs        r0,#0x41
  000d6	f000 f800	 bl          CeSetThreadPriority
; File c:\wince800\public\common\sdk\inc\kfuncs.h

; 244  :     return EventModify(h,EVENT_SET);

  000da	2103		 movs        r1,#3
  000dc	4628		 mov         r0,r5
  000de	f000 f800	 bl          EventModify
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmresume.cpp

; 54   :     hEvents[0] = ghevResume;

  000e2	4b2e		 ldr         r3,|$LN46@ResumeThre| ; =|ghevResume|
  000e4	681b		 ldr         r3,[r3]
  000e6	9302		 str         r3,[sp,#8]

; 55   :     hEvents[1] = ghevPmShutdown;

  000e8	4b2b		 ldr         r3,|$LN45@ResumeThre| ; =|ghevPmShutdown|
  000ea	681b		 ldr         r3,[r3]
  000ec	9303		 str         r3,[sp,#0xC]
  000ee		 |$LL7@ResumeThre|

; 57   :         dwStatus = WaitForMultipleObjects(_countof(hEvents), hEvents, FALSE, INFINITE);

  000ee	f06f 0300	 mvn         r3,#0
  000f2	2200		 movs        r2,#0
  000f4	a902		 add         r1,sp,#8
  000f6	2002		 movs        r0,#2
  000f8	f000 f800	 bl          WaitForMultipleObjects
  000fc	4605		 mov         r5,r0

; 59   :         case (WAIT_OBJECT_0 + 0):
; 60   :             PMLOGMSG(ZONE_RESUME, (_T("%s: resume event signaled\r\n"), pszFname));

  000fe	f8d4 3440	 ldr         r3,[r4,#0x440]
  00102	b96d		 cbnz        r5,|$LN32@ResumeThre|
  00104	f013 0f08	 tst         r3,#8
  00108	d007		 beq         |$LN13@ResumeThre|
  0010a	491f		 ldr         r1,|$LN41@ResumeThre| ; =|??_C@_1CC@FNPJBGCC@?$AAR?$AAe?$AAs?$AAu?$AAm?$AAe?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@|
  0010c	4821		 ldr         r0,|$LN44@ResumeThre| ; =|??_C@_1DI@EJCLFLII@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAs?$AAu?$AAm?$AAe?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAs?$AAi?$AAg?$AAn?$AAa?$AAl?$AAe?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  0010e	f000 f800	 bl          NKDbgPrintfW
  00112	491d		 ldr         r1,|$LN41@ResumeThre| ; =|??_C@_1CC@FNPJBGCC@?$AAR?$AAe?$AAs?$AAu?$AAm?$AAe?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@|
  00114	481f		 ldr         r0,|$LN44@ResumeThre| ; =|??_C@_1DI@EJCLFLII@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAs?$AAu?$AAm?$AAe?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAs?$AAi?$AAg?$AAn?$AAa?$AAl?$AAe?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  00116	f000 f800	 bl          CeLogMsg
  0011a		 |$LN13@ResumeThre|

; 61   :             PlatformResumeSystem();

  0011a	f000 f800	 bl          PlatformResumeSystem

; 56   :     while(!fDone) {

  0011e	e7e6		 b           |$LL7@ResumeThre|
  00120		 |$LN32@ResumeThre|

; 58   :         switch(dwStatus) {

  00120	2d01		 cmp         r5,#1
  00122	d013		 beq         |$LN2@ResumeThre|

; 65   :             fDone = TRUE;
; 66   :             break;
; 67   :         default:
; 68   :             PMLOGMSG(ZONE_WARN, (_T("%s: WaitForMultipleObjects() returned %d, status is %d\r\n"),
; 69   :                 pszFname, dwStatus, GetLastError())); 

  00124	f013 0f02	 tst         r3,#2
  00128	d01b		 beq         |$LN15@ResumeThre|
  0012a	f000 f800	 bl          GetLastError
  0012e	4916		 ldr         r1,|$LN41@ResumeThre| ; =|??_C@_1CC@FNPJBGCC@?$AAR?$AAe?$AAs?$AAu?$AAm?$AAe?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@|
  00130	4603		 mov         r3,r0
  00132	4817		 ldr         r0,|$LN43@ResumeThre| ; =|??_C@_1HC@LPAHHGNK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAW?$AAa?$AAi?$AAt?$AAF?$AAo?$AAr?$AAM?$AAu?$AAl?$AAt?$AAi?$AAp?$AAl?$AAe?$AAO?$AAb?$AAj?$AAe?$AAc?$AAt?$AAs?$AA?$CI?$AA?$CJ?$AA?5?$AAr?$AAe?$AAt@|
  00134	462a		 mov         r2,r5
  00136	f000 f800	 bl          NKDbgPrintfW
  0013a	f000 f800	 bl          GetLastError
  0013e	4912		 ldr         r1,|$LN41@ResumeThre| ; =|??_C@_1CC@FNPJBGCC@?$AAR?$AAe?$AAs?$AAu?$AAm?$AAe?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@|
  00140	4603		 mov         r3,r0
  00142	4813		 ldr         r0,|$LN43@ResumeThre| ; =|??_C@_1HC@LPAHHGNK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAW?$AAa?$AAi?$AAt?$AAF?$AAo?$AAr?$AAM?$AAu?$AAl?$AAt?$AAi?$AAp?$AAl?$AAe?$AAO?$AAb?$AAj?$AAe?$AAc?$AAt?$AAs?$AA?$CI?$AA?$CJ?$AA?5?$AAr?$AAe?$AAt@|
  00144	462a		 mov         r2,r5
  00146	f000 f800	 bl          CeLogMsg

; 70   :             fDone = TRUE;
; 71   :             break;

  0014a	e00a		 b           |$LN15@ResumeThre|
  0014c		 |$LN2@ResumeThre|

; 62   :             break;
; 63   :         case (WAIT_OBJECT_0 + 1):
; 64   :             PMLOGMSG(ZONE_WARN, (_T("%s: shutdown event set\r\n"), pszFname));

  0014c	f013 0f02	 tst         r3,#2
  00150	d007		 beq         |$LN15@ResumeThre|
  00152	490d		 ldr         r1,|$LN41@ResumeThre| ; =|??_C@_1CC@FNPJBGCC@?$AAR?$AAe?$AAs?$AAu?$AAm?$AAe?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@|
  00154	480d		 ldr         r0,|$LN42@ResumeThre| ; =|??_C@_1DC@FJNGMGD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAs?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  00156	f000 f800	 bl          NKDbgPrintfW
  0015a	490b		 ldr         r1,|$LN41@ResumeThre| ; =|??_C@_1CC@FNPJBGCC@?$AAR?$AAe?$AAs?$AAu?$AAm?$AAe?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@|
  0015c	480b		 ldr         r0,|$LN42@ResumeThre| ; =|??_C@_1DC@FJNGMGD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAs?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  0015e	f000 f800	 bl          CeLogMsg
  00162		 |$LN15@ResumeThre|

; 65   :             fDone = TRUE;
; 66   :             break;
; 67   :         default:
; 68   :             PMLOGMSG(ZONE_WARN, (_T("%s: WaitForMultipleObjects() returned %d, status is %d\r\n"),
; 69   :                 pszFname, dwStatus, GetLastError())); 

  00162	f8d4 3440	 ldr         r3,[r4,#0x440]

; 72   :         }
; 73   :     }
; 74   : 
; 75   :     PMLOGMSG(ZONE_INIT | ZONE_WARN, (_T("-%s: exiting\r\n"), pszFname));

  00166	f013 0f06	 tst         r3,#6
  0016a	d007		 beq         |$LN19@ResumeThre|
  0016c	4906		 ldr         r1,|$LN41@ResumeThre| ; =|??_C@_1CC@FNPJBGCC@?$AAR?$AAe?$AAs?$AAu?$AAm?$AAe?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@|
  0016e	4805		 ldr         r0,|$LN40@ResumeThre| ; =|??_C@_1BO@HFODHNIK@?$AA?9?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAi?$AAt?$AAi?$AAn?$AAg?$AA?$AN?$AA?6?$AA?$AA@|
  00170	f000 f800	 bl          NKDbgPrintfW
  00174	4904		 ldr         r1,|$LN41@ResumeThre| ; =|??_C@_1CC@FNPJBGCC@?$AAR?$AAe?$AAs?$AAu?$AAm?$AAe?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@|
  00176	4803		 ldr         r0,|$LN40@ResumeThre| ; =|??_C@_1BO@HFODHNIK@?$AA?9?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAi?$AAt?$AAi?$AAn?$AAg?$AA?$AN?$AA?6?$AA?$AA@|
  00178	f000 f800	 bl          CeLogMsg
  0017c		 |$LN19@ResumeThre|

; 76   :     return 0;

  0017c	2000		 movs        r0,#0
  0017e		 |$M38|

; 77   : }

  0017e	b004		 add         sp,sp,#0x10
  00180	e8bd 8830	 pop         {r4,r5,r11,pc}
  00184		 |$LN39@ResumeThre|
  00184		 |$LN40@ResumeThre|
  00184	0000 0000	 DCD         |??_C@_1BO@HFODHNIK@?$AA?9?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAi?$AAt?$AAi?$AAn?$AAg?$AA?$AN?$AA?6?$AA?$AA@|
  00188		 |$LN41@ResumeThre|
  00188	0000 0000	 DCD         |??_C@_1CC@FNPJBGCC@?$AAR?$AAe?$AAs?$AAu?$AAm?$AAe?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAo?$AAc?$AA?$AA@|
  0018c		 |$LN42@ResumeThre|
  0018c	0000 0000	 DCD         |??_C@_1DC@FJNGMGD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAh?$AAu?$AAt?$AAd?$AAo?$AAw?$AAn?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAs?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  00190		 |$LN43@ResumeThre|
  00190	0000 0000	 DCD         |??_C@_1HC@LPAHHGNK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAW?$AAa?$AAi?$AAt?$AAF?$AAo?$AAr?$AAM?$AAu?$AAl?$AAt?$AAi?$AAp?$AAl?$AAe?$AAO?$AAb?$AAj?$AAe?$AAc?$AAt?$AAs?$AA?$CI?$AA?$CJ?$AA?5?$AAr?$AAe?$AAt@|
  00194		 |$LN44@ResumeThre|
  00194	0000 0000	 DCD         |??_C@_1DI@EJCLFLII@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAs?$AAu?$AAm?$AAe?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAs?$AAi?$AAg?$AAn?$AAa?$AAl?$AAe?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  00198		 |$LN45@ResumeThre|
  00198	0000 0000	 DCD         |ghevPmShutdown|
  0019c		 |$LN46@ResumeThre|
  0019c	0000 0000	 DCD         |ghevResume|
  001a0		 |$LN47@ResumeThre|
  001a0	0000 0000	 DCD         |??_C@_1CE@JOMDCLAD@?$AAR?$AAe?$AAs?$AAu?$AAm?$AAe?$AAP?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA2?$AA5?$AA6?$AA?$AA@|
  001a4		 |$LN48@ResumeThre|
  001a4	0000 0000	 DCD         |??_C@_1CK@KPKINJCK@?$AA?$CL?$AA?$CF?$AAs?$AA?3?$AA?5?$AAt?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  001a8		 |$LN49@ResumeThre|
  001a8	0000 0000	 DCD         |dpCurSettings|
  001ac		 |$M36|

			 ENDP  ; |ResumeThreadProc|

	END
