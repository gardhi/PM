; Listing generated by Microsoft (R) Optimizing Compiler Version 17.00.50727.114 

	TTL	C:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmstream.cpp
	THUMB

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|gStreamInterface| [ DATA ]

  00000			 AREA	 |.data|, DATA
|gStreamInterface| DCD |?InitStreamDeviceInterface@@YAHXZ|
	DCD	|?OpenStreamDevice@@YAPAXPAU_DeviceState_tag@@@Z|
	DCD	|?CloseStreamDevice@@YAHPAX@Z|
	DCD	|?RequestStreamDevice@@YAHPAXK0K0KPAK@Z|
	IMPORT	|__security_push_cookie|
	IMPORT	|__security_pop_cookie|
	IMPORT	|__GSHandlerCheck|
	IMPORT	|StringCchVPrintfW|
	IMPORT	|StringCchLengthW|
	IMPORT	|CeLogData|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$CeLogMsg| DCD imagerel |$LN8@CeLogMsg|
	DCD	imagerel |$unwind2$CeLogMsg|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$CeLogMsg| DCD 0x44b00032
	DCD	0x1e889e8
	DCD	0x400a8fb
	DCD	0x8801e8ff
	DCD	0xff05ef00
	DCD	imagerel |__GSHandlerCheck|
	DCD	0xffffffe5
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\celog.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |CeLogMsg| PROC

; 1208 : {

  00000		 |$LN8@CeLogMsg|
  00000	b40f		 push        {r0-r3}
  00002	e92d 4800	 push        {r11,lr}
  00006	46eb		 mov         r11,sp
  00008	f000 f800	 bl          __security_push_cookie
  0000c	f2ad 2d24	 subw        sp,sp,#0x224
  00010		 |$M6|
  00010	4602		 mov         r2,r0

; 1209 :     va_list arglist;
; 1210 :     WCHAR   szTemp[MAX_PATH];
; 1211 :     size_t  cchLen;
; 1212 :     HRESULT hr;
; 1213 : 
; 1214 :     // Compose a single string using the input args
; 1215 :     va_start(arglist, szFormat);
; 1216 :     hr = StringCchVPrintfW(szTemp, MAX_PATH, szFormat, arglist);

  00012	a806		 add         r0,sp,#0x18
  00014	ab8d		 add         r3,sp,#0x234
  00016	f44f 7182	 mov         r1,#0x104
  0001a	928c		 str         r2,[sp,#0x230]
  0001c	f000 f800	 bl          StringCchVPrintfW

; 1217 :     if (SUCCEEDED(hr)) {

  00020	2800		 cmp         r0,#0
  00022	db17		 blt         |$LN1@CeLogMsg|

; 1218 :         hr = StringCchLengthW(szTemp, MAX_PATH, &cchLen);

  00024	aa04		 add         r2,sp,#0x10
  00026	a806		 add         r0,sp,#0x18
  00028	f44f 7182	 mov         r1,#0x104
  0002c	f000 f800	 bl          StringCchLengthW

; 1219 :         if (SUCCEEDED(hr)) {

  00030	2800		 cmp         r0,#0
  00032	db0f		 blt         |$LN1@CeLogMsg|

; 1220 :             CeLogData(TRUE, CELID_RAW_WCHAR, szTemp, (WORD)((cchLen + 1) * sizeof(WCHAR)),
; 1221 :                       0, CELZONE_ALWAYSON, 0, FALSE);

  00034	f04f 4380	 mov         r3,#0x40000000
  00038	9301		 str         r3,[sp,#4]
  0003a	9b04		 ldr         r3,[sp,#0x10]
  0003c	2200		 movs        r2,#0
  0003e	9203		 str         r2,[sp,#0xC]
  00040	3301		 adds        r3,#1
  00042	005b		 lsls        r3,r3,#1
  00044	9202		 str         r2,[sp,#8]
  00046	9200		 str         r2,[sp]
  00048	aa06		 add         r2,sp,#0x18
  0004a	214a		 movs        r1,#0x4A
  0004c	b29b		 uxth        r3,r3
  0004e	2001		 movs        r0,#1
  00050	f000 f800	 bl          CeLogData
  00054		 |$LN1@CeLogMsg|
  00054		 |$M9|

; 1222 :         }
; 1223 :     }
; 1224 : }

  00054	f20d 2d24	 addw        sp,sp,#0x224
  00058	f000 f800	 bl          __security_pop_cookie
  0005c	f85d bb04	 pop         {r11}
  00060	f85d fb14	 ldr         pc,[sp],#0x14
  00064		 |$M7|

			 ENDP  ; |CeLogMsg|

; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmstream.cpp

  00064			 AREA	 |.text|, CODE, THUMB

  00064		 |?InitStreamDeviceInterface@@YAHXZ| PROC ; InitStreamDeviceInterface

; 30   :     // nothing special to do for stream devices
; 31   :     return TRUE;

  00064	2001		 movs        r0,#1
  00066		 |$M4|

; 32   : }

  00066	4770		 bx          lr

			 ENDP  ; |?InitStreamDeviceInterface@@YAHXZ|, InitStreamDeviceInterface

	EXPORT	|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@| [ DATA ] ; `string'
	EXPORT	|??_C@_1IK@HNICBALF@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DC@NLFIAHNJ@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAC?$AAA?$AAP?$AAA?$AAB?$AAI?$AAL?$AAI?$AAT?$AAI?$AAE?$AAS?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CA@NEAJAFDG@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAG?$AAE?$AAT?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CA@CMPIDKOH@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAS?$AAE?$AAT?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CE@CONJIH@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAQ?$AAU?$AAE?$AAR?$AAY?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EE@EJIINHMD@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAR?$AAE?$AAG?$AAI?$AAS?$AAT?$AAE?$AAR?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAR?$AAE?$AAL?$AAA?$AAT?$AAI?$AAO?$AAN?$AAS?$AAH?$AAI@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BE@GFCJAFPH@?$AA?$DM?$AAU?$AAN?$AAK?$AAN?$AAO?$AAW?$AAN?$AA?$DO?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1HG@LGBENHLO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAl?$AAl?$AAi?$AAn?$AAg?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAo?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CI@HOGMIADO@?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EO@MFPADMDA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAi?$AAn?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAo?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GO@OABAJFNF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAo?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AA?$CI?$AA?$CF?$AAd?$AA?$CJ?$AA?5?$AAt?$AAo?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8@| [ DATA ] ; `string'
	IMPORT	|dpCurSettings|
	IMPORT	|__C_specific_handler|
	IMPORT	|NKDbgPrintfW|
	IMPORT	|DeviceIoControl|
	IMPORT	|GetLastError|

  00008			 AREA	 |.pdata|, PDATA
|$pdata1$?RequestStreamDevice@@YAHPAXK0K0KPAK@Z| DCD imagerel |$LN51@RequestStr|
	DCD	imagerel |$unwind2$?RequestStreamDevice@@YAHPAXK0K0KPAK@Z|

  0001c			 AREA	 |.xdata|, DATA
	%	4
|$unwind2$?RequestStreamDevice@@YAHPAXK0K0KPAK@Z| DCD 0x333000b8
	DCD	0xfeaffcc7
	DCD	0xefdbff04
	DCD	0xff05
	DCD	imagerel |__C_specific_handler|
	DCD	0x1
	DCD	imagerel |$LN38@RequestStr|
	DCD	imagerel |$LN39@RequestStr|
	DCD	0x1
	DCD	imagerel |$LN35@RequestStr|

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GO@OABAJFNF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAo?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AA?$CI?$AA?$CF?$AAd?$AA?$CJ?$AA?5?$AAt?$AAo?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "D", 0x0, "e", 0x0, "v"
	DCB	0x0, "i", 0x0, "c", 0x0, "e", 0x0, "I", 0x0, "o", 0x0, "C"
	DCB	0x0, "o", 0x0, "n", 0x0, "t", 0x0, "r", 0x0, "o", 0x0, "l"
	DCB	0x0, "(", 0x0, "%", 0x0, "d", 0x0, ")", 0x0, " ", 0x0, "t"
	DCB	0x0, "o", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0"
	DCB	0x0, "8", 0x0, "x", 0x0, " ", 0x0, "f", 0x0, "a", 0x0, "i"
	DCB	0x0, "l", 0x0, "e", 0x0, "d", 0x0, " ", 0x0, "%", 0x0, "d"
	DCB	0x0, " ", 0x0, "(", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0"
	DCB	0x0, "8", 0x0, "x", 0x0, ")", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EO@MFPADMDA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAi?$AAn?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAo?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "x", 0x0, "c"
	DCB	0x0, "e", 0x0, "p", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, " ", 0x0, "i", 0x0, "n", 0x0, " ", 0x0, "D", 0x0, "e"
	DCB	0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "I", 0x0, "o"
	DCB	0x0, "C", 0x0, "o", 0x0, "n", 0x0, "t", 0x0, "r", 0x0, "o"
	DCB	0x0, "l", 0x0, "(", 0x0, "%", 0x0, "d", 0x0, ")", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CI@HOGMIADO@?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@| DCB "R"
	DCB	0x0, "e", 0x0, "q", 0x0, "u", 0x0, "e", 0x0, "s", 0x0, "t"
	DCB	0x0, "S", 0x0, "t", 0x0, "r", 0x0, "e", 0x0, "a", 0x0, "m"
	DCB	0x0, "D", 0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e"
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HG@LGBENHLO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAl?$AAl?$AAi?$AAn?$AAg?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAo?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "c", 0x0, "a", 0x0, "l"
	DCB	0x0, "l", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "I"
	DCB	0x0, "o", 0x0, "C", 0x0, "o", 0x0, "n", 0x0, "t", 0x0, "r"
	DCB	0x0, "o", 0x0, "l", 0x0, "(", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "8", 0x0, "x", 0x0, ")", 0x0, " ", 0x0, "w"
	DCB	0x0, "/", 0x0, " ", 0x0, "r", 0x0, "e", 0x0, "q", 0x0, "u"
	DCB	0x0, "e", 0x0, "s", 0x0, "t", 0x0, " ", 0x0, "%", 0x0, "d"
	DCB	0x0, " ", 0x0, "(", 0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'"
	DCB	0x0, ")", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BE@GFCJAFPH@?$AA?$DM?$AAU?$AAN?$AAK?$AAN?$AAO?$AAW?$AAN?$AA?$DO?$AA?$AA@| DCB "<"
	DCB	0x0, "U", 0x0, "N", 0x0, "K", 0x0, "N", 0x0, "O", 0x0, "W"
	DCB	0x0, "N", 0x0, ">", 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EE@EJIINHMD@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAR?$AAE?$AAG?$AAI?$AAS?$AAT?$AAE?$AAR?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAR?$AAE?$AAL?$AAA?$AAT?$AAI?$AAO?$AAN?$AAS?$AAH?$AAI@| DCB "I"
	DCB	0x0, "O", 0x0, "C", 0x0, "T", 0x0, "L", 0x0, "_", 0x0, "R"
	DCB	0x0, "E", 0x0, "G", 0x0, "I", 0x0, "S", 0x0, "T", 0x0, "E"
	DCB	0x0, "R", 0x0, "_", 0x0, "P", 0x0, "O", 0x0, "W", 0x0, "E"
	DCB	0x0, "R", 0x0, "_", 0x0, "R", 0x0, "E", 0x0, "L", 0x0, "A"
	DCB	0x0, "T", 0x0, "I", 0x0, "O", 0x0, "N", 0x0, "S", 0x0, "H"
	DCB	0x0, "I", 0x0, "P", 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CE@CONJIH@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAQ?$AAU?$AAE?$AAR?$AAY?$AA?$AA@| DCB "I"
	DCB	0x0, "O", 0x0, "C", 0x0, "T", 0x0, "L", 0x0, "_", 0x0, "P"
	DCB	0x0, "O", 0x0, "W", 0x0, "E", 0x0, "R", 0x0, "_", 0x0, "Q"
	DCB	0x0, "U", 0x0, "E", 0x0, "R", 0x0, "Y", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CA@CMPIDKOH@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAS?$AAE?$AAT?$AA?$AA@| DCB "I"
	DCB	0x0, "O", 0x0, "C", 0x0, "T", 0x0, "L", 0x0, "_", 0x0, "P"
	DCB	0x0, "O", 0x0, "W", 0x0, "E", 0x0, "R", 0x0, "_", 0x0, "S"
	DCB	0x0, "E", 0x0, "T", 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CA@NEAJAFDG@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAG?$AAE?$AAT?$AA?$AA@| DCB "I"
	DCB	0x0, "O", 0x0, "C", 0x0, "T", 0x0, "L", 0x0, "_", 0x0, "P"
	DCB	0x0, "O", 0x0, "W", 0x0, "E", 0x0, "R", 0x0, "_", 0x0, "G"
	DCB	0x0, "E", 0x0, "T", 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DC@NLFIAHNJ@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAC?$AAA?$AAP?$AAA?$AAB?$AAI?$AAL?$AAI?$AAT?$AAI?$AAE?$AAS?$AA?$AA@| DCB "I"
	DCB	0x0, "O", 0x0, "C", 0x0, "T", 0x0, "L", 0x0, "_", 0x0, "P"
	DCB	0x0, "O", 0x0, "W", 0x0, "E", 0x0, "R", 0x0, "_", 0x0, "C"
	DCB	0x0, "A", 0x0, "P", 0x0, "A", 0x0, "B", 0x0, "I", 0x0, "L"
	DCB	0x0, "I", 0x0, "T", 0x0, "I", 0x0, "E", 0x0, "S", 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1IK@HNICBALF@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@| DCB "c"
	DCB	0x0, ":", 0x0, "\\", 0x0, "w", 0x0, "i", 0x0, "n", 0x0, "c"
	DCB	0x0, "e", 0x0, "8", 0x0, "0", 0x0, "0", 0x0, "\\", 0x0, "p"
	DCB	0x0, "l", 0x0, "a", 0x0, "t", 0x0, "f", 0x0, "o", 0x0, "r"
	DCB	0x0, "m", 0x0, "\\", 0x0, "r", 0x0, "r", 0x0, "m", 0x0, "_"
	DCB	0x0, "p", 0x0, "p", 0x0, "c", 0x0, "_", 0x0, "w", 0x0, "i"
	DCB	0x0, "n", 0x0, "d", 0x0, "o", 0x0, "w", 0x0, "s", 0x0, "\\"
	DCB	0x0, "s", 0x0, "r", 0x0, "c", 0x0, "\\", 0x0, "d", 0x0, "r"
	DCB	0x0, "i", 0x0, "v", 0x0, "e", 0x0, "r", 0x0, "s", 0x0, "\\"
	DCB	0x0, "p", 0x0, "m", 0x0, "\\", 0x0, "m", 0x0, "d", 0x0, "d"
	DCB	0x0, "\\", 0x0, "p", 0x0, "m", 0x0, "s", 0x0, "t", 0x0, "r"
	DCB	0x0, "e", 0x0, "a", 0x0, "m", 0x0, ".", 0x0, "c", 0x0, "p"
	DCB	0x0, "p", 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "D", 0x0, "E", 0x0, "B"
	DCB	0x0, "U", 0x0, "G", 0x0, "C", 0x0, "H", 0x0, "K", 0x0, " "
	DCB	0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d"
	DCB	0x0, " ", 0x0, "i", 0x0, "n", 0x0, " ", 0x0, "f", 0x0, "i"
	DCB	0x0, "l", 0x0, "e", 0x0, " ", 0x0, "%", 0x0, "s", 0x0, " "
	DCB	0x0, "a", 0x0, "t", 0x0, " ", 0x0, "l", 0x0, "i", 0x0, "n"
	DCB	0x0, "e", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, " ", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmstream.cpp

  00068			 AREA	 |.text|, CODE, THUMB

  00068		 |?RequestStreamDevice@@YAHPAXK0K0KPAK@Z| PROC ; RequestStreamDevice

; 80   : {

  00068		 |$LN51@RequestStr|
  00068	b40f		 push        {r0-r3}
  0006a	e92d 4ffe	 push        {r1-r11,lr}
  0006e	f20d 0b28	 addw        r11,sp,#0x28
  00072	466f		 mov         r7,sp
  00074	b084		 sub         sp,sp,#0x10
  00076		 |$LN49@RequestStr|
  00076	603b		 str         r3,[r7]
  00078	607a		 str         r2,[r7,#4]
  0007a	460d		 mov         r5,r1
  0007c	637d		 str         r5,[r7,#0x34]
  0007e	4681		 mov         r9,r0
  00080	6338		 str         r0,[r7,#0x30]

; 81   :     BOOL fOk;
; 82   :     SETFNAME(_T("RequestStreamDevice"));
; 83   : 
; 84   :     DEBUGCHK(hDevice != INVALID_HANDLE_VALUE);

  00082	f1b0 3fff	 cmp         r0,#0xFFFFFFFF
  00086	f8df 815c	 ldr         r8,|$LN58@RequestStr| ; =|dpCurSettings|
  0008a	d106		 bne         |$LN5@RequestStr|
  0008c	4a63		 ldr         r2,|$LN72@RequestStr| ; =|??_C@_1IK@HNICBALF@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  0008e	4862		 ldr         r0,|$LN71@RequestStr| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00090	2354		 movs        r3,#0x54
  00092	4641		 mov         r1,r8
  00094	f000 f800	 bl          NKDbgPrintfW
  00098	defe		 __debugbreak
  0009a		 |$LN5@RequestStr|
  0009a		 |$LN38@RequestStr|

; 85   : 
; 86   :     __try {
; 87   :         PMLOGMSG(ZONE_IOCTL, (_T("%s: calling DeviceIoControl(0x%08x) w/ request %d ('%s')\r\n"),
; 88   :             pszFname, hDevice, dwRequest, 
; 89   :             dwRequest == IOCTL_POWER_CAPABILITIES ? _T("IOCTL_POWER_CAPABILITIES") 
; 90   :             : dwRequest == IOCTL_POWER_GET ? _T("IOCTL_POWER_GET") 
; 91   :             : dwRequest == IOCTL_POWER_SET ? _T("IOCTL_POWER_SET") 
; 92   :             : dwRequest == IOCTL_POWER_QUERY ? _T("IOCTL_POWER_QUERY") 
; 93   :             : dwRequest == IOCTL_REGISTER_POWER_RELATIONSHIP ? _T("IOCTL_REGISTER_POWER_RELATIONSHIP")
; 94   :             : _T("<UNKNOWN>")));

  0009a	f8d8 3440	 ldr         r3,[r8,#0x440]
  0009e	f013 0f20	 tst         r3,#0x20
  000a2	d042		 beq         |$LN44@RequestStr|
  000a4	4b58		 ldr         r3,|$LN67@RequestStr| ; =0x321000
  000a6	429d		 cmp         r5,r3
  000a8	f8df a168	 ldr         r10,|$LN70@RequestStr| ; =0x32100c
  000ac	d103		 bne         |$LN14@RequestStr|
  000ae	4c57		 ldr         r4,|$LN68@RequestStr| ; =|??_C@_1DC@NLFIAHNJ@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAC?$AAA?$AAP?$AAA?$AAB?$AAI?$AAL?$AAI?$AAT?$AAI?$AAE?$AAS?$AA?$AA@|
  000b0	4623		 mov         r3,r4
  000b2	4e57		 ldr         r6,|$LN69@RequestStr| ; =0x321018
  000b4	e015		 b           |$LN7@RequestStr|
  000b6		 |$LN14@RequestStr|
  000b6	4b53		 ldr         r3,|$LN66@RequestStr| ; =0x321004
  000b8	429d		 cmp         r5,r3
  000ba	d102		 bne         |$LN12@RequestStr|
  000bc	4b50		 ldr         r3,|$LN65@RequestStr| ; =|??_C@_1CA@NEAJAFDG@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAG?$AAE?$AAT?$AA?$AA@|
  000be		 |$LN48@RequestStr|
  000be	4e54		 ldr         r6,|$LN69@RequestStr| ; =0x321018
  000c0	e00e		 b           |$LN47@RequestStr|
  000c2		 |$LN12@RequestStr|
  000c2	4b4e		 ldr         r3,|$LN64@RequestStr| ; =0x321008
  000c4	429d		 cmp         r5,r3
  000c6	d101		 bne         |$LN10@RequestStr|
  000c8	4b4b		 ldr         r3,|$LN63@RequestStr| ; =|??_C@_1CA@CMPIDKOH@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAS?$AAE?$AAT?$AA?$AA@|
  000ca	e7f8		 b           |$LN48@RequestStr|
  000cc		 |$LN10@RequestStr|
  000cc	4555		 cmp         r5,r10
  000ce	4e50		 ldr         r6,|$LN69@RequestStr| ; =0x321018
  000d0	d101		 bne         |$LN8@RequestStr|
  000d2	4b48		 ldr         r3,|$LN62@RequestStr| ; =|??_C@_1CE@CONJIH@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAQ?$AAU?$AAE?$AAR?$AAY?$AA?$AA@|
  000d4	e004		 b           |$LN47@RequestStr|
  000d6		 |$LN8@RequestStr|
  000d6	42b5		 cmp         r5,r6
  000d8	d101		 bne         |$LN6@RequestStr|
  000da	4b45		 ldr         r3,|$LN61@RequestStr| ; =|??_C@_1EE@EJIINHMD@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAR?$AAE?$AAG?$AAI?$AAS?$AAT?$AAE?$AAR?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAR?$AAE?$AAL?$AAA?$AAT?$AAI?$AAO?$AAN?$AAS?$AAH?$AAI@|
  000dc	e000		 b           |$LN47@RequestStr|
  000de		 |$LN6@RequestStr|
  000de	4b43		 ldr         r3,|$LN60@RequestStr| ; =|??_C@_1BE@GFCJAFPH@?$AA?$DM?$AAU?$AAN?$AAK?$AAN?$AAO?$AAW?$AAN?$AA?$DO?$AA?$AA@|
  000e0		 |$LN47@RequestStr|
  000e0	4c4a		 ldr         r4,|$LN68@RequestStr| ; =|??_C@_1DC@NLFIAHNJ@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAC?$AAA?$AAP?$AAA?$AAB?$AAI?$AAL?$AAI?$AAT?$AAI?$AAE?$AAS?$AA?$AA@|
  000e2		 |$LN7@RequestStr|
  000e2	9300		 str         r3,[sp]
  000e4	462b		 mov         r3,r5
  000e6	464a		 mov         r2,r9
  000e8	493c		 ldr         r1,|$LN56@RequestStr| ; =|??_C@_1CI@HOGMIADO@?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@|
  000ea	483f		 ldr         r0,|$LN59@RequestStr| ; =|??_C@_1HG@LGBENHLO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAl?$AAl?$AAi?$AAn?$AAg?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAo?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0@|
  000ec	f000 f800	 bl          NKDbgPrintfW
  000f0	4b45		 ldr         r3,|$LN67@RequestStr| ; =0x321000
  000f2	429d		 cmp         r5,r3
  000f4	d012		 beq         |$LN17@RequestStr|
  000f6	4b43		 ldr         r3,|$LN66@RequestStr| ; =0x321004
  000f8	429d		 cmp         r5,r3
  000fa	d101		 bne         |$LN22@RequestStr|
  000fc	4c40		 ldr         r4,|$LN65@RequestStr| ; =|??_C@_1CA@NEAJAFDG@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAG?$AAE?$AAT?$AA?$AA@|
  000fe	e00d		 b           |$LN17@RequestStr|
  00100		 |$LN22@RequestStr|
  00100	4b3e		 ldr         r3,|$LN64@RequestStr| ; =0x321008
  00102	429d		 cmp         r5,r3
  00104	d101		 bne         |$LN20@RequestStr|
  00106	4c3c		 ldr         r4,|$LN63@RequestStr| ; =|??_C@_1CA@CMPIDKOH@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAS?$AAE?$AAT?$AA?$AA@|
  00108	e008		 b           |$LN17@RequestStr|
  0010a		 |$LN20@RequestStr|
  0010a	4555		 cmp         r5,r10
  0010c	d101		 bne         |$LN18@RequestStr|
  0010e	4c39		 ldr         r4,|$LN62@RequestStr| ; =|??_C@_1CE@CONJIH@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAQ?$AAU?$AAE?$AAR?$AAY?$AA?$AA@|
  00110	e004		 b           |$LN17@RequestStr|
  00112		 |$LN18@RequestStr|
  00112	42b5		 cmp         r5,r6
  00114	d101		 bne         |$LN16@RequestStr|
  00116	4c36		 ldr         r4,|$LN61@RequestStr| ; =|??_C@_1EE@EJIINHMD@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAR?$AAE?$AAG?$AAI?$AAS?$AAT?$AAE?$AAR?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAR?$AAE?$AAL?$AAA?$AAT?$AAI?$AAO?$AAN?$AAS?$AAH?$AAI@|
  00118	e000		 b           |$LN17@RequestStr|
  0011a		 |$LN16@RequestStr|
  0011a	4c34		 ldr         r4,|$LN60@RequestStr| ; =|??_C@_1BE@GFCJAFPH@?$AA?$DM?$AAU?$AAN?$AAK?$AAN?$AAO?$AAW?$AAN?$AA?$DO?$AA?$AA@|
  0011c		 |$LN17@RequestStr|
  0011c	9400		 str         r4,[sp]
  0011e	462b		 mov         r3,r5
  00120	464a		 mov         r2,r9
  00122	492e		 ldr         r1,|$LN56@RequestStr| ; =|??_C@_1CI@HOGMIADO@?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@|
  00124	4830		 ldr         r0,|$LN59@RequestStr| ; =|??_C@_1HG@LGBENHLO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAl?$AAl?$AAi?$AAn?$AAg?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAo?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0@|
  00126	f000 f800	 bl          CeLogMsg
  0012a		 |$LN44@RequestStr|

; 95   :         fOk = DeviceIoControl(hDevice, dwRequest, pInBuf, dwInSize, 
; 96   :             pOutBuf, dwOutSize, pdwBytesRet, NULL);

  0012a	2300		 movs        r3,#0
  0012c	9303		 str         r3,[sp,#0xC]
  0012e	6cbb		 ldr         r3,[r7,#0x48]
  00130	9302		 str         r3,[sp,#8]
  00132	6c7b		 ldr         r3,[r7,#0x44]
  00134	9301		 str         r3,[sp,#4]
  00136	6c3b		 ldr         r3,[r7,#0x40]
  00138	9300		 str         r3,[sp]
  0013a	683b		 ldr         r3,[r7]
  0013c	687a		 ldr         r2,[r7,#4]
  0013e	4629		 mov         r1,r5
  00140	4648		 mov         r0,r9
  00142	f000 f800	 bl          DeviceIoControl
  00146	4606		 mov         r6,r0
  00148	60be		 str         r6,[r7,#8]
  0014a		 |$LN39@RequestStr|

; 97   :     }

  0014a	f8d8 3440	 ldr         r3,[r8,#0x440]
  0014e	e01c		 b           |$LN40@RequestStr|
  00150		 |$LN35@RequestStr|

; 98   :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 99   :         PMLOGMSG(ZONE_WARN || ZONE_IOCTL, (_T("%s: exception in DeviceIoControl(%d)\r\n"), pszFname,
; 100  :             dwRequest));

  00150	f8df 8090	 ldr         r8,|$LN58@RequestStr| ; =|dpCurSettings|
  00154	f8d8 3440	 ldr         r3,[r8,#0x440]
  00158	f013 0f02	 tst         r3,#2
  0015c	d104		 bne         |$LN28@RequestStr|
  0015e	f013 0f20	 tst         r3,#0x20
  00162	d101		 bne         |$LN28@RequestStr|
  00164	6b7d		 ldr         r5,[r7,#0x34]
  00166	e00c		 b           |$LN29@RequestStr|
  00168		 |$LN28@RequestStr|
  00168	6b7d		 ldr         r5,[r7,#0x34]
  0016a	462a		 mov         r2,r5
  0016c	491b		 ldr         r1,|$LN56@RequestStr| ; =|??_C@_1CI@HOGMIADO@?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@|
  0016e	481c		 ldr         r0,|$LN57@RequestStr| ; =|??_C@_1EO@MFPADMDA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAi?$AAn?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAo?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@|
  00170	f000 f800	 bl          NKDbgPrintfW
  00174	462a		 mov         r2,r5
  00176	4919		 ldr         r1,|$LN56@RequestStr| ; =|??_C@_1CI@HOGMIADO@?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@|
  00178	4819		 ldr         r0,|$LN57@RequestStr| ; =|??_C@_1EO@MFPADMDA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAi?$AAn?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAo?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@|
  0017a	f000 f800	 bl          CeLogMsg
  0017e	f8d8 3440	 ldr         r3,[r8,#0x440]
  00182		 |$LN29@RequestStr|

; 101  :         fOk = FALSE;

  00182	2600		 movs        r6,#0
  00184	60be		 str         r6,[r7,#8]
  00186	f8d7 9030	 ldr         r9,[r7,#0x30]
  0018a		 |$LN40@RequestStr|

; 102  :     }
; 103  : 
; 104  :     PMLOGMSG(!fOk && (ZONE_WARN || ZONE_IOCTL), 
; 105  :         (_T("%s: DeviceIoControl(%d) to 0x%08x failed %d (0x%08x)\r\n"), pszFname,
; 106  :         dwRequest, hDevice, GetLastError(), GetLastError()));

  0018a	b9fe		 cbnz        r6,|$LN2@RequestStr|
  0018c	f013 0f02	 tst         r3,#2
  00190	d102		 bne         |$LN30@RequestStr|
  00192	f013 0f20	 tst         r3,#0x20
  00196	d019		 beq         |$LN2@RequestStr|
  00198		 |$LN30@RequestStr|
  00198	f000 f800	 bl          GetLastError
  0019c	4604		 mov         r4,r0
  0019e	f000 f800	 bl          GetLastError
  001a2	9401		 str         r4,[sp,#4]
  001a4	9000		 str         r0,[sp]
  001a6	464b		 mov         r3,r9
  001a8	462a		 mov         r2,r5
  001aa	490c		 ldr         r1,|$LN56@RequestStr| ; =|??_C@_1CI@HOGMIADO@?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@|
  001ac	480a		 ldr         r0,|$LN55@RequestStr| ; =|??_C@_1GO@OABAJFNF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAo?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AA?$CI?$AA?$CF?$AAd?$AA?$CJ?$AA?5?$AAt?$AAo?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8@|
  001ae	f000 f800	 bl          NKDbgPrintfW
  001b2	f000 f800	 bl          GetLastError
  001b6	4604		 mov         r4,r0
  001b8	f000 f800	 bl          GetLastError
  001bc	9401		 str         r4,[sp,#4]
  001be	9000		 str         r0,[sp]
  001c0	464b		 mov         r3,r9
  001c2	462a		 mov         r2,r5
  001c4	4905		 ldr         r1,|$LN56@RequestStr| ; =|??_C@_1CI@HOGMIADO@?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@|
  001c6	4804		 ldr         r0,|$LN55@RequestStr| ; =|??_C@_1GO@OABAJFNF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAo?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AA?$CI?$AA?$CF?$AAd?$AA?$CJ?$AA?5?$AAt?$AAo?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8@|
  001c8	f000 f800	 bl          CeLogMsg
  001cc		 |$LN2@RequestStr|

; 107  :     return fOk;
; 108  : }

  001cc	4630		 mov         r0,r6
  001ce		 |$M53|
  001ce	b007		 add         sp,sp,#0x1C
  001d0	e8bd 0ff0	 pop         {r4-r11}
  001d4	f85d fb14	 ldr         pc,[sp],#0x14
  001d8		 |$LN54@RequestStr|
  001d8		 |$LN55@RequestStr|
  001d8	0000 0000	 DCD         |??_C@_1GO@OABAJFNF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAo?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AA?$CI?$AA?$CF?$AAd?$AA?$CJ?$AA?5?$AAt?$AAo?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8@|
  001dc		 |$LN56@RequestStr|
  001dc	0000 0000	 DCD         |??_C@_1CI@HOGMIADO@?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@|
  001e0		 |$LN57@RequestStr|
  001e0	0000 0000	 DCD         |??_C@_1EO@MFPADMDA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAi?$AAn?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAo?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@|
  001e4		 |$LN58@RequestStr|
  001e4	0000 0000	 DCD         |dpCurSettings|
  001e8		 |$LN59@RequestStr|
  001e8	0000 0000	 DCD         |??_C@_1HG@LGBENHLO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAl?$AAl?$AAi?$AAn?$AAg?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAo?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0@|
  001ec		 |$LN60@RequestStr|
  001ec	0000 0000	 DCD         |??_C@_1BE@GFCJAFPH@?$AA?$DM?$AAU?$AAN?$AAK?$AAN?$AAO?$AAW?$AAN?$AA?$DO?$AA?$AA@|
  001f0		 |$LN61@RequestStr|
  001f0	0000 0000	 DCD         |??_C@_1EE@EJIINHMD@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAR?$AAE?$AAG?$AAI?$AAS?$AAT?$AAE?$AAR?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAR?$AAE?$AAL?$AAA?$AAT?$AAI?$AAO?$AAN?$AAS?$AAH?$AAI@|
  001f4		 |$LN62@RequestStr|
  001f4	0000 0000	 DCD         |??_C@_1CE@CONJIH@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAQ?$AAU?$AAE?$AAR?$AAY?$AA?$AA@|
  001f8		 |$LN63@RequestStr|
  001f8	0000 0000	 DCD         |??_C@_1CA@CMPIDKOH@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAS?$AAE?$AAT?$AA?$AA@|
  001fc		 |$LN64@RequestStr|
  001fc	1008 0032	 DCD         0x321008
  00200		 |$LN65@RequestStr|
  00200	0000 0000	 DCD         |??_C@_1CA@NEAJAFDG@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAG?$AAE?$AAT?$AA?$AA@|
  00204		 |$LN66@RequestStr|
  00204	1004 0032	 DCD         0x321004
  00208		 |$LN67@RequestStr|
  00208	1000 0032	 DCD         0x321000
  0020c		 |$LN68@RequestStr|
  0020c	0000 0000	 DCD         |??_C@_1DC@NLFIAHNJ@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAC?$AAA?$AAP?$AAA?$AAB?$AAI?$AAL?$AAI?$AAT?$AAI?$AAE?$AAS?$AA?$AA@|
  00210		 |$LN69@RequestStr|
  00210	1018 0032	 DCD         0x321018
  00214		 |$LN70@RequestStr|
  00214	100c 0032	 DCD         0x32100c
  00218		 |$LN71@RequestStr|
  00218	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  0021c		 |$LN72@RequestStr|
  0021c	0000 0000	 DCD         |??_C@_1IK@HNICBALF@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|

			 ENDP  ; |?RequestStreamDevice@@YAHPAXK0K0KPAK@Z|, RequestStreamDevice

  00220		 |$LN50@RequestStr|
	EXPORT	|??_C@_1CK@OHDAKAFA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAl?$AAo?$AAs?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CE@CGNNHHC@?$AAC?$AAl?$AAo?$AAs?$AAe?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FK@CCPFKAJO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAl?$AAo?$AAs?$AAe?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF@| [ DATA ] ; `string'
	IMPORT	|CloseHandle|

  00010			 AREA	 |.pdata|, PDATA
|$pdata1$?CloseStreamDevice@@YAHPAX@Z| DCD imagerel |$LN11@CloseStrea|
	DCD	0xfdb26101

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FK@CCPFKAJO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAl?$AAo?$AAs?$AAe?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "C", 0x0, "l", 0x0, "o"
	DCB	0x0, "s", 0x0, "e", 0x0, "H", 0x0, "a", 0x0, "n", 0x0, "d"
	DCB	0x0, "l", 0x0, "e", 0x0, "(", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "8", 0x0, "x", 0x0, ")", 0x0, " ", 0x0, "f"
	DCB	0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, " "
	DCB	0x0, "%", 0x0, "d", 0x0, " ", 0x0, "(", 0x0, "0", 0x0, "x"
	DCB	0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, ")", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CE@CGNNHHC@?$AAC?$AAl?$AAo?$AAs?$AAe?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@| DCB "C"
	DCB	0x0, "l", 0x0, "o", 0x0, "s", 0x0, "e", 0x0, "S", 0x0, "t"
	DCB	0x0, "r", 0x0, "e", 0x0, "a", 0x0, "m", 0x0, "D", 0x0, "e"
	DCB	0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CK@OHDAKAFA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAl?$AAo?$AAs?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "c", 0x0, "l", 0x0, "o"
	DCB	0x0, "s", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "0"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmstream.cpp

  00220			 AREA	 |.text|, CODE, THUMB

  00220		 |?CloseStreamDevice@@YAHPAX@Z| PROC	; CloseStreamDevice

; 65   : {

  00220		 |$LN11@CloseStrea|
  00220	e92d 487e	 push        {r1-r6,r11,lr}
  00224	f20d 0b18	 addw        r11,sp,#0x18
  00228		 |$M9|

; 66   :     SETFNAME(_T("CloseStreamDevice"));
; 67   : 
; 68   :     PMLOGMSG(ZONE_DEVICE || ZONE_IOCTL, (_T("%s: closing 0x%08x\r\n"), pszFname, hDevice));

  00228	4c20		 ldr         r4,|$LN17@CloseStrea| ; =|dpCurSettings|
  0022a	4605		 mov         r5,r0
  0022c	f8d4 3440	 ldr         r3,[r4,#0x440]
  00230	f013 0f10	 tst         r3,#0x10
  00234	d102		 bne         |$LN3@CloseStrea|
  00236	f013 0f20	 tst         r3,#0x20
  0023a	d009		 beq         |$LN4@CloseStrea|
  0023c		 |$LN3@CloseStrea|
  0023c	4919		 ldr         r1,|$LN15@CloseStrea| ; =|??_C@_1CE@CGNNHHC@?$AAC?$AAl?$AAo?$AAs?$AAe?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@|
  0023e	481a		 ldr         r0,|$LN16@CloseStrea| ; =|??_C@_1CK@OHDAKAFA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAl?$AAo?$AAs?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  00240	462a		 mov         r2,r5
  00242	f000 f800	 bl          NKDbgPrintfW
  00246	4917		 ldr         r1,|$LN15@CloseStrea| ; =|??_C@_1CE@CGNNHHC@?$AAC?$AAl?$AAo?$AAs?$AAe?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@|
  00248	4817		 ldr         r0,|$LN16@CloseStrea| ; =|??_C@_1CK@OHDAKAFA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAl?$AAo?$AAs?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  0024a	462a		 mov         r2,r5
  0024c	f000 f800	 bl          CeLogMsg
  00250		 |$LN4@CloseStrea|

; 69   :     BOOL fOk = CloseHandle(hDevice);

  00250	4628		 mov         r0,r5
  00252	f000 f800	 bl          CloseHandle
  00256	4606		 mov         r6,r0

; 70   :     PMLOGMSG(!fOk && (ZONE_WARN || ZONE_IOCTL), (_T("%s: CloseHandle(0x%08x) failed %d (0x%08x)\r\n"), pszFname,
; 71   :         hDevice, GetLastError(), GetLastError()));

  00258	b9fe		 cbnz        r6,|$LN6@CloseStrea|
  0025a	f8d4 3440	 ldr         r3,[r4,#0x440]
  0025e	f013 0f02	 tst         r3,#2
  00262	d102		 bne         |$LN5@CloseStrea|
  00264	f013 0f20	 tst         r3,#0x20
  00268	d017		 beq         |$LN6@CloseStrea|
  0026a		 |$LN5@CloseStrea|
  0026a	f000 f800	 bl          GetLastError
  0026e	4604		 mov         r4,r0
  00270	f000 f800	 bl          GetLastError
  00274	490b		 ldr         r1,|$LN15@CloseStrea| ; =|??_C@_1CE@CGNNHHC@?$AAC?$AAl?$AAo?$AAs?$AAe?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@|
  00276	4603		 mov         r3,r0
  00278	4809		 ldr         r0,|$LN14@CloseStrea| ; =|??_C@_1FK@CCPFKAJO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAl?$AAo?$AAs?$AAe?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF@|
  0027a	462a		 mov         r2,r5
  0027c	9400		 str         r4,[sp]
  0027e	f000 f800	 bl          NKDbgPrintfW
  00282	f000 f800	 bl          GetLastError
  00286	4604		 mov         r4,r0
  00288	f000 f800	 bl          GetLastError
  0028c	4905		 ldr         r1,|$LN15@CloseStrea| ; =|??_C@_1CE@CGNNHHC@?$AAC?$AAl?$AAo?$AAs?$AAe?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@|
  0028e	4603		 mov         r3,r0
  00290	4803		 ldr         r0,|$LN14@CloseStrea| ; =|??_C@_1FK@CCPFKAJO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAl?$AAo?$AAs?$AAe?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF@|
  00292	462a		 mov         r2,r5
  00294	9400		 str         r4,[sp]
  00296	f000 f800	 bl          CeLogMsg
  0029a		 |$LN6@CloseStrea|

; 72   :     return fOk;
; 73   : }

  0029a	4630		 mov         r0,r6
  0029c		 |$M12|
  0029c	e8bd 887e	 pop         {r1-r6,r11,pc}
  002a0		 |$LN13@CloseStrea|
  002a0		 |$LN14@CloseStrea|
  002a0	0000 0000	 DCD         |??_C@_1FK@CCPFKAJO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAl?$AAo?$AAs?$AAe?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF@|
  002a4		 |$LN15@CloseStrea|
  002a4	0000 0000	 DCD         |??_C@_1CE@CGNNHHC@?$AAC?$AAl?$AAo?$AAs?$AAe?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@|
  002a8		 |$LN16@CloseStrea|
  002a8	0000 0000	 DCD         |??_C@_1CK@OHDAKAFA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAl?$AAo?$AAs?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  002ac		 |$LN17@CloseStrea|
  002ac	0000 0000	 DCD         |dpCurSettings|
  002b0		 |$M10|

			 ENDP  ; |?CloseStreamDevice@@YAHPAX@Z|, CloseStreamDevice

	EXPORT	|??_C@_1FA@ELCLCFMF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAO?$AAp?$AAe?$AAn?$AAF?$AAi?$AAl?$AAe?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AA0?$AAx@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CC@OIEAOGEI@?$AAO?$AAp?$AAe?$AAn?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GC@OGEPHNOI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAh?$AAa?$AAn?$AAd?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAo?$AAn?$AA?5?$AAb?$AAe?$AAh?$AAa?$AAl?$AAf?$AA?5?$AAo?$AAf?$AA?5@| [ DATA ] ; `string'
	IMPORT	|CreateFileW|

  00018			 AREA	 |.pdata|, PDATA
|$pdata1$?OpenStreamDevice@@YAPAXPAU_DeviceState_tag@@@Z| DCD imagerel |$LN13@OpenStream|
	DCD	0x1740155

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GC@OGEPHNOI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAh?$AAa?$AAn?$AAd?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAo?$AAn?$AA?5?$AAb?$AAe?$AAh?$AAa?$AAl?$AAf?$AA?5?$AAo?$AAf?$AA?5@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "h", 0x0, "a", 0x0, "n"
	DCB	0x0, "d", 0x0, "l", 0x0, "e", 0x0, " ", 0x0, "t", 0x0, "o"
	DCB	0x0, " ", 0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'", 0x0, " "
	DCB	0x0, "o", 0x0, "n", 0x0, " ", 0x0, "b", 0x0, "e", 0x0, "h"
	DCB	0x0, "a", 0x0, "l", 0x0, "f", 0x0, " ", 0x0, "o", 0x0, "f"
	DCB	0x0, " ", 0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'", 0x0, " "
	DCB	0x0, "i", 0x0, "s", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "8", 0x0, "x", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CC@OIEAOGEI@?$AAO?$AAp?$AAe?$AAn?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@| DCB "O"
	DCB	0x0, "p", 0x0, "e", 0x0, "n", 0x0, "S", 0x0, "t", 0x0, "r"
	DCB	0x0, "e", 0x0, "a", 0x0, "m", 0x0, "D", 0x0, "e", 0x0, "v"
	DCB	0x0, "i", 0x0, "c", 0x0, "e", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FA@ELCLCFMF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAO?$AAp?$AAe?$AAn?$AAF?$AAi?$AAl?$AAe?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AA0?$AAx@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "O", 0x0, "p", 0x0, "e"
	DCB	0x0, "n", 0x0, "F", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "("
	DCB	0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'", 0x0, ")", 0x0, " "
	DCB	0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d"
	DCB	0x0, " ", 0x0, "%", 0x0, "d", 0x0, " ", 0x0, "(", 0x0, "0"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, ")"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmstream.cpp

  002b0			 AREA	 |.text|, CODE, THUMB

  002b0		 |?OpenStreamDevice@@YAPAXPAU_DeviceState_tag@@@Z| PROC ; OpenStreamDevice

; 39   : {

  002b0		 |$LN13@OpenStream|
  002b0	e92d 49f0	 push        {r4-r8,r11,lr}
  002b4	f20d 0b14	 addw        r11,sp,#0x14
  002b8	b085		 sub         sp,sp,#0x14
  002ba		 |$M11|
  002ba	4606		 mov         r6,r0

; 40   :     PDEVICE_STATE pdsReal = pds;
; 41   :     SETFNAME(_T("OpenStreamDevice"));
; 42   : 
; 43   :     // determine what device to actually open
; 44   :     if(pds->pParent != NULL) {

  002bc	6a73		 ldr         r3,[r6,#0x24]
  002be	4605		 mov         r5,r0
  002c0	b103		 cbz         r3,|$LN2@OpenStream|

; 45   :         pdsReal = pds->pParent;

  002c2	461d		 mov         r5,r3
  002c4		 |$LN2@OpenStream|

; 46   :     }
; 47   : 
; 48   :     // get a handle to the client
; 49   :     HANDLE hRet = CreateFile(pdsReal->pszName, 0, 
; 50   :         FILE_SHARE_READ|FILE_SHARE_WRITE, NULL, OPEN_EXISTING, 0, NULL);

  002c4	2300		 movs        r3,#0
  002c6	9302		 str         r3,[sp,#8]
  002c8	9301		 str         r3,[sp,#4]
  002ca	6828		 ldr         r0,[r5]
  002cc	2303		 movs        r3,#3
  002ce	9300		 str         r3,[sp]
  002d0	2300		 movs        r3,#0
  002d2	2203		 movs        r2,#3
  002d4	2100		 movs        r1,#0
  002d6	f000 f800	 bl          CreateFileW

; 51   :     if(hRet == INVALID_HANDLE_VALUE) {

  002da	f8df 808c	 ldr         r8,|$LN19@OpenStream| ; =|dpCurSettings|
  002de	4607		 mov         r7,r0
  002e0	f1b0 3fff	 cmp         r0,#0xFFFFFFFF

; 52   :         PMLOGMSG(ZONE_WARN || ZONE_IOCTL, (_T("%s: OpenFile('%s') failed %d (0x%08x)\r\n"), pszFname,
; 53   :             pdsReal->pszName, GetLastError(), GetLastError()));

  002e4	f8d8 3440	 ldr         r3,[r8,#0x440]
  002e8	d11f		 bne         |$LN6@OpenStream|
  002ea	f013 0f02	 tst         r3,#2
  002ee	d102		 bne         |$LN5@OpenStream|
  002f0	f013 0f20	 tst         r3,#0x20
  002f4	d019		 beq         |$LN6@OpenStream|
  002f6		 |$LN5@OpenStream|
  002f6	f000 f800	 bl          GetLastError
  002fa	4604		 mov         r4,r0
  002fc	f000 f800	 bl          GetLastError
  00300	682a		 ldr         r2,[r5]
  00302	4917		 ldr         r1,|$LN17@OpenStream| ; =|??_C@_1CC@OIEAOGEI@?$AAO?$AAp?$AAe?$AAn?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@|
  00304	4603		 mov         r3,r0
  00306	4817		 ldr         r0,|$LN18@OpenStream| ; =|??_C@_1FA@ELCLCFMF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAO?$AAp?$AAe?$AAn?$AAF?$AAi?$AAl?$AAe?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AA0?$AAx@|
  00308	9400		 str         r4,[sp]
  0030a	f000 f800	 bl          NKDbgPrintfW
  0030e	f000 f800	 bl          GetLastError
  00312	4604		 mov         r4,r0
  00314	f000 f800	 bl          GetLastError
  00318	682a		 ldr         r2,[r5]
  0031a	4911		 ldr         r1,|$LN17@OpenStream| ; =|??_C@_1CC@OIEAOGEI@?$AAO?$AAp?$AAe?$AAn?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@|
  0031c	4603		 mov         r3,r0
  0031e	4811		 ldr         r0,|$LN18@OpenStream| ; =|??_C@_1FA@ELCLCFMF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAO?$AAp?$AAe?$AAn?$AAF?$AAi?$AAl?$AAe?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AA0?$AAx@|
  00320	9400		 str         r4,[sp]
  00322	f000 f800	 bl          CeLogMsg
  00326	f8d8 3440	 ldr         r3,[r8,#0x440]
  0032a		 |$LN6@OpenStream|

; 54   :     }
; 55   :     PMLOGMSG(ZONE_DEVICE || ZONE_IOCTL, (_T("%s: handle to '%s' on behalf of '%s' is 0x%08x\r\n"), \
; 56   :         pszFname, pdsReal->pszName, pds->pszName, hRet));

  0032a	f013 0f10	 tst         r3,#0x10
  0032e	d102		 bne         |$LN7@OpenStream|
  00330	f013 0f20	 tst         r3,#0x20
  00334	d00d		 beq         |$LN8@OpenStream|
  00336		 |$LN7@OpenStream|
  00336	6833		 ldr         r3,[r6]
  00338	682a		 ldr         r2,[r5]
  0033a	4909		 ldr         r1,|$LN17@OpenStream| ; =|??_C@_1CC@OIEAOGEI@?$AAO?$AAp?$AAe?$AAn?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@|
  0033c	4807		 ldr         r0,|$LN16@OpenStream| ; =|??_C@_1GC@OGEPHNOI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAh?$AAa?$AAn?$AAd?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAo?$AAn?$AA?5?$AAb?$AAe?$AAh?$AAa?$AAl?$AAf?$AA?5?$AAo?$AAf?$AA?5@|
  0033e	9700		 str         r7,[sp]
  00340	f000 f800	 bl          NKDbgPrintfW
  00344	6833		 ldr         r3,[r6]
  00346	682a		 ldr         r2,[r5]
  00348	4905		 ldr         r1,|$LN17@OpenStream| ; =|??_C@_1CC@OIEAOGEI@?$AAO?$AAp?$AAe?$AAn?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@|
  0034a	4804		 ldr         r0,|$LN16@OpenStream| ; =|??_C@_1GC@OGEPHNOI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAh?$AAa?$AAn?$AAd?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAo?$AAn?$AA?5?$AAb?$AAe?$AAh?$AAa?$AAl?$AAf?$AA?5?$AAo?$AAf?$AA?5@|
  0034c	9700		 str         r7,[sp]
  0034e	f000 f800	 bl          CeLogMsg
  00352		 |$LN8@OpenStream|

; 57   : 
; 58   :     return hRet;
; 59   : }

  00352	4638		 mov         r0,r7
  00354		 |$M14|
  00354	b005		 add         sp,sp,#0x14
  00356	e8bd 89f0	 pop         {r4-r8,r11,pc}
  0035a		 |$LN20@OpenStream|
  0035a		 |$M21|
  0035a	defe		 __debugbreak
  0035c		 |$LN15@OpenStream|
  0035c		 |$LN16@OpenStream|
  0035c	0000 0000	 DCD         |??_C@_1GC@OGEPHNOI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAh?$AAa?$AAn?$AAd?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAo?$AAn?$AA?5?$AAb?$AAe?$AAh?$AAa?$AAl?$AAf?$AA?5?$AAo?$AAf?$AA?5@|
  00360		 |$LN17@OpenStream|
  00360	0000 0000	 DCD         |??_C@_1CC@OIEAOGEI@?$AAO?$AAp?$AAe?$AAn?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@|
  00364		 |$LN18@OpenStream|
  00364	0000 0000	 DCD         |??_C@_1FA@ELCLCFMF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAO?$AAp?$AAe?$AAn?$AAF?$AAi?$AAl?$AAe?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AA0?$AAx@|
  00368		 |$LN19@OpenStream|
  00368	0000 0000	 DCD         |dpCurSettings|
  0036c		 |$M12|

			 ENDP  ; |?OpenStreamDevice@@YAPAXPAU_DeviceState_tag@@@Z|, OpenStreamDevice

	END
