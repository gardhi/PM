; Listing generated by Microsoft (R) Optimizing Compiler Version 17.00.50727.114 

	TTL	C:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp
	THUMB

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|?glTotalObjects@@3JA| [ DATA ]		; glTotalObjects

  00000			 AREA	 |.bss|, NOINIT
|?glTotalObjects@@3JA| % 0x4				; glTotalObjects
	EXPORT	|?IsEqualGUID@@YAHABU_GUID@@0@Z|	; IsEqualGUID
	IMPORT	|memcmp|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$?IsEqualGUID@@YAHABU_GUID@@0@Z| DCD imagerel |$LN8@IsEqualGUI|
	DCD	0x3f6031
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\guiddef.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |?IsEqualGUID@@YAHABU_GUID@@0@Z| PROC	; IsEqualGUID

; 149  : {

  00000		 |$LN8@IsEqualGUI|
  00000	e92d 4800	 push        {r11,lr}
  00004	46eb		 mov         r11,sp
  00006		 |$M6|

; 150  :     return !memcmp(&rguid1, &rguid2, sizeof(GUID));

  00006	2210		 movs        r2,#0x10
  00008	f000 f800	 bl          memcmp
  0000c	b908		 cbnz        r0,|$LN3@IsEqualGUI|
  0000e	2001		 movs        r0,#1
  00010	e000		 b           |$LN4@IsEqualGUI|
  00012		 |$LN3@IsEqualGUI|
  00012	2000		 movs        r0,#0
  00014		 |$LN4@IsEqualGUI|
  00014		 |$M9|

; 151  : }

  00014	e8bd 8800	 pop         {r11,pc}
  00018		 |$M7|

			 ENDP  ; |?IsEqualGUID@@YAHABU_GUID@@0@Z|, IsEqualGUID

	IMPORT	|__security_push_cookie|
	IMPORT	|__security_pop_cookie|
	IMPORT	|__GSHandlerCheck|
	IMPORT	|StringCchVPrintfW|
	IMPORT	|StringCchLengthW|
	IMPORT	|CeLogData|

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$CeLogMsg| DCD imagerel |$LN8@CeLogMsg|
	DCD	imagerel |$unwind2$CeLogMsg|

  00000			 AREA	 |.xdata|, DATA
|$unwind2$CeLogMsg| DCD 0x44b00032
	DCD	0x1e889e8
	DCD	0x400a8fb
	DCD	0x8801e8ff
	DCD	0xff05ef00
	DCD	imagerel |__GSHandlerCheck|
	DCD	0xffffffe5
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\celog.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |CeLogMsg| PROC

; 1208 : {

  00000		 |$LN8@CeLogMsg|
  00000	b40f		 push        {r0-r3}
  00002	e92d 4800	 push        {r11,lr}
  00006	46eb		 mov         r11,sp
  00008	f000 f800	 bl          __security_push_cookie
  0000c	f2ad 2d24	 subw        sp,sp,#0x224
  00010		 |$M6|
  00010	4602		 mov         r2,r0

; 1209 :     va_list arglist;
; 1210 :     WCHAR   szTemp[MAX_PATH];
; 1211 :     size_t  cchLen;
; 1212 :     HRESULT hr;
; 1213 : 
; 1214 :     // Compose a single string using the input args
; 1215 :     va_start(arglist, szFormat);
; 1216 :     hr = StringCchVPrintfW(szTemp, MAX_PATH, szFormat, arglist);

  00012	a806		 add         r0,sp,#0x18
  00014	ab8d		 add         r3,sp,#0x234
  00016	f44f 7182	 mov         r1,#0x104
  0001a	928c		 str         r2,[sp,#0x230]
  0001c	f000 f800	 bl          StringCchVPrintfW

; 1217 :     if (SUCCEEDED(hr)) {

  00020	2800		 cmp         r0,#0
  00022	db17		 blt         |$LN1@CeLogMsg|

; 1218 :         hr = StringCchLengthW(szTemp, MAX_PATH, &cchLen);

  00024	aa04		 add         r2,sp,#0x10
  00026	a806		 add         r0,sp,#0x18
  00028	f44f 7182	 mov         r1,#0x104
  0002c	f000 f800	 bl          StringCchLengthW

; 1219 :         if (SUCCEEDED(hr)) {

  00030	2800		 cmp         r0,#0
  00032	db0f		 blt         |$LN1@CeLogMsg|

; 1220 :             CeLogData(TRUE, CELID_RAW_WCHAR, szTemp, (WORD)((cchLen + 1) * sizeof(WCHAR)),
; 1221 :                       0, CELZONE_ALWAYSON, 0, FALSE);

  00034	f04f 4380	 mov         r3,#0x40000000
  00038	9301		 str         r3,[sp,#4]
  0003a	9b04		 ldr         r3,[sp,#0x10]
  0003c	2200		 movs        r2,#0
  0003e	9203		 str         r2,[sp,#0xC]
  00040	3301		 adds        r3,#1
  00042	005b		 lsls        r3,r3,#1
  00044	9202		 str         r2,[sp,#8]
  00046	9200		 str         r2,[sp]
  00048	aa06		 add         r2,sp,#0x18
  0004a	214a		 movs        r1,#0x4A
  0004c	b29b		 uxth        r3,r3
  0004e	2001		 movs        r0,#1
  00050	f000 f800	 bl          CeLogData
  00054		 |$LN1@CeLogMsg|
  00054		 |$M9|

; 1222 :         }
; 1223 :     }
; 1224 : }

  00054	f20d 2d24	 addw        sp,sp,#0x224
  00058	f000 f800	 bl          __security_pop_cookie
  0005c	f85d bb04	 pop         {r11}
  00060	f85d fb14	 ldr         pc,[sp],#0x14
  00064		 |$M7|

			 ENDP  ; |CeLogMsg|

	EXPORT	|PmLock|
	IMPORT	|gcsPowerManager|
	IMPORT	|EnterCriticalSection|
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00064			 AREA	 |.text|, CODE, THUMB

  00064		 |PmLock| PROC

; 93   :     EnterCriticalSection(&gcsPowerManager);

  00064	4801		 ldr         r0,|$LN6@PmLock|	; =|gcsPowerManager|
  00066		 |$M4|
  00066	f000 9000	 b           EnterCriticalSection
  0006a		 |$LN7@PmLock|
  0006a		 |$M8|
  0006a	defe		 __debugbreak
  0006c		 |$LN5@PmLock|
  0006c		 |$LN6@PmLock|
  0006c	0000 0000	 DCD         |gcsPowerManager|

			 ENDP  ; |PmLock|

	EXPORT	|PmUnlock|
	IMPORT	|LeaveCriticalSection|
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00070			 AREA	 |.text|, CODE, THUMB

  00070		 |PmUnlock| PROC

; 100  :     LeaveCriticalSection(&gcsPowerManager);

  00070	4801		 ldr         r0,|$LN6@PmUnlock|	; =|gcsPowerManager|
  00072		 |$M4|
  00072	f000 9000	 b           LeaveCriticalSection
  00076		 |$LN7@PmUnlock|
  00076		 |$M8|
  00076	defe		 __debugbreak
  00078		 |$LN5@PmUnlock|
  00078		 |$LN6@PmUnlock|
  00078	0000 0000	 DCD         |gcsPowerManager|

			 ENDP  ; |PmUnlock|

	EXPORT	|PmEnterUpdate|
	IMPORT	|gcsDeviceUpdateAPIs|
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  0007c			 AREA	 |.text|, CODE, THUMB

  0007c		 |PmEnterUpdate| PROC

; 107  :     EnterCriticalSection(&gcsDeviceUpdateAPIs);

  0007c	4801		 ldr         r0,|$LN6@PmEnterUpd| ; =|gcsDeviceUpdateAPIs|
  0007e		 |$M4|
  0007e	f000 9000	 b           EnterCriticalSection
  00082		 |$LN7@PmEnterUpd|
  00082		 |$M8|
  00082	defe		 __debugbreak
  00084		 |$LN5@PmEnterUpd|
  00084		 |$LN6@PmEnterUpd|
  00084	0000 0000	 DCD         |gcsDeviceUpdateAPIs|

			 ENDP  ; |PmEnterUpdate|

	EXPORT	|PmLeaveUpdate|
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00088			 AREA	 |.text|, CODE, THUMB

  00088		 |PmLeaveUpdate| PROC

; 114  :     LeaveCriticalSection(&gcsDeviceUpdateAPIs);

  00088	4801		 ldr         r0,|$LN6@PmLeaveUpd| ; =|gcsDeviceUpdateAPIs|
  0008a		 |$M4|
  0008a	f000 9000	 b           LeaveCriticalSection
  0008e		 |$LN7@PmLeaveUpd|
  0008e		 |$M8|
  0008e	defe		 __debugbreak
  00090		 |$LN5@PmLeaveUpd|
  00090		 |$LN6@PmLeaveUpd|
  00090	0000 0000	 DCD         |gcsDeviceUpdateAPIs|

			 ENDP  ; |PmLeaveUpdate|


  00008			 AREA	 |.pdata|, PDATA
|$pdata1$?HexStringToDword@@YAHAAPBGAAKHG@Z| DCD imagerel |$LN23@HexStringT|
	DCD	0x3360ed
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00094			 AREA	 |.text|, CODE, THUMB

  00094		 |?HexStringToDword@@YAHAAPBGAAKHG@Z| PROC ; HexStringToDword

; 212  : {

  00094		 |$LN23@HexStringT|
  00094	e92d 48f0	 push        {r4-r7,r11,lr}
  00098	f20d 0b10	 addw        r11,sp,#0x10
  0009c		 |$M21|
  0009c	461e		 mov         r6,r3

; 213  :     int Count;
; 214  :     
; 215  :     Value = 0;

  0009e	2300		 movs        r3,#0

; 216  :     for (Count = 0; Count < cDigits; Count++, lpsz++)

  000a0	2700		 movs        r7,#0
  000a2	600b		 str         r3,[r1]
  000a4	2a00		 cmp         r2,#0
  000a6	dd23		 ble         |$LN9@HexStringT|
  000a8		 |$LL11@HexStringT|

; 217  :     {
; 218  :         if (*lpsz >= '0' && *lpsz <= '9')

  000a8	6804		 ldr         r4,[r0]
  000aa	8825		 ldrh        r5,[r4]
  000ac	2d30		 cmp         r5,#0x30
  000ae	d307		 bcc         |$LN8@HexStringT|
  000b0	2d39		 cmp         r5,#0x39
  000b2	d805		 bhi         |$LN8@HexStringT|

; 219  :             Value = (Value << 4) + *lpsz - '0';

  000b4	680c		 ldr         r4,[r1]
  000b6	eb05 1404	 add         r4,r5,r4,lsl #4
  000ba	3c30		 subs        r4,r4,#0x30
  000bc	600c		 str         r4,[r1]
  000be	e011		 b           |$LN10@HexStringT|
  000c0		 |$LN8@HexStringT|

; 220  :         else if (*lpsz >= 'A' && *lpsz <= 'F')

  000c0	2d41		 cmp         r5,#0x41
  000c2	d306		 bcc         |$LN6@HexStringT|
  000c4	2d46		 cmp         r5,#0x46
  000c6	d804		 bhi         |$LN6@HexStringT|

; 221  :             Value = (Value << 4) + *lpsz - 'A' + 10;

  000c8	680b		 ldr         r3,[r1]
  000ca	eb05 1303	 add         r3,r5,r3,lsl #4
  000ce	3b37		 subs        r3,r3,#0x37
  000d0	e007		 b           |$LN19@HexStringT|
  000d2		 |$LN6@HexStringT|

; 222  :         else if (*lpsz >= 'a' && *lpsz <= 'f')

  000d2	2d61		 cmp         r5,#0x61
  000d4	d317		 bcc         |$LN4@HexStringT|
  000d6	2d66		 cmp         r5,#0x66
  000d8	d815		 bhi         |$LN4@HexStringT|

; 223  :             Value = (Value << 4) + *lpsz - 'a' + 10;

  000da	680b		 ldr         r3,[r1]
  000dc	eb05 1303	 add         r3,r5,r3,lsl #4
  000e0	3b57		 subs        r3,r3,#0x57
  000e2		 |$LN19@HexStringT|
  000e2	600b		 str         r3,[r1]
  000e4		 |$LN10@HexStringT|

; 216  :     for (Count = 0; Count < cDigits; Count++, lpsz++)

  000e4	6803		 ldr         r3,[r0]
  000e6	3701		 adds        r7,#1
  000e8	3302		 adds        r3,#2
  000ea	6003		 str         r3,[r0]
  000ec	4297		 cmp         r7,r2
  000ee	dbdb		 blt         |$LL11@HexStringT|
  000f0		 |$LN9@HexStringT|

; 226  :     }
; 227  :     
; 228  :     if (chDelim != 0)

  000f0	b136		 cbz         r6,|$LN2@HexStringT|

; 229  :         return *lpsz++ == chDelim;

  000f2	6802		 ldr         r2,[r0]
  000f4	8813		 ldrh        r3,[r2]
  000f6	42b3		 cmp         r3,r6
  000f8	f102 0302	 add         r3,r2,#2
  000fc	6003		 str         r3,[r0]
  000fe	d102		 bne         |$LN4@HexStringT|
  00100		 |$LN2@HexStringT|

; 230  :     else
; 231  :         return TRUE;

  00100	2001		 movs        r0,#1
  00102		 |$LN1@HexStringT|
  00102		 |$M24|

; 232  : }

  00102	e8bd 88f0	 pop         {r4-r7,r11,pc}
  00106		 |$LN4@HexStringT|

; 224  :         else
; 225  :             return(FALSE);

  00106	2000		 movs        r0,#0
  00108	e7fb		 b           |$LN1@HexStringT|
  0010a		 |$M22|

			 ENDP  ; |?HexStringToDword@@YAHAAPBGAAKHG@Z|, HexStringToDword

	EXPORT	|??8@YAHABU_GUID@@0@Z|			; operator==

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$??8@YAHABU_GUID@@0@Z| DCD imagerel |$LN10@operator|
	DCD	0x3f6031
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\guiddef.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |??8@YAHABU_GUID@@0@Z| PROC		; operator==

; 183  : {

  00000		 |$LN10@operator|
  00000	e92d 4800	 push        {r11,lr}
  00004	46eb		 mov         r11,sp
  00006		 |$M8|

; 150  :     return !memcmp(&rguid1, &rguid2, sizeof(GUID));

  00006	2210		 movs        r2,#0x10
  00008	f000 f800	 bl          memcmp
  0000c	b908		 cbnz        r0,|$LN5@operator|
  0000e	2001		 movs        r0,#1
  00010	e000		 b           |$LN6@operator|
  00012		 |$LN5@operator|
  00012	2000		 movs        r0,#0
  00014		 |$LN6@operator|
  00014		 |$M11|

; 184  :     return IsEqualGUID(guidOne,guidOther);
; 185  : }

  00014	e8bd 8800	 pop         {r11,pc}
  00018		 |$M9|

			 ENDP  ; |??8@YAHABU_GUID@@0@Z|, operator==

	EXPORT	|??_C@_1EC@JAIMPFEK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAc?$AAa?$AAl?$AAc?$AAu?$AAl?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAi?$AAz?$AAe?$AA?$AN?$AA?6@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BK@HBDDEGID@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAS?$AAi?$AAz?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|DeviceIdSize|
	IMPORT	|wcslen|
	IMPORT	|__C_specific_handler|
	IMPORT	|dpCurSettings|
	IMPORT	|NKDbgPrintfW|

  00010			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceIdSize| DCD imagerel |$LN23@DeviceIdSi|
	DCD	imagerel |$unwind2$DeviceIdSize|

  0001c			 AREA	 |.xdata|, DATA
	%	4
|$unwind2$DeviceIdSize| DCD 0x2010002a
	DCD	0x9ca8fcc7
	DCD	0xff
	DCD	imagerel |__C_specific_handler|
	DCD	0x1
	DCD	imagerel |$LN15@DeviceIdSi|
	DCD	imagerel |$LN16@DeviceIdSi|
	DCD	0x1
	DCD	imagerel |$LN12@DeviceIdSi|

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BK@HBDDEGID@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAS?$AAi?$AAz?$AAe?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "I"
	DCB	0x0, "d", 0x0, "S", 0x0, "i", 0x0, "z", 0x0, "e", 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EC@JAIMPFEK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAc?$AAa?$AAl?$AAc?$AAu?$AAl?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAi?$AAz?$AAe?$AA?$AN?$AA?6@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "x", 0x0, "c"
	DCB	0x0, "e", 0x0, "p", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, " ", 0x0, "c", 0x0, "a", 0x0, "l", 0x0, "c", 0x0, "u"
	DCB	0x0, "l", 0x0, "a", 0x0, "t", 0x0, "i", 0x0, "n", 0x0, "g"
	DCB	0x0, " ", 0x0, "s", 0x0, "i", 0x0, "z", 0x0, "e", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  0010a			 AREA	 |.text|, CODE, THUMB

  0010c		 |DeviceIdSize| PROC

; 339  : {

  0010c		 |$LN23@DeviceIdSi|
  0010c	e92d 489c	 push        {r2-r4,r7,r11,lr}
  00110	f20d 0b10	 addw        r11,sp,#0x10
  00114	466f		 mov         r7,sp
  00116		 |$LN21@DeviceIdSi|
  00116	4604		 mov         r4,r0

; 340  :     DWORD dwSize;
; 341  :     SETFNAME(_T("DeviceIdSize"));
; 342  : 
; 343  :     if(pId != NULL) {

  00118	b1fc		 cbz         r4,|$LN5@DeviceIdSi|
  0011a		 |$LN15@DeviceIdSi|

; 344  :         // calculate the amount of memory to allocate
; 345  :         __try {
; 346  :             dwSize = sizeof(*pId);

  0011a	2008		 movs        r0,#8
  0011c	6038		 str         r0,[r7]

; 347  :             if(pId->pszName != NULL) {

  0011e	6863		 ldr         r3,[r4,#4]
  00120	b12b		 cbz         r3,|$LN3@DeviceIdSi|

; 348  :                 dwSize += (_tcslen(pId->pszName) + 1) * sizeof(pId->pszName[0]);

  00122	4618		 mov         r0,r3
  00124	f000 f800	 bl          wcslen
  00128	1d43		 adds        r3,r0,#5
  0012a	0058		 lsls        r0,r3,#1
  0012c	6038		 str         r0,[r7]
  0012e		 |$LN3@DeviceIdSi|

; 349  :             }
; 350  :             if(pId->pGuid != NULL) {

  0012e	6823		 ldr         r3,[r4]
  00130	b10b		 cbz         r3,|$LN16@DeviceIdSi|

; 351  :                 dwSize += sizeof(GUID);

  00132	3010		 adds        r0,r0,#0x10
  00134	6038		 str         r0,[r7]
  00136		 |$LN16@DeviceIdSi|

; 352  :             }
; 353  :         }

  00136	e011		 b           |$LN1@DeviceIdSi|
  00138		 |$LN12@DeviceIdSi|
  00138		 |$LN14@DeviceIdSi|

; 354  :         __except(EXCEPTION_EXECUTE_HANDLER) {
; 355  :             PMLOGMSG(ZONE_WARN, (_T("%s: exception calculating size\r\n"), pszFname));

  00138	4b0b		 ldr         r3,|$LN29@DeviceIdSi| ; =|dpCurSettings|
  0013a	f8d3 3440	 ldr         r3,[r3,#0x440]
  0013e	f013 0f02	 tst         r3,#2
  00142	d007		 beq         |$LN8@DeviceIdSi|
  00144	4907		 ldr         r1,|$LN28@DeviceIdSi| ; =|??_C@_1BK@HBDDEGID@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAS?$AAi?$AAz?$AAe?$AA?$AA@|
  00146	4806		 ldr         r0,|$LN27@DeviceIdSi| ; =|??_C@_1EC@JAIMPFEK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAc?$AAa?$AAl?$AAc?$AAu?$AAl?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAi?$AAz?$AAe?$AA?$AN?$AA?6@|
  00148	f000 f800	 bl          NKDbgPrintfW
  0014c	4905		 ldr         r1,|$LN28@DeviceIdSi| ; =|??_C@_1BK@HBDDEGID@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAS?$AAi?$AAz?$AAe?$AA?$AA@|
  0014e	4804		 ldr         r0,|$LN27@DeviceIdSi| ; =|??_C@_1EC@JAIMPFEK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAc?$AAa?$AAl?$AAc?$AAu?$AAl?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAi?$AAz?$AAe?$AA?$AN?$AA?6@|
  00150	f000 f800	 bl          CeLogMsg
  00154		 |$LN8@DeviceIdSi|

; 356  :             dwSize = 0;;

  00154	2000		 movs        r0,#0
  00156	6038		 str         r0,[r7]
  00158	e000		 b           |$LN1@DeviceIdSi|
  0015a		 |$LN5@DeviceIdSi|

; 357  :         }
; 358  :     } else {
; 359  :         dwSize = 0;

  0015a	2000		 movs        r0,#0
  0015c		 |$LN1@DeviceIdSi|
  0015c		 |$M25|

; 360  :     }
; 361  : 
; 362  :     return dwSize;
; 363  : }

  0015c	e8bd 889c	 pop         {r2-r4,r7,r11,pc}
  00160		 |$LN26@DeviceIdSi|
  00160		 |$LN27@DeviceIdSi|
  00160	0000 0000	 DCD         |??_C@_1EC@JAIMPFEK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAc?$AAa?$AAl?$AAc?$AAu?$AAl?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAi?$AAz?$AAe?$AA?$AN?$AA?6@|
  00164		 |$LN28@DeviceIdSi|
  00164	0000 0000	 DCD         |??_C@_1BK@HBDDEGID@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAS?$AAi?$AAz?$AAe?$AA?$AA@|
  00168		 |$LN29@DeviceIdSi|
  00168	0000 0000	 DCD         |dpCurSettings|

			 ENDP  ; |DeviceIdSize|

  0016c		 |$LN22@DeviceIdSi|
	EXPORT	|??_C@_1CK@LIONPPLD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAf?$AAr?$AAe?$AAe?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1O@JGKCFIJB@?$AAP?$AAm?$AAF?$AAr?$AAe?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@| [ DATA ] ; `string'
	EXPORT	|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EC@HEMEJBJB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAH?$AAe?$AAa?$AAp?$AAF?$AAr?$AAe?$AAe?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6@| [ DATA ] ; `string'
	EXPORT	|PmFree|
	IMPORT	|memset|
	IMPORT	|ghPmHeap|
	IMPORT	|HeapFree|
	IMPORT	|GetLastError|
	IMPORT	|InterlockedDecrement|

  00018			 AREA	 |.pdata|, PDATA
|$pdata1$PmFree| DCD imagerel |$LN20@PmFree|
	DCD	0xfd326185

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EC@HEMEJBJB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAH?$AAe?$AAa?$AAp?$AAF?$AAr?$AAe?$AAe?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "H", 0x0, "e", 0x0, "a"
	DCB	0x0, "p", 0x0, "F", 0x0, "r", 0x0, "e", 0x0, "e", 0x0, "("
	DCB	0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x"
	DCB	0x0, ")", 0x0, " ", 0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l"
	DCB	0x0, "e", 0x0, "d", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@| DCB "c"
	DCB	0x0, ":", 0x0, "\\", 0x0, "w", 0x0, "i", 0x0, "n", 0x0, "c"
	DCB	0x0, "e", 0x0, "8", 0x0, "0", 0x0, "0", 0x0, "\\", 0x0, "p"
	DCB	0x0, "l", 0x0, "a", 0x0, "t", 0x0, "f", 0x0, "o", 0x0, "r"
	DCB	0x0, "m", 0x0, "\\", 0x0, "r", 0x0, "r", 0x0, "m", 0x0, "_"
	DCB	0x0, "p", 0x0, "p", 0x0, "c", 0x0, "_", 0x0, "w", 0x0, "i"
	DCB	0x0, "n", 0x0, "d", 0x0, "o", 0x0, "w", 0x0, "s", 0x0, "\\"
	DCB	0x0, "s", 0x0, "r", 0x0, "c", 0x0, "\\", 0x0, "d", 0x0, "r"
	DCB	0x0, "i", 0x0, "v", 0x0, "e", 0x0, "r", 0x0, "s", 0x0, "\\"
	DCB	0x0, "p", 0x0, "m", 0x0, "\\", 0x0, "m", 0x0, "d", 0x0, "d"
	DCB	0x0, "\\", 0x0, "p", 0x0, "m", 0x0, "u", 0x0, "t", 0x0, "i"
	DCB	0x0, "l", 0x0, "s", 0x0, ".", 0x0, "c", 0x0, "p", 0x0, "p"
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "D", 0x0, "E", 0x0, "B"
	DCB	0x0, "U", 0x0, "G", 0x0, "C", 0x0, "H", 0x0, "K", 0x0, " "
	DCB	0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d"
	DCB	0x0, " ", 0x0, "i", 0x0, "n", 0x0, " ", 0x0, "f", 0x0, "i"
	DCB	0x0, "l", 0x0, "e", 0x0, " ", 0x0, "%", 0x0, "s", 0x0, " "
	DCB	0x0, "a", 0x0, "t", 0x0, " ", 0x0, "l", 0x0, "i", 0x0, "n"
	DCB	0x0, "e", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, " ", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1O@JGKCFIJB@?$AAP?$AAm?$AAF?$AAr?$AAe?$AAe?$AA?$AA@| DCB "P", 0x0, "m"
	DCB	0x0, "F", 0x0, "r", 0x0, "e", 0x0, "e", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CK@LIONPPLD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAf?$AAr?$AAe?$AAe?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "f", 0x0, "r", 0x0, "e"
	DCB	0x0, "e", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "0"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  0016c			 AREA	 |.text|, CODE, THUMB

  0016c		 |PmFree| PROC

; 176  : {

  0016c		 |$LN20@PmFree|
  0016c	e92d 4878	 push        {r3-r6,r11,lr}
  00170	f20d 0b10	 addw        r11,sp,#0x10
  00174		 |$M18|

; 177  :     SETFNAME(_T("PmFree"));
; 178  : 
; 179  :     PMLOGMSG(ZONE_ALLOC, (_T("%s: freeing 0x%08x\r\n"), pszFname, pvMemory));

  00174	4d36		 ldr         r5,|$LN31@PmFree|	; =|dpCurSettings|
  00176	4604		 mov         r4,r0
  00178	f8d5 3440	 ldr         r3,[r5,#0x440]
  0017c	f413 5f80	 tst         r3,#0x1000
  00180	d009		 beq         |$LN6@PmFree|
  00182	492f		 ldr         r1,|$LN27@PmFree|	; =|??_C@_1O@JGKCFIJB@?$AAP?$AAm?$AAF?$AAr?$AAe?$AAe?$AA?$AA@|
  00184	4602		 mov         r2,r0
  00186	4831		 ldr         r0,|$LN30@PmFree|	; =|??_C@_1CK@LIONPPLD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAf?$AAr?$AAe?$AAe?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  00188	f000 f800	 bl          NKDbgPrintfW
  0018c	492c		 ldr         r1,|$LN27@PmFree|	; =|??_C@_1O@JGKCFIJB@?$AAP?$AAm?$AAF?$AAr?$AAe?$AAe?$AA?$AA@|
  0018e	482f		 ldr         r0,|$LN30@PmFree|	; =|??_C@_1CK@LIONPPLD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAf?$AAr?$AAe?$AAe?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  00190	4622		 mov         r2,r4
  00192	f000 f800	 bl          CeLogMsg
  00196		 |$LN6@PmFree|

; 180  : 
; 181  :     DEBUGCHK(pvMemory != NULL);

  00196	b93c		 cbnz        r4,|$LN16@PmFree|
  00198	4a26		 ldr         r2,|$LN24@PmFree|	; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  0019a	4825		 ldr         r0,|$LN23@PmFree|	; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  0019c	23b5		 movs        r3,#0xB5
  0019e	4629		 mov         r1,r5
  001a0	f000 f800	 bl          NKDbgPrintfW
  001a4	defe		 __debugbreak

; 182  : 
; 183  : #ifdef DEBUGALLOC
; 184  :     // fill 
; 185  :     if(pvMemory != NULL) {

  001a6	e013		 b           |$LN3@PmFree|
  001a8		 |$LN16@PmFree|

; 186  :         PDWORD pdwMemory = (PDWORD) ((DWORD) pvMemory - HEAPHEADERSIZE);

  001a8	3c10		 subs        r4,r4,#0x10

; 187  :         DEBUGCHK(pdwMemory[0] == HEAPSIGNATURE && pdwMemory[1] > HEAPHEADERSIZE);

  001aa	6822		 ldr         r2,[r4]
  001ac	4b26		 ldr         r3,|$LN29@PmFree|	; =0xfa124301
  001ae	429a		 cmp         r2,r3
  001b0	d102		 bne         |$LN10@PmFree|
  001b2	6863		 ldr         r3,[r4,#4]
  001b4	2b10		 cmp         r3,#0x10
  001b6	d806		 bhi         |$LN11@PmFree|
  001b8		 |$LN10@PmFree|
  001b8	4a1e		 ldr         r2,|$LN24@PmFree|	; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  001ba	481d		 ldr         r0,|$LN23@PmFree|	; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  001bc	23bb		 movs        r3,#0xBB
  001be	4629		 mov         r1,r5
  001c0	f000 f800	 bl          NKDbgPrintfW
  001c4	defe		 __debugbreak
  001c6		 |$LN11@PmFree|

; 188  :         memset(pdwMemory, 0xDD, pdwMemory[1]);

  001c6	6862		 ldr         r2,[r4,#4]
  001c8	21dd		 movs        r1,#0xDD
  001ca	4620		 mov         r0,r4
  001cc	f000 f800	 bl          memset
  001d0		 |$LN3@PmFree|

; 189  :         pvMemory = pdwMemory;
; 190  :     }
; 191  : #endif  // DEBUGALLOCl
; 192  : 
; 193  :     BOOL fOk = HeapFree(ghPmHeap, 0, pvMemory);

  001d0	4b1c		 ldr         r3,|$LN28@PmFree|	; =|ghPmHeap|
  001d2	4622		 mov         r2,r4
  001d4	2100		 movs        r1,#0
  001d6	6818		 ldr         r0,[r3]
  001d8	f000 f800	 bl          HeapFree
  001dc	4606		 mov         r6,r0

; 194  :     if(!fOk) {

  001de	b9ae		 cbnz        r6,|$LN2@PmFree|

; 195  :         PMLOGMSG(ZONE_WARN, (_T("%s: HeapFree(0x%08x) failed %d\r\n"), pszFname,
; 196  :             pvMemory, GetLastError()));

  001e0	f8d5 3440	 ldr         r3,[r5,#0x440]
  001e4	f013 0f02	 tst         r3,#2
  001e8	d01e		 beq         |$LN15@PmFree|
  001ea	f000 f800	 bl          GetLastError
  001ee	4914		 ldr         r1,|$LN27@PmFree|	; =|??_C@_1O@JGKCFIJB@?$AAP?$AAm?$AAF?$AAr?$AAe?$AAe?$AA?$AA@|
  001f0	4603		 mov         r3,r0
  001f2	4812		 ldr         r0,|$LN26@PmFree|	; =|??_C@_1EC@HEMEJBJB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAH?$AAe?$AAa?$AAp?$AAF?$AAr?$AAe?$AAe?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6@|
  001f4	4622		 mov         r2,r4
  001f6	f000 f800	 bl          NKDbgPrintfW
  001fa	f000 f800	 bl          GetLastError
  001fe	4910		 ldr         r1,|$LN27@PmFree|	; =|??_C@_1O@JGKCFIJB@?$AAP?$AAm?$AAF?$AAr?$AAe?$AAe?$AA?$AA@|
  00200	4603		 mov         r3,r0
  00202	480e		 ldr         r0,|$LN26@PmFree|	; =|??_C@_1EC@HEMEJBJB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAH?$AAe?$AAa?$AAp?$AAF?$AAr?$AAe?$AAe?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6@|
  00204	4622		 mov         r2,r4
  00206	f000 f800	 bl          CeLogMsg

; 197  :     }
; 198  : #ifdef DEBUG
; 199  :     else {

  0020a	e00d		 b           |$LN15@PmFree|
  0020c		 |$LN2@PmFree|

; 200  :         InterlockedDecrement(&glTotalObjects);

  0020c	4c0a		 ldr         r4,|$LN25@PmFree|	; =|?glTotalObjects@@3JA|
  0020e	4620		 mov         r0,r4
  00210	f000 f800	 bl          InterlockedDecrement

; 201  :         DEBUGCHK(glTotalObjects >= 0);

  00214	6823		 ldr         r3,[r4]
  00216	2b00		 cmp         r3,#0
  00218	da06		 bge         |$LN15@PmFree|
  0021a	4a06		 ldr         r2,|$LN24@PmFree|	; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  0021c	4804		 ldr         r0,|$LN23@PmFree|	; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  0021e	23c9		 movs        r3,#0xC9
  00220	4629		 mov         r1,r5
  00222	f000 f800	 bl          NKDbgPrintfW
  00226	defe		 __debugbreak
  00228		 |$LN15@PmFree|

; 202  :     }
; 203  : #endif  // DEBUG
; 204  :     return fOk;
; 205  : }

  00228	4630		 mov         r0,r6
  0022a		 |$M21|
  0022a	e8bd 8878	 pop         {r3-r6,r11,pc}
  0022e		 |$LN32@PmFree|
  0022e		 |$M33|
  0022e	defe		 __debugbreak
  00230		 |$LN22@PmFree|
  00230		 |$LN23@PmFree|
  00230	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00234		 |$LN24@PmFree|
  00234	0000 0000	 DCD         |??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00238		 |$LN25@PmFree|
  00238	0000 0000	 DCD         |?glTotalObjects@@3JA|
  0023c		 |$LN26@PmFree|
  0023c	0000 0000	 DCD         |??_C@_1EC@HEMEJBJB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAH?$AAe?$AAa?$AAp?$AAF?$AAr?$AAe?$AAe?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6@|
  00240		 |$LN27@PmFree|
  00240	0000 0000	 DCD         |??_C@_1O@JGKCFIJB@?$AAP?$AAm?$AAF?$AAr?$AAe?$AAe?$AA?$AA@|
  00244		 |$LN28@PmFree|
  00244	0000 0000	 DCD         |ghPmHeap|
  00248		 |$LN29@PmFree|
  00248	4301 fa12	 DCD         0xfa124301
  0024c		 |$LN30@PmFree|
  0024c	0000 0000	 DCD         |??_C@_1CK@LIONPPLD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAf?$AAr?$AAe?$AAe?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  00250		 |$LN31@PmFree|
  00250	0000 0000	 DCD         |dpCurSettings|
  00254		 |$M19|

			 ENDP  ; |PmFree|

	EXPORT	|??_C@_0EE@FAEIPNNJ@c?3?2wince800?2platform?2rrm_ppc_win@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DM@MIMNLNGK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAH?$AAe?$AAa?$AAp?$AAA?$AAl?$AAl?$AAo?$AAc?$AA?$CI?$AA?$CF?$AAd?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BA@NHFCMMEL@?$AAP?$AAm?$AAA?$AAl?$AAl?$AAo?$AAc?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1IE@FBPFPCLK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AA?5?$AA?$CF?$AAd?$AA?5?$AAb?$AAy?$AAt?$AAe?$AAs?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAe?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0@| [ DATA ] ; `string'
	EXPORT	|PmAlloc|
	IMPORT	|HeapAllocTrace|
	IMPORT	|InterlockedIncrement|

  00020			 AREA	 |.pdata|, PDATA
|$pdata1$PmAlloc| DCD imagerel |$LN15@PmAlloc|
	DCD	0xfd736155

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1IE@FBPFPCLK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AA?5?$AA?$CF?$AAd?$AA?5?$AAb?$AAy?$AAt?$AAe?$AAs?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAe?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "a", 0x0, "l", 0x0, "l"
	DCB	0x0, "o", 0x0, "c", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, " "
	DCB	0x0, "b", 0x0, "y", 0x0, "t", 0x0, "e", 0x0, "s", 0x0, " "
	DCB	0x0, "r", 0x0, "e", 0x0, "t", 0x0, "u", 0x0, "r", 0x0, "n"
	DCB	0x0, "e", 0x0, "d", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "8", 0x0, "x", 0x0, " ", 0x0, "(", 0x0, "%"
	DCB	0x0, "d", 0x0, " ", 0x0, "t", 0x0, "o", 0x0, "t", 0x0, "a"
	DCB	0x0, "l", 0x0, " ", 0x0, "o", 0x0, "b", 0x0, "j", 0x0, "e"
	DCB	0x0, "c", 0x0, "t", 0x0, "s", 0x0, " ", 0x0, "a", 0x0, "l"
	DCB	0x0, "l", 0x0, "o", 0x0, "c", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, "d", 0x0, ")", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BA@NHFCMMEL@?$AAP?$AAm?$AAA?$AAl?$AAl?$AAo?$AAc?$AA?$AA@| DCB "P", 0x0
	DCB	"m", 0x0, "A", 0x0, "l", 0x0, "l", 0x0, "o", 0x0, "c", 0x0
	DCB	0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DM@MIMNLNGK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAH?$AAe?$AAa?$AAp?$AAA?$AAl?$AAl?$AAo?$AAc?$AA?$CI?$AA?$CF?$AAd?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "H", 0x0, "e", 0x0, "a"
	DCB	0x0, "p", 0x0, "A", 0x0, "l", 0x0, "l", 0x0, "o", 0x0, "c"
	DCB	0x0, "(", 0x0, "%", 0x0, "d", 0x0, ")", 0x0, " ", 0x0, "f"
	DCB	0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, " "
	DCB	0x0, "%", 0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0EE@FAEIPNNJ@c?3?2wince800?2platform?2rrm_ppc_win@| DCB "c:\\wince"
	DCB	"800\\platform\\rrm_ppc_windows\\src\\drivers\\pm\\mdd\\p"
	DCB	"mutils.cpp", 0x0			; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00254			 AREA	 |.text|, CODE, THUMB

  00254		 |PmAlloc| PROC

; 131  : {

  00254		 |$LN15@PmAlloc|
  00254	e92d 48fc	 push        {r2-r7,r11,lr}
  00258	f20d 0b18	 addw        r11,sp,#0x18
  0025c		 |$M13|
  0025c	4605		 mov         r5,r0

; 132  :     SETFNAME(_T("PmAlloc"));
; 133  : 
; 134  :     DEBUGCHK(dwSize != 0);

  0025e	4e31		 ldr         r6,|$LN27@PmAlloc|	; =|dpCurSettings|
  00260	b935		 cbnz        r5,|$LN7@PmAlloc|
  00262	4a2f		 ldr         r2,|$LN26@PmAlloc|	; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00264	482d		 ldr         r0,|$LN25@PmAlloc|	; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00266	2386		 movs        r3,#0x86
  00268	4631		 mov         r1,r6
  0026a	f000 f800	 bl          NKDbgPrintfW
  0026e	defe		 __debugbreak
  00270		 |$LN7@PmAlloc|

; 135  : 
; 136  : #ifdef DEBUGALLOC
; 137  :     // prepend a header so we can track post-free accesses of the memory
; 138  :     dwSize += HEAPHEADERSIZE;
; 139  : #endif  // DEBUGALLOC
; 140  : 
; 141  :     PVOID pvRet = HeapAlloc(ghPmHeap, 0, dwSize);

  00270	4c29		 ldr         r4,|$LN24@PmAlloc|	; =|ghPmHeap|
  00272	4b28		 ldr         r3,|$LN23@PmAlloc|	; =|??_C@_0EE@FAEIPNNJ@c?3?2wince800?2platform?2rrm_ppc_win@|
  00274	3510		 adds        r5,r5,#0x10
  00276	6820		 ldr         r0,[r4]
  00278	9300		 str         r3,[sp]
  0027a	238d		 movs        r3,#0x8D
  0027c	462a		 mov         r2,r5
  0027e	2100		 movs        r1,#0
  00280	f000 f800	 bl          HeapAllocTrace
  00284	4604		 mov         r4,r0

; 142  :     if(pvRet == NULL) {

  00286	4f22		 ldr         r7,|$LN22@PmAlloc|	; =|?glTotalObjects@@3JA|
  00288	b9ac		 cbnz        r4,|$LN3@PmAlloc|

; 143  :         PMLOGMSG(ZONE_WARN, (_T("%s: HeapAlloc(%d) failed %d\r\n"), pszFname,
; 144  :             dwSize, GetLastError()));

  0028a	f8d6 3440	 ldr         r3,[r6,#0x440]
  0028e	f013 0f02	 tst         r3,#2
  00292	d01c		 beq         |$LN1@PmAlloc|
  00294	f000 f800	 bl          GetLastError
  00298	491a		 ldr         r1,|$LN19@PmAlloc|	; =|??_C@_1BA@NHFCMMEL@?$AAP?$AAm?$AAA?$AAl?$AAl?$AAo?$AAc?$AA?$AA@|
  0029a	4603		 mov         r3,r0
  0029c	481b		 ldr         r0,|$LN21@PmAlloc|	; =|??_C@_1DM@MIMNLNGK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAH?$AAe?$AAa?$AAp?$AAA?$AAl?$AAl?$AAo?$AAc?$AA?$CI?$AA?$CF?$AAd?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  0029e	462a		 mov         r2,r5
  002a0	f000 f800	 bl          NKDbgPrintfW
  002a4	f000 f800	 bl          GetLastError
  002a8	4916		 ldr         r1,|$LN19@PmAlloc|	; =|??_C@_1BA@NHFCMMEL@?$AAP?$AAm?$AAA?$AAl?$AAl?$AAo?$AAc?$AA?$AA@|
  002aa	4603		 mov         r3,r0
  002ac	4817		 ldr         r0,|$LN21@PmAlloc|	; =|??_C@_1DM@MIMNLNGK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAH?$AAe?$AAa?$AAp?$AAA?$AAl?$AAl?$AAo?$AAc?$AA?$CI?$AA?$CF?$AAd?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  002ae	462a		 mov         r2,r5
  002b0	f000 f800	 bl          CeLogMsg

; 145  :     }
; 146  : #ifdef DEBUG
; 147  :     else {

  002b4	e00b		 b           |$LN1@PmAlloc|
  002b6		 |$LN3@PmAlloc|

; 148  :         InterlockedIncrement(&glTotalObjects);

  002b6	4638		 mov         r0,r7
  002b8	f000 f800	 bl          InterlockedIncrement

; 149  :     }
; 150  : #endif  // DEBUG
; 151  : 
; 152  : #ifdef DEBUGALLOC
; 153  :     // fill memory with a diagnostic pattern for debugging
; 154  :     if(pvRet != NULL) {
; 155  :         memset(pvRet, 0xAA, dwSize);

  002bc	462a		 mov         r2,r5
  002be	21aa		 movs        r1,#0xAA
  002c0	4620		 mov         r0,r4
  002c2	f000 f800	 bl          memset

; 156  :         PDWORD pdwRet = (PDWORD) pvRet;
; 157  :         pdwRet[0] = HEAPSIGNATURE;  // record a signature

  002c6	4b10		 ldr         r3,|$LN20@PmAlloc|	; =0xfa124301

; 158  :         pdwRet[1] = dwSize;         // and the real size of the buffer

  002c8	6065		 str         r5,[r4,#4]
  002ca	6023		 str         r3,[r4]

; 159  :         pvRet = &pdwRet[HEAPHEADERSIZE / sizeof(DWORD)]; // return a pointer to a buffer of the requested size

  002cc	3410		 adds        r4,r4,#0x10
  002ce		 |$LN1@PmAlloc|

; 160  :     }
; 161  : #endif  // DEBUGALLOC
; 162  : 
; 163  : #ifdef DEBUG
; 164  :     PMLOGMSG(ZONE_ALLOC, (_T("%s: alloc %d bytes returned 0x%08x (%d total objects allocated)\r\n"), 
; 165  :         pszFname, dwSize, pvRet, glTotalObjects));

  002ce	f8d6 3440	 ldr         r3,[r6,#0x440]
  002d2	f413 5f80	 tst         r3,#0x1000
  002d6	d00f		 beq         |$LN10@PmAlloc|
  002d8	683b		 ldr         r3,[r7]
  002da	490a		 ldr         r1,|$LN19@PmAlloc|	; =|??_C@_1BA@NHFCMMEL@?$AAP?$AAm?$AAA?$AAl?$AAl?$AAo?$AAc?$AA?$AA@|
  002dc	4808		 ldr         r0,|$LN18@PmAlloc|	; =|??_C@_1IE@FBPFPCLK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AA?5?$AA?$CF?$AAd?$AA?5?$AAb?$AAy?$AAt?$AAe?$AAs?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAe?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0@|
  002de	9300		 str         r3,[sp]
  002e0	4623		 mov         r3,r4
  002e2	462a		 mov         r2,r5
  002e4	f000 f800	 bl          NKDbgPrintfW
  002e8	683b		 ldr         r3,[r7]
  002ea	4906		 ldr         r1,|$LN19@PmAlloc|	; =|??_C@_1BA@NHFCMMEL@?$AAP?$AAm?$AAA?$AAl?$AAl?$AAo?$AAc?$AA?$AA@|
  002ec	4804		 ldr         r0,|$LN18@PmAlloc|	; =|??_C@_1IE@FBPFPCLK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AA?5?$AA?$CF?$AAd?$AA?5?$AAb?$AAy?$AAt?$AAe?$AAs?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAe?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0@|
  002ee	9300		 str         r3,[sp]
  002f0	4623		 mov         r3,r4
  002f2	462a		 mov         r2,r5
  002f4	f000 f800	 bl          CeLogMsg
  002f8		 |$LN10@PmAlloc|

; 166  : #else   // DEBUG
; 167  :     PMLOGMSG(ZONE_ALLOC, (_T("%s: alloc %d bytes returned 0x%08x\r\n"), 
; 168  :         pszFname, dwSize, pvRet));
; 169  : #endif  // DEBUG
; 170  :     return pvRet;
; 171  : }

  002f8	4620		 mov         r0,r4
  002fa		 |$M16|
  002fa	e8bd 88fc	 pop         {r2-r7,r11,pc}
  002fe		 |$LN28@PmAlloc|
  002fe		 |$M29|
  002fe	defe		 __debugbreak
  00300		 |$LN17@PmAlloc|
  00300		 |$LN18@PmAlloc|
  00300	0000 0000	 DCD         |??_C@_1IE@FBPFPCLK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AA?5?$AA?$CF?$AAd?$AA?5?$AAb?$AAy?$AAt?$AAe?$AAs?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAe?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0@|
  00304		 |$LN19@PmAlloc|
  00304	0000 0000	 DCD         |??_C@_1BA@NHFCMMEL@?$AAP?$AAm?$AAA?$AAl?$AAl?$AAo?$AAc?$AA?$AA@|
  00308		 |$LN20@PmAlloc|
  00308	4301 fa12	 DCD         0xfa124301
  0030c		 |$LN21@PmAlloc|
  0030c	0000 0000	 DCD         |??_C@_1DM@MIMNLNGK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAH?$AAe?$AAa?$AAp?$AAA?$AAl?$AAl?$AAo?$AAc?$AA?$CI?$AA?$CF?$AAd?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  00310		 |$LN22@PmAlloc|
  00310	0000 0000	 DCD         |?glTotalObjects@@3JA|
  00314		 |$LN23@PmAlloc|
  00314	0000 0000	 DCD         |??_C@_0EE@FAEIPNNJ@c?3?2wince800?2platform?2rrm_ppc_win@|
  00318		 |$LN24@PmAlloc|
  00318	0000 0000	 DCD         |ghPmHeap|
  0031c		 |$LN25@PmAlloc|
  0031c	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00320		 |$LN26@PmAlloc|
  00320	0000 0000	 DCD         |??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00324		 |$LN27@PmAlloc|
  00324	0000 0000	 DCD         |dpCurSettings|
  00328		 |$M14|

			 ENDP  ; |PmAlloc|

	EXPORT	|??_C@_1DE@CNNOGCPE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAw?$AAr?$AAo?$AAn?$AAg?$AA?5?$AAt?$AAy?$AAp?$AAe?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CG@KHNILHMB@?$AAR?$AAe?$AAg?$AAQ?$AAu?$AAe?$AAr?$AAy?$AAT?$AAy?$AAp?$AAe?$AAd?$AAV?$AAa?$AAl?$AAu?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|RegQueryTypedValue|
	IMPORT	|RegQueryValueExW|

  00028			 AREA	 |.pdata|, PDATA
|$pdata1$RegQueryTypedValue| DCD imagerel |$LN9@RegQueryTy|
	DCD	0xfdb0608d

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CG@KHNILHMB@?$AAR?$AAe?$AAg?$AAQ?$AAu?$AAe?$AAr?$AAy?$AAT?$AAy?$AAp?$AAe?$AAd?$AAV?$AAa?$AAl?$AAu?$AAe?$AA?$AA@| DCB "R"
	DCB	0x0, "e", 0x0, "g", 0x0, "Q", 0x0, "u", 0x0, "e", 0x0, "r"
	DCB	0x0, "y", 0x0, "T", 0x0, "y", 0x0, "p", 0x0, "e", 0x0, "d"
	DCB	0x0, "V", 0x0, "a", 0x0, "l", 0x0, "u", 0x0, "e", 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DE@CNNOGCPE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAw?$AAr?$AAo?$AAn?$AAg?$AA?5?$AAt?$AAy?$AAp?$AAe?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "w", 0x0, "r", 0x0, "o"
	DCB	0x0, "n", 0x0, "g", 0x0, " ", 0x0, "t", 0x0, "y", 0x0, "p"
	DCB	0x0, "e", 0x0, " ", 0x0, "f", 0x0, "o", 0x0, "r", 0x0, " "
	DCB	0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00328			 AREA	 |.text|, CODE, THUMB

  00328		 |RegQueryTypedValue| PROC

; 39   : {

  00328		 |$LN9@RegQueryTy|
  00328	e92d 481e	 push        {r1-r4,r11,lr}
  0032c	f20d 0b10	 addw        r11,sp,#0x10
  00330		 |$M7|

; 40   :     DWORD dwActualType;
; 41   :     SETFNAME(_T("RegQueryTypedValue"));
; 42   : 
; 43   :     DWORD dwStatus = RegQueryValueEx(hk, pszValue, NULL, &dwActualType, 
; 44   :         (PBYTE) pvData, pdwSize);

  00330	9301		 str         r3,[sp,#4]
  00332	9200		 str         r2,[sp]
  00334	ab02		 add         r3,sp,#8
  00336	2200		 movs        r2,#0
  00338	460c		 mov         r4,r1
  0033a	f000 f800	 bl          RegQueryValueExW

; 45   :     if(dwStatus == ERROR_SUCCESS && dwActualType != dwType) {

  0033e	b9a0		 cbnz        r0,|$LN1@RegQueryTy|
  00340	9a06		 ldr         r2,[sp,#0x18]
  00342	9b02		 ldr         r3,[sp,#8]
  00344	4293		 cmp         r3,r2
  00346	d010		 beq         |$LN1@RegQueryTy|

; 46   :         PMLOGMSG(ZONE_WARN, (_T("%s: wrong type for '%s'\r\n"),
; 47   :             pszFname, pszValue));

  00348	4b0b		 ldr         r3,|$LN14@RegQueryTy| ; =|dpCurSettings|
  0034a	f8d3 3440	 ldr         r3,[r3,#0x440]
  0034e	f013 0f02	 tst         r3,#2
  00352	d009		 beq         |$LN4@RegQueryTy|
  00354	4907		 ldr         r1,|$LN13@RegQueryTy| ; =|??_C@_1CG@KHNILHMB@?$AAR?$AAe?$AAg?$AAQ?$AAu?$AAe?$AAr?$AAy?$AAT?$AAy?$AAp?$AAe?$AAd?$AAV?$AAa?$AAl?$AAu?$AAe?$AA?$AA@|
  00356	4806		 ldr         r0,|$LN12@RegQueryTy| ; =|??_C@_1DE@CNNOGCPE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAw?$AAr?$AAo?$AAn?$AAg?$AA?5?$AAt?$AAy?$AAp?$AAe?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@|
  00358	4622		 mov         r2,r4
  0035a	f000 f800	 bl          NKDbgPrintfW
  0035e	4905		 ldr         r1,|$LN13@RegQueryTy| ; =|??_C@_1CG@KHNILHMB@?$AAR?$AAe?$AAg?$AAQ?$AAu?$AAe?$AAr?$AAy?$AAT?$AAy?$AAp?$AAe?$AAd?$AAV?$AAa?$AAl?$AAu?$AAe?$AA?$AA@|
  00360	4803		 ldr         r0,|$LN12@RegQueryTy| ; =|??_C@_1DE@CNNOGCPE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAw?$AAr?$AAo?$AAn?$AAg?$AA?5?$AAt?$AAy?$AAp?$AAe?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@|
  00362	4622		 mov         r2,r4
  00364	f000 f800	 bl          CeLogMsg
  00368		 |$LN4@RegQueryTy|

; 48   :         dwStatus = ERROR_INVALID_DATA;

  00368	200d		 movs        r0,#0xD
  0036a		 |$LN1@RegQueryTy|
  0036a		 |$M10|

; 49   :     }
; 50   : 
; 51   :     return dwStatus;
; 52   : }

  0036a	e8bd 881e	 pop         {r1-r4,r11,pc}
  0036e		 |$LN15@RegQueryTy|
  0036e		 |$M16|
  0036e	defe		 __debugbreak
  00370		 |$LN11@RegQueryTy|
  00370		 |$LN12@RegQueryTy|
  00370	0000 0000	 DCD         |??_C@_1DE@CNNOGCPE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAw?$AAr?$AAo?$AAn?$AAg?$AA?5?$AAt?$AAy?$AAp?$AAe?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@|
  00374		 |$LN13@RegQueryTy|
  00374	0000 0000	 DCD         |??_C@_1CG@KHNILHMB@?$AAR?$AAe?$AAg?$AAQ?$AAu?$AAe?$AAr?$AAy?$AAT?$AAy?$AAp?$AAe?$AAd?$AAV?$AAa?$AAl?$AAu?$AAe?$AA?$AA@|
  00378		 |$LN14@RegQueryTy|
  00378	0000 0000	 DCD         |dpCurSettings|
  0037c		 |$M8|

			 ENDP  ; |RegQueryTypedValue|

	EXPORT	|??_C@_1FI@IIFPFJAK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AA0?$AAx?$AA?$CF?$AAx?$AA?$CJ?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DM@CIMKIPJD@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAF?$AAi?$AAn?$AAd?$AAB?$AAy?$AAW?$AAa?$AAk?$AAe?$AAS?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|ActivityTimerFindByWakeSource|
	IMPORT	|gppActivityTimers|

  00030			 AREA	 |.pdata|, PDATA
|$pdata1$ActivityTimerFindByWakeSource| DCD imagerel |$LN27@ActivityTi|
	DCD	0xfd7360e5

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DM@CIMKIPJD@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAF?$AAi?$AAn?$AAd?$AAB?$AAy?$AAW?$AAa?$AAk?$AAe?$AAS?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?$AA@| DCB "A"
	DCB	0x0, "c", 0x0, "t", 0x0, "i", 0x0, "v", 0x0, "i", 0x0, "t"
	DCB	0x0, "y", 0x0, "T", 0x0, "i", 0x0, "m", 0x0, "e", 0x0, "r"
	DCB	0x0, "F", 0x0, "i", 0x0, "n", 0x0, "d", 0x0, "B", 0x0, "y"
	DCB	0x0, "W", 0x0, "a", 0x0, "k", 0x0, "e", 0x0, "S", 0x0, "o"
	DCB	0x0, "u", 0x0, "r", 0x0, "c", 0x0, "e", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FI@IIFPFJAK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AA0?$AAx?$AA?$CF?$AAx?$AA?$CJ?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "s", 0x0, "e", 0x0, "a"
	DCB	0x0, "r", 0x0, "c", 0x0, "h", 0x0, " ", 0x0, "f", 0x0, "o"
	DCB	0x0, "r", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, " ", 0x0, "("
	DCB	0x0, "0", 0x0, "x", 0x0, "%", 0x0, "x", 0x0, ")", 0x0, " "
	DCB	0x0, "r", 0x0, "e", 0x0, "t", 0x0, "u", 0x0, "r", 0x0, "n"
	DCB	0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "0", 0x0, "x"
	DCB	0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  0037c			 AREA	 |.text|, CODE, THUMB

  0037c		 |ActivityTimerFindByWakeSource| PROC

; 1676 : {

  0037c		 |$LN27@ActivityTi|
  0037c	e92d 48fc	 push        {r2-r7,r11,lr}
  00380	f20d 0b18	 addw        r11,sp,#0x18
  00384		 |$M25|
  00384	4607		 mov         r7,r0

; 93   :     EnterCriticalSection(&gcsPowerManager);

  00386	481d		 ldr         r0,|$LN33@ActivityTi| ; =|gcsPowerManager|

; 1677 :     PACTIVITY_TIMER pat = NULL;

  00388	2400		 movs        r4,#0

; 1678 :     BOOL fDone = FALSE;

  0038a	2500		 movs        r5,#0

; 93   :     EnterCriticalSection(&gcsPowerManager);

  0038c	f000 f800	 bl          EnterCriticalSection

; 1679 :     SETFNAME(_T("ActivityTimerFindByWakeSource"));
; 1680 : 
; 1681 :     PMLOCK();
; 1682 :     if(gppActivityTimers != NULL) {

  00390	4b1b		 ldr         r3,|$LN34@ActivityTi| ; =|gppActivityTimers|
  00392	681a		 ldr         r2,[r3]
  00394	b18a		 cbz         r2,|$LN22@ActivityTi|
  00396		 |$LL5@ActivityTi|

; 1683 :         DWORD dwTimerIndex = 0;
; 1684 :         while(!fDone && (pat = gppActivityTimers[dwTimerIndex]) != NULL) {

  00396	f852 4b04	 ldr         r4,[r2],#4
  0039a	b174		 cbz         r4,|$LN22@ActivityTi|

; 1685 :             DWORD dwSourceIndex = 0;
; 1686 :             while(pat->pdwWakeSources[dwSourceIndex] != 0) {

  0039c	69a6		 ldr         r6,[r4,#0x18]
  0039e	2100		 movs        r1,#0
  003a0	6833		 ldr         r3,[r6]
  003a2	e004		 b           |$LN23@ActivityTi|
  003a4		 |$LL3@ActivityTi|

; 1687 :                 if(pat->pdwWakeSources[dwSourceIndex] == dwWakeSource) {

  003a4	42bb		 cmp         r3,r7
  003a6	d005		 beq         |$LN17@ActivityTi|

; 1689 :                     break;
; 1690 :                 }
; 1691 :                 dwSourceIndex++;

  003a8	3101		 adds        r1,#1
  003aa	f856 3021	 ldr         r3,[r6,r1,lsl #2]
  003ae		 |$LN23@ActivityTi|

; 1685 :             DWORD dwSourceIndex = 0;
; 1686 :             while(pat->pdwWakeSources[dwSourceIndex] != 0) {

  003ae	2b00		 cmp         r3,#0
  003b0	d1f8		 bne         |$LL3@ActivityTi|

; 1687 :                 if(pat->pdwWakeSources[dwSourceIndex] == dwWakeSource) {

  003b2	e000		 b           |$LN2@ActivityTi|
  003b4		 |$LN17@ActivityTi|

; 1688 :                     fDone = TRUE;

  003b4	2501		 movs        r5,#1
  003b6		 |$LN2@ActivityTi|

; 1683 :         DWORD dwTimerIndex = 0;
; 1684 :         while(!fDone && (pat = gppActivityTimers[dwTimerIndex]) != NULL) {

  003b6	2d00		 cmp         r5,#0
  003b8	d0ed		 beq         |$LL5@ActivityTi|
  003ba		 |$LN22@ActivityTi|

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  003ba	4810		 ldr         r0,|$LN33@ActivityTi| ; =|gcsPowerManager|
  003bc	f000 f800	 bl          LeaveCriticalSection

; 1692 :             }
; 1693 :             dwTimerIndex++;
; 1694 :         }
; 1695 :     }
; 1696 :     PMUNLOCK();
; 1697 : 
; 1698 :     PMLOGMSG(ZONE_TIMERS, (_T("%s: search for %d (0x%x) returning 0x%08x\r\n"), pszFname,
; 1699 :         dwWakeSource, dwWakeSource, pat));

  003c0	4b0d		 ldr         r3,|$LN32@ActivityTi| ; =|dpCurSettings|
  003c2	f8d3 3440	 ldr         r3,[r3,#0x440]
  003c6	f413 5f00	 tst         r3,#0x2000
  003ca	d00d		 beq         |$LN9@ActivityTi|
  003cc	4909		 ldr         r1,|$LN31@ActivityTi| ; =|??_C@_1DM@CIMKIPJD@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAF?$AAi?$AAn?$AAd?$AAB?$AAy?$AAW?$AAa?$AAk?$AAe?$AAS?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?$AA@|
  003ce	4808		 ldr         r0,|$LN30@ActivityTi| ; =|??_C@_1FI@IIFPFJAK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AA0?$AAx?$AA?$CF?$AAx?$AA?$CJ?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi@|
  003d0	463b		 mov         r3,r7
  003d2	463a		 mov         r2,r7
  003d4	9400		 str         r4,[sp]
  003d6	f000 f800	 bl          NKDbgPrintfW
  003da	4906		 ldr         r1,|$LN31@ActivityTi| ; =|??_C@_1DM@CIMKIPJD@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAF?$AAi?$AAn?$AAd?$AAB?$AAy?$AAW?$AAa?$AAk?$AAe?$AAS?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?$AA@|
  003dc	4804		 ldr         r0,|$LN30@ActivityTi| ; =|??_C@_1FI@IIFPFJAK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AA0?$AAx?$AA?$CF?$AAx?$AA?$CJ?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi@|
  003de	463b		 mov         r3,r7
  003e0	463a		 mov         r2,r7
  003e2	9400		 str         r4,[sp]
  003e4	f000 f800	 bl          CeLogMsg
  003e8		 |$LN9@ActivityTi|

; 1700 : 
; 1701 :     return pat;
; 1702 : }

  003e8	4620		 mov         r0,r4
  003ea		 |$M28|
  003ea	e8bd 88fc	 pop         {r2-r7,r11,pc}
  003ee		 |$LN35@ActivityTi|
  003ee		 |$M36|
  003ee	defe		 __debugbreak
  003f0		 |$LN29@ActivityTi|
  003f0		 |$LN30@ActivityTi|
  003f0	0000 0000	 DCD         |??_C@_1FI@IIFPFJAK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AA0?$AAx?$AA?$CF?$AAx?$AA?$CJ?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi@|
  003f4		 |$LN31@ActivityTi|
  003f4	0000 0000	 DCD         |??_C@_1DM@CIMKIPJD@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAF?$AAi?$AAn?$AAd?$AAB?$AAy?$AAW?$AAa?$AAk?$AAe?$AAS?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?$AA@|
  003f8		 |$LN32@ActivityTi|
  003f8	0000 0000	 DCD         |dpCurSettings|
  003fc		 |$LN33@ActivityTi|
  003fc	0000 0000	 DCD         |gcsPowerManager|
  00400		 |$LN34@ActivityTi|
  00400	0000 0000	 DCD         |gppActivityTimers|
  00404		 |$M26|

			 ENDP  ; |ActivityTimerFindByWakeSource|

	EXPORT	|??_C@_1EO@NGMPKOJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DA@HMBHHENJ@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAF?$AAi?$AAn?$AAd?$AAB?$AAy?$AAN?$AAa?$AAm?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|ActivityTimerFindByName|
	IMPORT	|wcscmp|

  00038			 AREA	 |.pdata|, PDATA
|$pdata1$ActivityTimerFindByName| DCD imagerel |$LN22@ActivityTi|
	DCD	0xfd3260bd

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DA@HMBHHENJ@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAF?$AAi?$AAn?$AAd?$AAB?$AAy?$AAN?$AAa?$AAm?$AAe?$AA?$AA@| DCB "A"
	DCB	0x0, "c", 0x0, "t", 0x0, "i", 0x0, "v", 0x0, "i", 0x0, "t"
	DCB	0x0, "y", 0x0, "T", 0x0, "i", 0x0, "m", 0x0, "e", 0x0, "r"
	DCB	0x0, "F", 0x0, "i", 0x0, "n", 0x0, "d", 0x0, "B", 0x0, "y"
	DCB	0x0, "N", 0x0, "a", 0x0, "m", 0x0, "e", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EO@NGMPKOJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "s", 0x0, "e", 0x0, "a"
	DCB	0x0, "r", 0x0, "c", 0x0, "h", 0x0, " ", 0x0, "f", 0x0, "o"
	DCB	0x0, "r", 0x0, " ", 0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'"
	DCB	0x0, " ", 0x0, "r", 0x0, "e", 0x0, "t", 0x0, "u", 0x0, "r"
	DCB	0x0, "n", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "0"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00404			 AREA	 |.text|, CODE, THUMB

  00404		 |ActivityTimerFindByName| PROC

; 1649 : {

  00404		 |$LN22@ActivityTi|
  00404	e92d 4878	 push        {r3-r6,r11,lr}
  00408	f20d 0b10	 addw        r11,sp,#0x10
  0040c		 |$M20|
  0040c	4606		 mov         r6,r0

; 93   :     EnterCriticalSection(&gcsPowerManager);

  0040e	4818		 ldr         r0,|$LN28@ActivityTi| ; =|gcsPowerManager|

; 1650 :     PACTIVITY_TIMER pat = NULL;

  00410	2400		 movs        r4,#0

; 93   :     EnterCriticalSection(&gcsPowerManager);

  00412	f000 f800	 bl          EnterCriticalSection

; 1651 :     SETFNAME(_T("ActivityTimerFindByName"));
; 1652 : 
; 1653 :     PMLOCK();
; 1654 :     if(gppActivityTimers != NULL) {

  00416	4b17		 ldr         r3,|$LN29@ActivityTi| ; =|gppActivityTimers|
  00418	681d		 ldr         r5,[r3]
  0041a	b155		 cbz         r5,|$LN17@ActivityTi|

; 1655 :         DWORD dwTimerIndex = 0;
; 1656 :         while((pat = gppActivityTimers[dwTimerIndex]) != NULL) {

  0041c	682c		 ldr         r4,[r5]
  0041e	e006		 b           |$LN18@ActivityTi|
  00420		 |$LL3@ActivityTi|

; 1657 :             if(_tcscmp(pat->pszName, pszName) == 0) {

  00420	6820		 ldr         r0,[r4]
  00422	4631		 mov         r1,r6
  00424	f000 f800	 bl          wcscmp
  00428	b118		 cbz         r0,|$LN17@ActivityTi|

; 1655 :         DWORD dwTimerIndex = 0;
; 1656 :         while((pat = gppActivityTimers[dwTimerIndex]) != NULL) {

  0042a	f855 4f04	 ldr         r4,[r5,#4]!
  0042e		 |$LN18@ActivityTi|
  0042e	2c00		 cmp         r4,#0
  00430	d1f6		 bne         |$LL3@ActivityTi|
  00432		 |$LN17@ActivityTi|

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  00432	480f		 ldr         r0,|$LN28@ActivityTi| ; =|gcsPowerManager|
  00434	f000 f800	 bl          LeaveCriticalSection

; 1658 :                 break;
; 1659 :             }
; 1660 :             dwTimerIndex++;
; 1661 :         }
; 1662 :     }
; 1663 :     PMUNLOCK();
; 1664 : 
; 1665 :     PMLOGMSG(ZONE_TIMERS, (_T("%s: search for '%s' returning 0x%08x\r\n"), pszFname,
; 1666 :         pszName, pat));

  00438	4b0c		 ldr         r3,|$LN27@ActivityTi| ; =|dpCurSettings|
  0043a	f8d3 3440	 ldr         r3,[r3,#0x440]
  0043e	f413 5f00	 tst         r3,#0x2000
  00442	d00b		 beq         |$LN7@ActivityTi|
  00444	4908		 ldr         r1,|$LN26@ActivityTi| ; =|??_C@_1DA@HMBHHENJ@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAF?$AAi?$AAn?$AAd?$AAB?$AAy?$AAN?$AAa?$AAm?$AAe?$AA?$AA@|
  00446	4807		 ldr         r0,|$LN25@ActivityTi| ; =|??_C@_1EO@NGMPKOJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx@|
  00448	4623		 mov         r3,r4
  0044a	4632		 mov         r2,r6
  0044c	f000 f800	 bl          NKDbgPrintfW
  00450	4905		 ldr         r1,|$LN26@ActivityTi| ; =|??_C@_1DA@HMBHHENJ@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAF?$AAi?$AAn?$AAd?$AAB?$AAy?$AAN?$AAa?$AAm?$AAe?$AA?$AA@|
  00452	4804		 ldr         r0,|$LN25@ActivityTi| ; =|??_C@_1EO@NGMPKOJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx@|
  00454	4623		 mov         r3,r4
  00456	4632		 mov         r2,r6
  00458	f000 f800	 bl          CeLogMsg
  0045c		 |$LN7@ActivityTi|

; 1667 : 
; 1668 :     return pat;
; 1669 : }

  0045c	4620		 mov         r0,r4
  0045e		 |$M23|
  0045e	e8bd 8878	 pop         {r3-r6,r11,pc}
  00462		 |$LN30@ActivityTi|
  00462		 |$M31|
  00462	defe		 __debugbreak
  00464		 |$LN24@ActivityTi|
  00464		 |$LN25@ActivityTi|
  00464	0000 0000	 DCD         |??_C@_1EO@NGMPKOJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx@|
  00468		 |$LN26@ActivityTi|
  00468	0000 0000	 DCD         |??_C@_1DA@HMBHHENJ@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAF?$AAi?$AAn?$AAd?$AAB?$AAy?$AAN?$AAa?$AAm?$AAe?$AA?$AA@|
  0046c		 |$LN27@ActivityTi|
  0046c	0000 0000	 DCD         |dpCurSettings|
  00470		 |$LN28@ActivityTi|
  00470	0000 0000	 DCD         |gcsPowerManager|
  00474		 |$LN29@ActivityTi|
  00474	0000 0000	 DCD         |gppActivityTimers|
  00478		 |$M21|

			 ENDP  ; |ActivityTimerFindByName|

	EXPORT	|PowerNotificationAddList|

  00040			 AREA	 |.pdata|, PDATA
|$pdata1$PowerNotificationAddList| DCD imagerel |$LN19@PowerNotif|
	DCD	0x3160f9
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00478			 AREA	 |.text|, CODE, THUMB

  00478		 |PowerNotificationAddList| PROC

; 1241 : {

  00478		 |$LN19@PowerNotif|
  00478	e92d 4830	 push        {r4,r5,r11,lr}
  0047c	f20d 0b08	 addw        r11,sp,#8
  00480		 |$M17|
  00480	4605		 mov         r5,r0

; 1242 :     BOOL fOk = TRUE;
; 1243 : 
; 1244 :     PREFAST_DEBUGCHK(ppListHead != NULL);

  00482	460c		 mov         r4,r1
  00484	b93d		 cbnz        r5,|$LN5@PowerNotif|
  00486	4a1e		 ldr         r2,|$LN25@PowerNotif| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00488	491c		 ldr         r1,|$LN24@PowerNotif| ; =|dpCurSettings|
  0048a	481b		 ldr         r0,|$LN23@PowerNotif| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  0048c	f240 43dc	 mov         r3,#0x4DC
  00490	f000 f800	 bl          NKDbgPrintfW
  00494	defe		 __debugbreak
  00496		 |$LN5@PowerNotif|

; 1245 :     PREFAST_DEBUGCHK(ppn != NULL);

  00496	b93c		 cbnz        r4,|$LN7@PowerNotif|
  00498	4a19		 ldr         r2,|$LN25@PowerNotif| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  0049a	4918		 ldr         r1,|$LN24@PowerNotif| ; =|dpCurSettings|
  0049c	4816		 ldr         r0,|$LN23@PowerNotif| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  0049e	f240 43dd	 mov         r3,#0x4DD
  004a2	f000 f800	 bl          NKDbgPrintfW
  004a6	defe		 __debugbreak
  004a8		 |$LN7@PowerNotif|

; 1246 :     DEBUGCHK(ppn->pNext == NULL && ppn->pPrev == NULL);

  004a8	68e3		 ldr         r3,[r4,#0xC]
  004aa	b90b		 cbnz        r3,|$LN8@PowerNotif|
  004ac	6923		 ldr         r3,[r4,#0x10]
  004ae	b13b		 cbz         r3,|$LN9@PowerNotif|
  004b0		 |$LN8@PowerNotif|
  004b0	4a13		 ldr         r2,|$LN25@PowerNotif| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  004b2	4912		 ldr         r1,|$LN24@PowerNotif| ; =|dpCurSettings|
  004b4	4810		 ldr         r0,|$LN23@PowerNotif| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  004b6	f240 43de	 mov         r3,#0x4DE
  004ba	f000 f800	 bl          NKDbgPrintfW
  004be	defe		 __debugbreak
  004c0		 |$LN9@PowerNotif|

; 1247 :     DEBUGCHK(ppListHead != NULL);

  004c0	b93d		 cbnz        r5,|$LN11@PowerNotif|
  004c2	4a0f		 ldr         r2,|$LN25@PowerNotif| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  004c4	490d		 ldr         r1,|$LN24@PowerNotif| ; =|dpCurSettings|
  004c6	480c		 ldr         r0,|$LN23@PowerNotif| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  004c8	f240 43df	 mov         r3,#0x4DF
  004cc	f000 f800	 bl          NKDbgPrintfW
  004d0	defe		 __debugbreak
  004d2		 |$LN11@PowerNotif|

; 93   :     EnterCriticalSection(&gcsPowerManager);

  004d2	4808		 ldr         r0,|$LN22@PowerNotif| ; =|gcsPowerManager|
  004d4	f000 f800	 bl          EnterCriticalSection

; 1248 : 
; 1249 :     // put the new device at the head of the list
; 1250 :     PMLOCK();
; 1251 :     ppn->pNext = *ppListHead;

  004d8	682b		 ldr         r3,[r5]
  004da	60e3		 str         r3,[r4,#0xC]

; 1252 :     ppn->pPrev = NULL;

  004dc	2300		 movs        r3,#0
  004de	6123		 str         r3,[r4,#0x10]

; 1253 :     if(*ppListHead != NULL) {

  004e0	682b		 ldr         r3,[r5]
  004e2	b103		 cbz         r3,|$LN1@PowerNotif|

; 1254 :         (*ppListHead)->pPrev = ppn;

  004e4	611c		 str         r4,[r3,#0x10]
  004e6		 |$LN1@PowerNotif|

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  004e6	4803		 ldr         r0,|$LN22@PowerNotif| ; =|gcsPowerManager|

; 1255 :     }
; 1256 :     *ppListHead = ppn;

  004e8	602c		 str         r4,[r5]

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  004ea	f000 f800	 bl          LeaveCriticalSection

; 1257 :     PMUNLOCK();
; 1258 : 
; 1259 :     return fOk;

  004ee	2001		 movs        r0,#1
  004f0		 |$M20|

; 1260 : }

  004f0	e8bd 8830	 pop         {r4,r5,r11,pc}
  004f4		 |$LN21@PowerNotif|
  004f4		 |$LN22@PowerNotif|
  004f4	0000 0000	 DCD         |gcsPowerManager|
  004f8		 |$LN23@PowerNotif|
  004f8	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  004fc		 |$LN24@PowerNotif|
  004fc	0000 0000	 DCD         |dpCurSettings|
  00500		 |$LN25@PowerNotif|
  00500	0000 0000	 DCD         |??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00504		 |$M18|

			 ENDP  ; |PowerNotificationAddList|

	EXPORT	|PowerRestrictionCheckList|

  00048			 AREA	 |.pdata|, PDATA
|$pdata1$PowerRestrictionCheckList| DCD imagerel |$LN19@PowerRestr|
	DCD	0xfd326061
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00504			 AREA	 |.text|, CODE, THUMB

  00504		 |PowerRestrictionCheckList| PROC

; 1160 : {

  00504		 |$LN19@PowerRestr|
  00504	e92d 4878	 push        {r3-r6,r11,lr}
  00508	f20d 0b10	 addw        r11,sp,#0x10
  0050c		 |$M17|
  0050c	4604		 mov         r4,r0

; 93   :     EnterCriticalSection(&gcsPowerManager);

  0050e	4809		 ldr         r0,|$LN22@PowerRestr| ; =|gcsPowerManager|

; 1160 : {

  00510	460e		 mov         r6,r1

; 1161 :     PDEVICE_POWER_RESTRICTION pdprTraveller;
; 1162 :     BOOL fFound = FALSE;

  00512	2500		 movs        r5,#0

; 93   :     EnterCriticalSection(&gcsPowerManager);

  00514	f000 f800	 bl          EnterCriticalSection
  00518	e002		 b           |$LN15@PowerRestr|
  0051a		 |$LL4@PowerRestr|

; 1168 :         if(pdprTraveller == pdpr) {

  0051a	42b4		 cmp         r4,r6
  0051c	d003		 beq         |$LN12@PowerRestr|

; 1163 : 
; 1164 :     PMLOCK();
; 1165 : 
; 1166 :     // look for a match
; 1167 :     for(pdprTraveller = pList; pdprTraveller != NULL; pdprTraveller = pdprTraveller->pNext) {

  0051e	6964		 ldr         r4,[r4,#0x14]
  00520		 |$LN15@PowerRestr|
  00520	2c00		 cmp         r4,#0
  00522	d1fa		 bne         |$LL4@PowerRestr|

; 1168 :         if(pdprTraveller == pdpr) {

  00524	e000		 b           |$LN2@PowerRestr|
  00526		 |$LN12@PowerRestr|

; 1169 :             fFound = TRUE;

  00526	2501		 movs        r5,#1
  00528		 |$LN2@PowerRestr|

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  00528	4802		 ldr         r0,|$LN22@PowerRestr| ; =|gcsPowerManager|
  0052a	f000 f800	 bl          LeaveCriticalSection

; 1170 :             break;
; 1171 :         }
; 1172 :     }
; 1173 : 
; 1174 :     PMUNLOCK();
; 1175 : 
; 1176 :     return fFound;
; 1177 : }

  0052e	4628		 mov         r0,r5
  00530		 |$M20|
  00530	e8bd 8878	 pop         {r3-r6,r11,pc}
  00534		 |$LN21@PowerRestr|
  00534		 |$LN22@PowerRestr|
  00534	0000 0000	 DCD         |gcsPowerManager|
  00538		 |$M18|

			 ENDP  ; |PowerRestrictionCheckList|

	EXPORT	|PowerRestrictionRemList|

  00050			 AREA	 |.pdata|, PDATA
|$pdata1$PowerRestrictionRemList| DCD imagerel |$LN18@PowerRestr|
	DCD	0x3160b5
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00538			 AREA	 |.text|, CODE, THUMB

  00538		 |PowerRestrictionRemList| PROC

; 1080 : {

  00538		 |$LN18@PowerRestr|
  00538	e92d 4830	 push        {r4,r5,r11,lr}
  0053c	f20d 0b08	 addw        r11,sp,#8
  00540		 |$M16|
  00540	4605		 mov         r5,r0

; 1081 :     BOOL fOk = TRUE;
; 1082 : 
; 1083 :     PREFAST_DEBUGCHK(ppListHead != NULL);

  00542	460c		 mov         r4,r1
  00544	b93d		 cbnz        r5,|$LN10@PowerRestr|
  00546	4a16		 ldr         r2,|$LN24@PowerRestr| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00548	4914		 ldr         r1,|$LN23@PowerRestr| ; =|dpCurSettings|
  0054a	4813		 ldr         r0,|$LN22@PowerRestr| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  0054c	f240 433b	 mov         r3,#0x43B
  00550	f000 f800	 bl          NKDbgPrintfW
  00554	defe		 __debugbreak
  00556		 |$LN10@PowerRestr|

; 93   :     EnterCriticalSection(&gcsPowerManager);

  00556	480f		 ldr         r0,|$LN21@PowerRestr| ; =|gcsPowerManager|
  00558	f000 f800	 bl          EnterCriticalSection

; 1084 : 
; 1085 :     PMLOCK();
; 1086 : 
; 1087 :     // are we at the head of the list?
; 1088 :     if(pdpr->pPrev != NULL) {

  0055c	69a2		 ldr         r2,[r4,#0x18]
  0055e	2100		 movs        r1,#0
  00560	b112		 cbz         r2,|$LN6@PowerRestr|

; 1089 :         pdpr->pPrev->pNext = pdpr->pNext;

  00562	6963		 ldr         r3,[r4,#0x14]
  00564	6153		 str         r3,[r2,#0x14]

; 1090 :     } else {

  00566	e004		 b           |$LN5@PowerRestr|
  00568		 |$LN6@PowerRestr|

; 1091 :         // not that if pNext == NULL && pPrev == NULL we are the only list
; 1092 :         // member and the assignment to the list head will set it to NULL (meaning
; 1093 :         // empty).
; 1094 :         if(pdpr->pNext != NULL) {

  00568	6963		 ldr         r3,[r4,#0x14]
  0056a	b103		 cbz         r3,|$LN4@PowerRestr|

; 1095 :             pdpr->pNext->pPrev = NULL;

  0056c	6199		 str         r1,[r3,#0x18]
  0056e		 |$LN4@PowerRestr|

; 1096 :         }
; 1097 :         *ppListHead = pdpr->pNext;

  0056e	6963		 ldr         r3,[r4,#0x14]
  00570	602b		 str         r3,[r5]
  00572		 |$LN5@PowerRestr|

; 1098 :     }
; 1099 :     
; 1100 :     // are we at the tail of the list?
; 1101 :     if(pdpr->pNext != NULL) {

  00572	6962		 ldr         r2,[r4,#0x14]
  00574	b112		 cbz         r2,|$LN3@PowerRestr|

; 1102 :         pdpr->pNext->pPrev = pdpr->pPrev;

  00576	69a3		 ldr         r3,[r4,#0x18]
  00578	6193		 str         r3,[r2,#0x18]

; 1103 :     } else {

  0057a	e002		 b           |$LN1@PowerRestr|
  0057c		 |$LN3@PowerRestr|

; 1104 :         if(pdpr->pPrev != NULL) {

  0057c	69a3		 ldr         r3,[r4,#0x18]
  0057e	b103		 cbz         r3,|$LN1@PowerRestr|

; 1105 :             pdpr->pPrev->pNext = NULL;

  00580	6159		 str         r1,[r3,#0x14]
  00582		 |$LN1@PowerRestr|

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  00582	4804		 ldr         r0,|$LN21@PowerRestr| ; =|gcsPowerManager|

; 1106 :         }
; 1107 :     }
; 1108 : 
; 1109 :     // clear list pointers
; 1110 :     pdpr->pNext = NULL;

  00584	6161		 str         r1,[r4,#0x14]

; 1111 :     pdpr->pPrev = NULL;

  00586	61a1		 str         r1,[r4,#0x18]

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  00588	f000 f800	 bl          LeaveCriticalSection

; 1112 : 
; 1113 :     // delete the entry
; 1114 :     PMUNLOCK();
; 1115 : 
; 1116 :     return fOk;

  0058c	2001		 movs        r0,#1
  0058e		 |$M19|

; 1117 : }

  0058e	e8bd 8830	 pop         {r4,r5,r11,pc}
  00592		 |$LN25@PowerRestr|
  00592		 |$M26|
  00592	defe		 __debugbreak
  00594		 |$LN20@PowerRestr|
  00594		 |$LN21@PowerRestr|
  00594	0000 0000	 DCD         |gcsPowerManager|
  00598		 |$LN22@PowerRestr|
  00598	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  0059c		 |$LN23@PowerRestr|
  0059c	0000 0000	 DCD         |dpCurSettings|
  005a0		 |$LN24@PowerRestr|
  005a0	0000 0000	 DCD         |??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  005a4		 |$M17|

			 ENDP  ; |PowerRestrictionRemList|

	EXPORT	|PowerRestrictionAddList|

  00058			 AREA	 |.pdata|, PDATA
|$pdata1$PowerRestrictionAddList| DCD imagerel |$LN19@PowerRestr|
	DCD	0x3160f9
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  005a4			 AREA	 |.text|, CODE, THUMB

  005a4		 |PowerRestrictionAddList| PROC

; 1055 : {

  005a4		 |$LN19@PowerRestr|
  005a4	e92d 4830	 push        {r4,r5,r11,lr}
  005a8	f20d 0b08	 addw        r11,sp,#8
  005ac		 |$M17|
  005ac	4605		 mov         r5,r0

; 1056 :     BOOL fOk = TRUE;
; 1057 : 
; 1058 :     PREFAST_DEBUGCHK(ppListHead != NULL);

  005ae	460c		 mov         r4,r1
  005b0	b93d		 cbnz        r5,|$LN5@PowerRestr|
  005b2	4a1e		 ldr         r2,|$LN25@PowerRestr| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  005b4	491c		 ldr         r1,|$LN24@PowerRestr| ; =|dpCurSettings|
  005b6	481b		 ldr         r0,|$LN23@PowerRestr| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  005b8	f240 4322	 mov         r3,#0x422
  005bc	f000 f800	 bl          NKDbgPrintfW
  005c0	defe		 __debugbreak
  005c2		 |$LN5@PowerRestr|

; 1059 :     PREFAST_DEBUGCHK(pdpr != NULL);

  005c2	b93c		 cbnz        r4,|$LN7@PowerRestr|
  005c4	4a19		 ldr         r2,|$LN25@PowerRestr| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  005c6	4918		 ldr         r1,|$LN24@PowerRestr| ; =|dpCurSettings|
  005c8	4816		 ldr         r0,|$LN23@PowerRestr| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  005ca	f240 4323	 mov         r3,#0x423
  005ce	f000 f800	 bl          NKDbgPrintfW
  005d2	defe		 __debugbreak
  005d4		 |$LN7@PowerRestr|

; 1060 :     DEBUGCHK(pdpr->pNext == NULL && pdpr->pPrev == NULL);

  005d4	6963		 ldr         r3,[r4,#0x14]
  005d6	b90b		 cbnz        r3,|$LN8@PowerRestr|
  005d8	69a3		 ldr         r3,[r4,#0x18]
  005da	b13b		 cbz         r3,|$LN9@PowerRestr|
  005dc		 |$LN8@PowerRestr|
  005dc	4a13		 ldr         r2,|$LN25@PowerRestr| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  005de	4912		 ldr         r1,|$LN24@PowerRestr| ; =|dpCurSettings|
  005e0	4810		 ldr         r0,|$LN23@PowerRestr| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  005e2	f240 4324	 mov         r3,#0x424
  005e6	f000 f800	 bl          NKDbgPrintfW
  005ea	defe		 __debugbreak
  005ec		 |$LN9@PowerRestr|

; 1061 :     DEBUGCHK(ppListHead != NULL);

  005ec	b93d		 cbnz        r5,|$LN11@PowerRestr|
  005ee	4a0f		 ldr         r2,|$LN25@PowerRestr| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  005f0	490d		 ldr         r1,|$LN24@PowerRestr| ; =|dpCurSettings|
  005f2	480c		 ldr         r0,|$LN23@PowerRestr| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  005f4	f240 4325	 mov         r3,#0x425
  005f8	f000 f800	 bl          NKDbgPrintfW
  005fc	defe		 __debugbreak
  005fe		 |$LN11@PowerRestr|

; 93   :     EnterCriticalSection(&gcsPowerManager);

  005fe	4808		 ldr         r0,|$LN22@PowerRestr| ; =|gcsPowerManager|
  00600	f000 f800	 bl          EnterCriticalSection

; 1062 : 
; 1063 :     // put the new device at the head of the list
; 1064 :     PMLOCK();
; 1065 :     pdpr->pNext = *ppListHead;

  00604	682b		 ldr         r3,[r5]
  00606	6163		 str         r3,[r4,#0x14]

; 1066 :     pdpr->pPrev = NULL;

  00608	2300		 movs        r3,#0
  0060a	61a3		 str         r3,[r4,#0x18]

; 1067 :     if(*ppListHead != NULL) {

  0060c	682b		 ldr         r3,[r5]
  0060e	b103		 cbz         r3,|$LN1@PowerRestr|

; 1068 :         (*ppListHead)->pPrev = pdpr;

  00610	619c		 str         r4,[r3,#0x18]
  00612		 |$LN1@PowerRestr|

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  00612	4803		 ldr         r0,|$LN22@PowerRestr| ; =|gcsPowerManager|

; 1069 :     }
; 1070 :     *ppListHead = pdpr;

  00614	602c		 str         r4,[r5]

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  00616	f000 f800	 bl          LeaveCriticalSection

; 1071 :     PMUNLOCK();
; 1072 : 
; 1073 :     return fOk;

  0061a	2001		 movs        r0,#1
  0061c		 |$M20|

; 1074 : }

  0061c	e8bd 8830	 pop         {r4,r5,r11,pc}
  00620		 |$LN21@PowerRestr|
  00620		 |$LN22@PowerRestr|
  00620	0000 0000	 DCD         |gcsPowerManager|
  00624		 |$LN23@PowerRestr|
  00624	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00628		 |$LN24@PowerRestr|
  00628	0000 0000	 DCD         |dpCurSettings|
  0062c		 |$LN25@PowerRestr|
  0062c	0000 0000	 DCD         |??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00630		 |$M18|

			 ENDP  ; |PowerRestrictionAddList|

	EXPORT	|??_C@_1EE@LALFIHHK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAf?$AAc?$AAn?$AAt?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAd?$AA?$AN@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CE@MPJLADIF@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAA?$AAd?$AAd?$AAR?$AAe?$AAf?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|DeviceStateAddRef|

  00060			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceStateAddRef| DCD imagerel |$LN14@DeviceStat|
	DCD	0x3160a9

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CE@MPJLADIF@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAA?$AAd?$AAd?$AAR?$AAe?$AAf?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "S"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "A", 0x0, "d"
	DCB	0x0, "d", 0x0, "R", 0x0, "e", 0x0, "f", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EE@LALFIHHK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAf?$AAc?$AAn?$AAt?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAd?$AA?$AN@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "r", 0x0, "e", 0x0, "f"
	DCB	0x0, "c", 0x0, "n", 0x0, "t", 0x0, " ", 0x0, "f", 0x0, "o"
	DCB	0x0, "r", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0"
	DCB	0x0, "8", 0x0, "x", 0x0, " ", 0x0, "s", 0x0, "e", 0x0, "t"
	DCB	0x0, " ", 0x0, "t", 0x0, "o", 0x0, " ", 0x0, "%", 0x0, "d"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00630			 AREA	 |.text|, CODE, THUMB

  00630		 |DeviceStateAddRef| PROC

; 784  : {

  00630		 |$LN14@DeviceStat|
  00630	e92d 4830	 push        {r4,r5,r11,lr}
  00634	f20d 0b08	 addw        r11,sp,#8
  00638		 |$M12|
  00638	4604		 mov         r4,r0

; 785  :     SETFNAME(_T("DeviceStateAddRef"));
; 786  : 
; 787  :     PREFAST_DEBUGCHK(pds != NULL);

  0063a	4d17		 ldr         r5,|$LN22@DeviceStat| ; =|dpCurSettings|
  0063c	b93c		 cbnz        r4,|$LN4@DeviceStat|
  0063e	4a15		 ldr         r2,|$LN21@DeviceStat| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00640	4813		 ldr         r0,|$LN20@DeviceStat| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00642	f240 3313	 mov         r3,#0x313
  00646	4629		 mov         r1,r5
  00648	f000 f800	 bl          NKDbgPrintfW
  0064c	defe		 __debugbreak
  0064e		 |$LN4@DeviceStat|

; 93   :     EnterCriticalSection(&gcsPowerManager);

  0064e	480d		 ldr         r0,|$LN17@DeviceStat| ; =|gcsPowerManager|
  00650	f000 f800	 bl          EnterCriticalSection

; 788  : 
; 789  :     PMLOCK();
; 790  :     pds->dwRefCount++;

  00654	6da3		 ldr         r3,[r4,#0x58]
  00656	3301		 adds        r3,#1
  00658	65a3		 str         r3,[r4,#0x58]

; 791  :     PMLOGMSG(ZONE_REFCNT, (_T("%s: refcnt for 0x%08x set to %d\r\n"), pszFname,
; 792  :         pds, pds->dwRefCount));

  0065a	f8d5 2440	 ldr         r2,[r5,#0x440]
  0065e	f012 0f40	 tst         r2,#0x40
  00662	d00a		 beq         |$LN5@DeviceStat|
  00664	4909		 ldr         r1,|$LN19@DeviceStat| ; =|??_C@_1CE@MPJLADIF@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAA?$AAd?$AAd?$AAR?$AAe?$AAf?$AA?$AA@|
  00666	4808		 ldr         r0,|$LN18@DeviceStat| ; =|??_C@_1EE@LALFIHHK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAf?$AAc?$AAn?$AAt?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAd?$AA?$AN@|
  00668	4622		 mov         r2,r4
  0066a	f000 f800	 bl          NKDbgPrintfW
  0066e	6da3		 ldr         r3,[r4,#0x58]
  00670	4906		 ldr         r1,|$LN19@DeviceStat| ; =|??_C@_1CE@MPJLADIF@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAA?$AAd?$AAd?$AAR?$AAe?$AAf?$AA?$AA@|
  00672	4805		 ldr         r0,|$LN18@DeviceStat| ; =|??_C@_1EE@LALFIHHK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAf?$AAc?$AAn?$AAt?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAd?$AA?$AN@|
  00674	4622		 mov         r2,r4
  00676	f000 f800	 bl          CeLogMsg
  0067a		 |$LN5@DeviceStat|

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  0067a	4802		 ldr         r0,|$LN17@DeviceStat| ; =|gcsPowerManager|
  0067c	f000 f800	 bl          LeaveCriticalSection
  00680		 |$M15|

; 793  :     PMUNLOCK();
; 794  : }

  00680	e8bd 8830	 pop         {r4,r5,r11,pc}
  00684		 |$LN16@DeviceStat|
  00684		 |$LN17@DeviceStat|
  00684	0000 0000	 DCD         |gcsPowerManager|
  00688		 |$LN18@DeviceStat|
  00688	0000 0000	 DCD         |??_C@_1EE@LALFIHHK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAf?$AAc?$AAn?$AAt?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAd?$AA?$AN@|
  0068c		 |$LN19@DeviceStat|
  0068c	0000 0000	 DCD         |??_C@_1CE@MPJLADIF@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAA?$AAd?$AAd?$AAR?$AAe?$AAf?$AA?$AA@|
  00690		 |$LN20@DeviceStat|
  00690	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00694		 |$LN21@DeviceStat|
  00694	0000 0000	 DCD         |??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00698		 |$LN22@DeviceStat|
  00698	0000 0000	 DCD         |dpCurSettings|
  0069c		 |$M13|

			 ENDP  ; |DeviceStateAddRef|

	EXPORT	|??_C@_1CC@HEACIIOP@?$AAG?$AAe?$AAt?$AAC?$AAl?$AAa?$AAs?$AAs?$AAF?$AAr?$AAo?$AAm?$AAN?$AAa?$AAm?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DO@JAALAKBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1IE@MDHCBALB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAf?$AAo?$AAu?$AAn?$AAd?$AA?5?$AAt?$AAh?$AAe?$AA?5?$AAd?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAi?$AAn?$AA?5?$AAm?$AAu?$AAl@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FM@FBMGAPFJ@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAa?$AAc?$AAc?$AAe?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAg?$AAu?$AAi?$AAd?$AAD?$AAe?$AAv?$AAC@| [ DATA ] ; `string'
	IMPORT	|idGenericPMDeviceClass|
	IMPORT	|gpDeviceLists|

  00068			 AREA	 |.pdata|, PDATA
|$pdata1$?GetClassFromName@@YAHPBGPAU_GUID@@@Z| DCD imagerel |$LN63@GetClassFr|
	DCD	imagerel |$unwind2$?GetClassFromName@@YAHPBGPAU_GUID@@@Z|

  00044			 AREA	 |.xdata|, DATA
	%	4
|$unwind2$?GetClassFromName@@YAHPBGPAU_GUID@@@Z| DCD 0x333000ad
	DCD	0xdffc09c7
	DCD	0xefdbff02
	DCD	0xff03
	DCD	imagerel |__C_specific_handler|
	DCD	0x2
	DCD	imagerel |$LN40@GetClassFr|
	DCD	imagerel |$LN41@GetClassFr|
	DCD	0x1
	DCD	imagerel |$LN37@GetClassFr|
	DCD	imagerel |$LN33@GetClassFr|
	DCD	imagerel |$LN34@GetClassFr|
	DCD	0x1
	DCD	imagerel |$LN30@GetClassFr|

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FM@FBMGAPFJ@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAa?$AAc?$AAc?$AAe?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAg?$AAu?$AAi?$AAd?$AAD?$AAe?$AAv?$AAC@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "x", 0x0, "c"
	DCB	0x0, "e", 0x0, "p", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, " ", 0x0, "a", 0x0, "c", 0x0, "c", 0x0, "e", 0x0, "s"
	DCB	0x0, "s", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "g"
	DCB	0x0, "u", 0x0, "i", 0x0, "d", 0x0, "D", 0x0, "e", 0x0, "v"
	DCB	0x0, "C", 0x0, "l", 0x0, "a", 0x0, "s", 0x0, "s", 0x0, " "
	DCB	0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1IE@MDHCBALB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAf?$AAo?$AAu?$AAn?$AAd?$AA?5?$AAt?$AAh?$AAe?$AA?5?$AAd?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAi?$AAn?$AA?5?$AAm?$AAu?$AAl@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "f", 0x0, "o", 0x0, "u"
	DCB	0x0, "n", 0x0, "d", 0x0, " ", 0x0, "t", 0x0, "h", 0x0, "e"
	DCB	0x0, " ", 0x0, "d", 0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c"
	DCB	0x0, "e", 0x0, " ", 0x0, "n", 0x0, "a", 0x0, "m", 0x0, "e"
	DCB	0x0, " ", 0x0, "i", 0x0, "n", 0x0, " ", 0x0, "m", 0x0, "u"
	DCB	0x0, "l", 0x0, "t", 0x0, "i", 0x0, "p", 0x0, "l", 0x0, "e"
	DCB	0x0, " ", 0x0, "c", 0x0, "l", 0x0, "a", 0x0, "s", 0x0, "s"
	DCB	0x0, "e", 0x0, "s", 0x0, ",", 0x0, " ", 0x0, "r", 0x0, "e"
	DCB	0x0, "t", 0x0, "u", 0x0, "r", 0x0, "n", 0x0, "i", 0x0, "n"
	DCB	0x0, "g", 0x0, " ", 0x0, "e", 0x0, "r", 0x0, "r", 0x0, "o"
	DCB	0x0, "r", 0x0, ".", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DO@JAALAKBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "x", 0x0, "c"
	DCB	0x0, "e", 0x0, "p", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, " ", 0x0, "s", 0x0, "e", 0x0, "a", 0x0, "r", 0x0, "c"
	DCB	0x0, "h", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "l"
	DCB	0x0, "i", 0x0, "s", 0x0, "t", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CC@HEACIIOP@?$AAG?$AAe?$AAt?$AAC?$AAl?$AAa?$AAs?$AAs?$AAF?$AAr?$AAo?$AAm?$AAN?$AAa?$AAm?$AAe?$AA?$AA@| DCB "G"
	DCB	0x0, "e", 0x0, "t", 0x0, "C", 0x0, "l", 0x0, "a", 0x0, "s"
	DCB	0x0, "s", 0x0, "F", 0x0, "r", 0x0, "o", 0x0, "m", 0x0, "N"
	DCB	0x0, "a", 0x0, "m", 0x0, "e", 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  0069c			 AREA	 |.text|, CODE, THUMB

  0069c		 |?GetClassFromName@@YAHPBGPAU_GUID@@@Z| PROC ; GetClassFromName

; 463  : {

  0069c		 |$LN63@GetClassFr|
  0069c	b403		 push        {r0,r1}
  0069e	e92d 4ff0	 push        {r4-r11,lr}
  006a2	f20d 0b1c	 addw        r11,sp,#0x1C
  006a6	b089		 sub         sp,sp,#0x24
  006a8	466f		 mov         r7,sp
  006aa		 |$LN61@GetClassFr|
  006aa	460c		 mov         r4,r1
  006ac	64fc		 str         r4,[r7,#0x4C]
  006ae	4606		 mov         r6,r0
  006b0	60fe		 str         r6,[r7,#0xC]
  006b2	64be		 str         r6,[r7,#0x48]

; 464  :     PDEVICE_LIST pdl;
; 465  :     PDEVICE_LIST pdlFound = NULL; // The class list the device was found in.

  006b4	2200		 movs        r2,#0
  006b6	60ba		 str         r2,[r7,#8]
  006b8	613a		 str         r2,[r7,#0x10]

; 466  :     DWORD cFound = 0;

  006ba	f04f 0800	 mov         r8,#0
  006be	f8c7 8000	 str         r8,[r7]
  006c2	f8c7 8014	 str         r8,[r7,#0x14]

; 467  :     BOOL fRet = TRUE;

  006c6	2501		 movs        r5,#1

; 468  :     SETFNAME(_T("GetClassFromName"));

  006c8	f8df a150	 ldr         r10,|$LN77@GetClassFr| ; =|??_C@_1CC@HEACIIOP@?$AAG?$AAe?$AAt?$AAC?$AAl?$AAa?$AAs?$AAs?$AAF?$AAr?$AAo?$AAm?$AAN?$AAa?$AAm?$AAe?$AA?$AA@|
  006cc	f8c7 a004	 str         r10,[r7,#4]

; 469  : 
; 470  :     PREFAST_DEBUGCHK(guidDevClass != NULL);

  006d0	b93c		 cbnz        r4,|$LN21@GetClassFr|
  006d2	f44f 73eb	 mov         r3,#0x1D6
  006d6	4a50		 ldr         r2,|$LN76@GetClassFr| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  006d8	494c		 ldr         r1,|$LN73@GetClassFr| ; =|dpCurSettings|
  006da	484e		 ldr         r0,|$LN75@GetClassFr| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  006dc	f000 f800	 bl          NKDbgPrintfW
  006e0	defe		 __debugbreak
  006e2		 |$LN21@GetClassFr|

; 471  :     if( pszName == NULL || guidDevClass == NULL ){

  006e2	2e00		 cmp         r6,#0
  006e4	f000 8080	 beq         |$LN16@GetClassFr|
  006e8	2c00		 cmp         r4,#0
  006ea	d07d		 beq         |$LN16@GetClassFr|
  006ec		 |$LN33@GetClassFr|

; 473  :     } 
; 474  : 
; 475  :     __try {
; 476  :         memset(guidDevClass, 0, sizeof(*guidDevClass));  // Default to returning a NULL GUID

  006ec	2300		 movs        r3,#0
  006ee	6023		 str         r3,[r4]
  006f0	6063		 str         r3,[r4,#4]
  006f2	60a3		 str         r3,[r4,#8]
  006f4	60e3		 str         r3,[r4,#0xC]

; 477  :     
; 478  :         // Iterate through the lists of classes
; 479  :         for(pdl = gpDeviceLists; pdl != NULL; pdl = pdl->pNext) {

  006f6	4b46		 ldr         r3,|$LN74@GetClassFr| ; =|gpDeviceLists|
  006f8	681e		 ldr         r6,[r3]
  006fa	f04f 0900	 mov         r9,#0
  006fe		 |$LN59@GetClassFr|
  006fe	61be		 str         r6,[r7,#0x18]
  00700	2e00		 cmp         r6,#0
  00702	d043		 beq         |$LN12@GetClassFr|

; 93   :     EnterCriticalSection(&gcsPowerManager);

  00704	483f		 ldr         r0,|$LN71@GetClassFr| ; =|gcsPowerManager|
  00706	f000 f800	 bl          EnterCriticalSection
  0070a		 |$LN40@GetClassFr|

; 480  : 
; 481  :             PDEVICE_STATE pds = NULL;
; 482  : 
; 483  :             PMLOCK();
; 484  : 
; 485  :             __try {
; 486  :                 // Iterate through the devices in this class looking for a matching name
; 487  :                 for(pds = pdl->pList; pds != NULL; pds = pds->pNext) {

  0070a	f8d6 8004	 ldr         r8,[r6,#4]
  0070e		 |$LL10@GetClassFr|
  0070e	f1b8 0f00	 cmp         r8,#0
  00712	d013		 beq         |$LN58@GetClassFr|

; 488  :                     if(_tcscmp(pds->pszName, pszName) == 0) {

  00714	f8d8 0000	 ldr         r0,[r8]
  00718	68f9		 ldr         r1,[r7,#0xC]
  0071a	f000 f800	 bl          wcscmp
  0071e	b110		 cbz         r0,|$LN51@GetClassFr|

; 480  : 
; 481  :             PDEVICE_STATE pds = NULL;
; 482  : 
; 483  :             PMLOCK();
; 484  : 
; 485  :             __try {
; 486  :                 // Iterate through the devices in this class looking for a matching name
; 487  :                 for(pds = pdl->pList; pds != NULL; pds = pds->pNext) {

  00720	f8d8 8068	 ldr         r8,[r8,#0x68]
  00724	e7f3		 b           |$LL10@GetClassFr|
  00726		 |$LN51@GetClassFr|

; 489  :                         pdlFound = pdl;

  00726	60be		 str         r6,[r7,#8]
  00728	613e		 str         r6,[r7,#0x10]

; 490  :                         cFound++;

  0072a	f8d7 8000	 ldr         r8,[r7]
  0072e	f108 0801	 add         r8,r8,#1
  00732	f8c7 8000	 str         r8,[r7]
  00736	f8c7 8014	 str         r8,[r7,#0x14]
  0073a	e001		 b           |$LN41@GetClassFr|
  0073c		 |$LN58@GetClassFr|
  0073c	f8d7 8000	 ldr         r8,[r7]
  00740		 |$LN41@GetClassFr|

; 491  :                         break;
; 492  :                     }
; 493  :                 }

  00740	e01f		 b           |$LN42@GetClassFr|
  00742		 |$LN37@GetClassFr|
  00742		 |$LN39@GetClassFr|

; 494  :             }
; 495  :             __except(EXCEPTION_EXECUTE_HANDLER) {
; 496  :                 PMLOGMSG(ZONE_WARN, (_T("%s: exception searching list\r\n"), 
; 497  :                     pszFname));

  00742	4b32		 ldr         r3,|$LN73@GetClassFr| ; =|dpCurSettings|
  00744	f8d3 3440	 ldr         r3,[r3,#0x440]
  00748	f013 0f02	 tst         r3,#2
  0074c	f8d7 a004	 ldr         r10,[r7,#4]
  00750	d007		 beq         |$LN22@GetClassFr|
  00752	4651		 mov         r1,r10
  00754	482c		 ldr         r0,|$LN72@GetClassFr| ; =|??_C@_1DO@JAALAKBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  00756	f000 f800	 bl          NKDbgPrintfW
  0075a	4651		 mov         r1,r10
  0075c	482a		 ldr         r0,|$LN72@GetClassFr| ; =|??_C@_1DO@JAALAKBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  0075e	f000 f800	 bl          CeLogMsg
  00762		 |$LN22@GetClassFr|

; 498  :                 fRet = FALSE;  // Indicate an error occured

  00762	f04f 0900	 mov         r9,#0
  00766	464d		 mov         r5,r9
  00768	f8c7 901c	 str         r9,[r7,#0x1C]

; 499  :                 goto Exit;

  0076c	6cfc		 ldr         r4,[r7,#0x4C]
  0076e	6cbb		 ldr         r3,[r7,#0x48]
  00770	60fb		 str         r3,[r7,#0xC]
  00772	693b		 ldr         r3,[r7,#0x10]
  00774	60bb		 str         r3,[r7,#8]
  00776	f8d7 8014	 ldr         r8,[r7,#0x14]
  0077a	f8c7 8000	 str         r8,[r7]
  0077e	69be		 ldr         r6,[r7,#0x18]
  00780	e033		 b           |$LN18@GetClassFr|
  00782		 |$LN42@GetClassFr|

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  00782	4820		 ldr         r0,|$LN71@GetClassFr| ; =|gcsPowerManager|
  00784	f000 f800	 bl          LeaveCriticalSection

; 477  :     
; 478  :         // Iterate through the lists of classes
; 479  :         for(pdl = gpDeviceLists; pdl != NULL; pdl = pdl->pNext) {

  00788	6976		 ldr         r6,[r6,#0x14]
  0078a	e7b8		 b           |$LN59@GetClassFr|
  0078c		 |$LN12@GetClassFr|

; 500  :             }
; 501  : 
; 502  :             PMUNLOCK();
; 503  : 
; 504  :         }
; 505  : 
; 506  :         // If the device was found exactly once. If it was found more than once then the
; 507  :         // user MUST specify the class. 
; 508  :         switch( cFound )

  0078c	f1b8 0f00	 cmp         r8,#0
  00790	d013		 beq         |$LN3@GetClassFr|
  00792	f1b8 0f01	 cmp         r8,#1
  00796	d00d		 beq         |$LN2@GetClassFr|

; 521  : 
; 522  :           default:
; 523  :             // Found the device name in multiple classes so return an error.
; 524  :             // We can't correctly set the GUID in this case. So the API user must supply it
; 525  :             PMLOGMSG(TRUE, (_T("%s: found the device name in multiple classes, returning error.\r\n"),
; 526  :                 pszFname, guidDevClass));

  00798	4622		 mov         r2,r4
  0079a	4651		 mov         r1,r10
  0079c	4818		 ldr         r0,|$LN70@GetClassFr| ; =|??_C@_1IE@MDHCBALB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAf?$AAo?$AAu?$AAn?$AAd?$AA?5?$AAt?$AAh?$AAe?$AA?5?$AAd?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAi?$AAn?$AA?5?$AAm?$AAu?$AAl@|
  0079e	f000 f800	 bl          NKDbgPrintfW
  007a2	4622		 mov         r2,r4
  007a4	4651		 mov         r1,r10
  007a6	4816		 ldr         r0,|$LN70@GetClassFr| ; =|??_C@_1IE@MDHCBALB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAf?$AAo?$AAu?$AAn?$AAd?$AA?5?$AAt?$AAh?$AAe?$AA?5?$AAd?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAi?$AAn?$AA?5?$AAm?$AAu?$AAl@|
  007a8	f000 f800	 bl          CeLogMsg

; 527  :             fRet = FALSE;

  007ac	464d		 mov         r5,r9
  007ae	f8c7 901c	 str         r9,[r7,#0x1C]

; 528  :             break;

  007b2	e00b		 b           |$LN34@GetClassFr|
  007b4		 |$LN2@GetClassFr|

; 515  :             break;
; 516  : 
; 517  :           case 1:
; 518  :             // Found the name in a single class so return that class's GUID
; 519  :            *guidDevClass = *(pdlFound->pGuid);  

  007b4	68bb		 ldr         r3,[r7,#8]
  007b6	681a		 ldr         r2,[r3]

; 520  :             break;

  007b8	e000		 b           |$LN60@GetClassFr|
  007ba		 |$LN3@GetClassFr|

; 509  :         {
; 510  :           case 0:
; 511  :             // The Class for this name hasn't been established, return the default class
; 512  :             // to match CE 6.0 behavior in PmRegisterPowerRelationship when creating
; 513  :             // Child
; 514  :             *guidDevClass = idGenericPMDeviceClass;

  007ba	4a10		 ldr         r2,|$LN69@GetClassFr| ; =|idGenericPMDeviceClass|
  007bc		 |$LN60@GetClassFr|
  007bc	6813		 ldr         r3,[r2]
  007be	6023		 str         r3,[r4]
  007c0	6853		 ldr         r3,[r2,#4]
  007c2	6063		 str         r3,[r4,#4]
  007c4	6893		 ldr         r3,[r2,#8]
  007c6	60a3		 str         r3,[r4,#8]
  007c8	68d3		 ldr         r3,[r2,#0xC]
  007ca	60e3		 str         r3,[r4,#0xC]
  007cc		 |$LN34@GetClassFr|

; 529  :         }            

  007cc	e00d		 b           |$LN18@GetClassFr|
  007ce		 |$LN30@GetClassFr|
  007ce		 |$LN32@GetClassFr|

; 530  :         
; 531  :     }
; 532  :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 533  :         PMLOGMSG(TRUE, (_T("%s: exception accessing guidDevClass 0x%08x\r\n"),
; 534  :             pszFname, guidDevClass));

  007ce	6cfa		 ldr         r2,[r7,#0x4C]
  007d0	6879		 ldr         r1,[r7,#4]
  007d2	4809		 ldr         r0,|$LN68@GetClassFr| ; =|??_C@_1FM@FBMGAPFJ@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAa?$AAc?$AAc?$AAe?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAg?$AAu?$AAi?$AAd?$AAD?$AAe?$AAv?$AAC@|
  007d4	f000 f800	 bl          NKDbgPrintfW
  007d8	6cfa		 ldr         r2,[r7,#0x4C]
  007da	6879		 ldr         r1,[r7,#4]
  007dc	4806		 ldr         r0,|$LN68@GetClassFr| ; =|??_C@_1FM@FBMGAPFJ@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAa?$AAc?$AAc?$AAe?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAg?$AAu?$AAi?$AAd?$AAD?$AAe?$AAv?$AAC@|
  007de	f000 f800	 bl          CeLogMsg

; 535  :         fRet = FALSE;    // Indicate an error occured

  007e2	2500		 movs        r5,#0
  007e4	61fd		 str         r5,[r7,#0x1C]
  007e6	e000		 b           |$LN18@GetClassFr|
  007e8		 |$LN16@GetClassFr|

; 472  :         return FALSE;        

  007e8	2500		 movs        r5,#0
  007ea		 |$LN18@GetClassFr|

; 536  :     }
; 537  : Exit:
; 538  : 
; 539  :     return fRet;
; 540  : }

  007ea	4628		 mov         r0,r5
  007ec		 |$M66|
  007ec	b009		 add         sp,sp,#0x24
  007ee	e8bd 0ff0	 pop         {r4-r11}
  007f2	f85d fb0c	 ldr         pc,[sp],#0xC
  007f6		 |$LN78@GetClassFr|
  007f6		 |$M79|
  007f6	defe		 __debugbreak
  007f8		 |$LN67@GetClassFr|
  007f8		 |$LN68@GetClassFr|
  007f8	0000 0000	 DCD         |??_C@_1FM@FBMGAPFJ@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAa?$AAc?$AAc?$AAe?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAg?$AAu?$AAi?$AAd?$AAD?$AAe?$AAv?$AAC@|
  007fc		 |$LN69@GetClassFr|
  007fc	0000 0000	 DCD         |idGenericPMDeviceClass|
  00800		 |$LN70@GetClassFr|
  00800	0000 0000	 DCD         |??_C@_1IE@MDHCBALB@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAf?$AAo?$AAu?$AAn?$AAd?$AA?5?$AAt?$AAh?$AAe?$AA?5?$AAd?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAi?$AAn?$AA?5?$AAm?$AAu?$AAl@|
  00804		 |$LN71@GetClassFr|
  00804	0000 0000	 DCD         |gcsPowerManager|
  00808		 |$LN72@GetClassFr|
  00808	0000 0000	 DCD         |??_C@_1DO@JAALAKBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  0080c		 |$LN73@GetClassFr|
  0080c	0000 0000	 DCD         |dpCurSettings|
  00810		 |$LN74@GetClassFr|
  00810	0000 0000	 DCD         |gpDeviceLists|
  00814		 |$LN75@GetClassFr|
  00814	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00818		 |$LN76@GetClassFr|
  00818	0000 0000	 DCD         |??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  0081c		 |$LN77@GetClassFr|
  0081c	0000 0000	 DCD         |??_C@_1CC@HEACIIOP@?$AAG?$AAe?$AAt?$AAC?$AAl?$AAa?$AAs?$AAs?$AAF?$AAr?$AAo?$AAm?$AAN?$AAa?$AAm?$AAe?$AA?$AA@|

			 ENDP  ; |?GetClassFromName@@YAHPBGPAU_GUID@@@Z|, GetClassFromName

  00820		 |$LN62@GetClassFr|

  00070			 AREA	 |.pdata|, PDATA
|$pdata1$?wUUIDFromString@@YAHPBGPAU_GUID@@@Z| DCD imagerel |$LN18@wUUIDFromS|
	DCD	imagerel |$unwind2$?wUUIDFromString@@YAHPBGPAU_GUID@@@Z|

  00080			 AREA	 |.xdata|, DATA
|$unwind2$?wUUIDFromString@@YAHPBGPAU_GUID@@@Z| DCD 0x22a00077
	DCD	0x218a8fc
	DCD	0xff03efff
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00820			 AREA	 |.text|, CODE, THUMB

  00820		 |?wUUIDFromString@@YAHPBGPAU_GUID@@@Z| PROC ; wUUIDFromString

; 237  : {

  00820		 |$LN18@wUUIDFromS|
  00820	b403		 push        {r0,r1}
  00822	e92d 4818	 push        {r3,r4,r11,lr}
  00826	f20d 0b08	 addw        r11,sp,#8
  0082a		 |$M16|

; 238  :     DWORD dw;
; 239  :     
; 240  :     if (!HexStringToDword(lpsz, pguid->Data1, sizeof(DWORD)*2, '-'))

  0082a	a804		 add         r0,sp,#0x10
  0082c	232d		 movs        r3,#0x2D
  0082e	2208		 movs        r2,#8
  00830	460c		 mov         r4,r1
  00832	f000 f800	 bl          |?HexStringToDword@@YAHAAPBGAAKHG@Z|
  00836	b908		 cbnz        r0,|$LN11@wUUIDFromS|
  00838		 |$LN14@wUUIDFromS|

; 241  :         return FALSE;

  00838	2000		 movs        r0,#0
  0083a	e064		 b           |$LN12@wUUIDFromS|
  0083c		 |$LN11@wUUIDFromS|

; 242  :     
; 243  :     if (!HexStringToDword(lpsz, dw, sizeof(WORD)*2, '-'))

  0083c	4669		 mov         r1,sp
  0083e	a804		 add         r0,sp,#0x10
  00840	232d		 movs        r3,#0x2D
  00842	2204		 movs        r2,#4
  00844	f000 f800	 bl          |?HexStringToDword@@YAHAAPBGAAKHG@Z|
  00848	2800		 cmp         r0,#0
  0084a	d0f5		 beq         |$LN14@wUUIDFromS|

; 244  :         return FALSE;
; 245  :     
; 246  :     pguid->Data2 = (WORD)dw;

  0084c	9b00		 ldr         r3,[sp]

; 247  :     
; 248  :     if (!HexStringToDword(lpsz, dw, sizeof(WORD)*2, '-'))

  0084e	4669		 mov         r1,sp
  00850	a804		 add         r0,sp,#0x10
  00852	80a3		 strh        r3,[r4,#4]
  00854	232d		 movs        r3,#0x2D
  00856	2204		 movs        r2,#4
  00858	f000 f800	 bl          |?HexStringToDword@@YAHAAPBGAAKHG@Z|
  0085c	2800		 cmp         r0,#0
  0085e	d0eb		 beq         |$LN14@wUUIDFromS|

; 249  :         return FALSE;
; 250  :     
; 251  :     pguid->Data3 = (WORD)dw;

  00860	9b00		 ldr         r3,[sp]

; 252  :     
; 253  :     if (!HexStringToDword(lpsz, dw, sizeof(BYTE)*2, 0))

  00862	4669		 mov         r1,sp
  00864	a804		 add         r0,sp,#0x10
  00866	80e3		 strh        r3,[r4,#6]
  00868	2300		 movs        r3,#0
  0086a	2202		 movs        r2,#2
  0086c	f000 f800	 bl          |?HexStringToDword@@YAHAAPBGAAKHG@Z|
  00870	2800		 cmp         r0,#0
  00872	d0e1		 beq         |$LN14@wUUIDFromS|

; 254  :         return FALSE;
; 255  :     
; 256  :     pguid->Data4[0] = (BYTE)dw;

  00874	9b00		 ldr         r3,[sp]

; 257  :     
; 258  :     if (!HexStringToDword(lpsz, dw, sizeof(BYTE)*2, '-'))

  00876	4669		 mov         r1,sp
  00878	a804		 add         r0,sp,#0x10
  0087a	7223		 strb        r3,[r4,#8]
  0087c	232d		 movs        r3,#0x2D
  0087e	2202		 movs        r2,#2
  00880	f000 f800	 bl          |?HexStringToDword@@YAHAAPBGAAKHG@Z|
  00884	2800		 cmp         r0,#0
  00886	d0d7		 beq         |$LN14@wUUIDFromS|

; 259  :         return FALSE;
; 260  :     
; 261  :     pguid->Data4[1] = (BYTE)dw;

  00888	9b00		 ldr         r3,[sp]

; 262  :     
; 263  :     if (!HexStringToDword(lpsz, dw, sizeof(BYTE)*2, 0))

  0088a	4669		 mov         r1,sp
  0088c	a804		 add         r0,sp,#0x10
  0088e	7263		 strb        r3,[r4,#9]
  00890	2300		 movs        r3,#0
  00892	2202		 movs        r2,#2
  00894	f000 f800	 bl          |?HexStringToDword@@YAHAAPBGAAKHG@Z|
  00898	2800		 cmp         r0,#0
  0089a	d0cd		 beq         |$LN14@wUUIDFromS|

; 264  :         return FALSE;
; 265  :     
; 266  :     pguid->Data4[2] = (BYTE)dw;

  0089c	9b00		 ldr         r3,[sp]

; 267  :     
; 268  :     if (!HexStringToDword(lpsz, dw, sizeof(BYTE)*2, 0))

  0089e	4669		 mov         r1,sp
  008a0	a804		 add         r0,sp,#0x10
  008a2	72a3		 strb        r3,[r4,#0xA]
  008a4	2300		 movs        r3,#0
  008a6	2202		 movs        r2,#2
  008a8	f000 f800	 bl          |?HexStringToDword@@YAHAAPBGAAKHG@Z|
  008ac	2800		 cmp         r0,#0
  008ae	d0c3		 beq         |$LN14@wUUIDFromS|

; 269  :         return FALSE;
; 270  :     
; 271  :     pguid->Data4[3] = (BYTE)dw;

  008b0	9b00		 ldr         r3,[sp]

; 272  :     
; 273  :     if (!HexStringToDword(lpsz, dw, sizeof(BYTE)*2, 0))

  008b2	4669		 mov         r1,sp
  008b4	a804		 add         r0,sp,#0x10
  008b6	72e3		 strb        r3,[r4,#0xB]
  008b8	2300		 movs        r3,#0
  008ba	2202		 movs        r2,#2
  008bc	f000 f800	 bl          |?HexStringToDword@@YAHAAPBGAAKHG@Z|
  008c0	2800		 cmp         r0,#0
  008c2	d0b9		 beq         |$LN14@wUUIDFromS|

; 274  :         return FALSE;
; 275  :     
; 276  :     pguid->Data4[4] = (BYTE)dw;

  008c4	9b00		 ldr         r3,[sp]

; 277  :     
; 278  :     if (!HexStringToDword(lpsz, dw, sizeof(BYTE)*2, 0))

  008c6	4669		 mov         r1,sp
  008c8	a804		 add         r0,sp,#0x10
  008ca	7323		 strb        r3,[r4,#0xC]
  008cc	2300		 movs        r3,#0
  008ce	2202		 movs        r2,#2
  008d0	f000 f800	 bl          |?HexStringToDword@@YAHAAPBGAAKHG@Z|
  008d4	2800		 cmp         r0,#0
  008d6	d0af		 beq         |$LN14@wUUIDFromS|

; 279  :         return FALSE;
; 280  :     
; 281  :     pguid->Data4[5] = (BYTE)dw;

  008d8	9b00		 ldr         r3,[sp]

; 282  :     
; 283  :     if (!HexStringToDword(lpsz, dw, sizeof(BYTE)*2, 0))

  008da	4669		 mov         r1,sp
  008dc	a804		 add         r0,sp,#0x10
  008de	7363		 strb        r3,[r4,#0xD]
  008e0	2300		 movs        r3,#0
  008e2	2202		 movs        r2,#2
  008e4	f000 f800	 bl          |?HexStringToDword@@YAHAAPBGAAKHG@Z|
  008e8	2800		 cmp         r0,#0
  008ea	d0a5		 beq         |$LN14@wUUIDFromS|

; 284  :         return FALSE;
; 285  :     
; 286  :     pguid->Data4[6] = (BYTE)dw;

  008ec	9b00		 ldr         r3,[sp]

; 287  :     if (!HexStringToDword(lpsz, dw, sizeof(BYTE)*2, 0))

  008ee	4669		 mov         r1,sp
  008f0	a804		 add         r0,sp,#0x10
  008f2	73a3		 strb        r3,[r4,#0xE]
  008f4	2300		 movs        r3,#0
  008f6	2202		 movs        r2,#2
  008f8	f000 f800	 bl          |?HexStringToDword@@YAHAAPBGAAKHG@Z|
  008fc	2800		 cmp         r0,#0
  008fe	d09b		 beq         |$LN14@wUUIDFromS|

; 288  :         return FALSE;
; 289  :     
; 290  :     pguid->Data4[7] = (BYTE)dw;

  00900	9b00		 ldr         r3,[sp]

; 291  :     
; 292  :     return TRUE;

  00902	2001		 movs        r0,#1
  00904	73e3		 strb        r3,[r4,#0xF]
  00906		 |$LN12@wUUIDFromS|
  00906		 |$M19|

; 293  : }

  00906	e8bd 0818	 pop         {r3,r4,r11}
  0090a	f85d fb0c	 ldr         pc,[sp],#0xC
  0090e		 |$M17|

			 ENDP  ; |?wUUIDFromString@@YAHPBGPAU_GUID@@@Z|, wUUIDFromString

	EXPORT	|??_C@_1CO@DBOLMNLM@?$AAG?$AAe?$AAt?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAF?$AAr?$AAo?$AAm?$AAC?$AAl?$AAa?$AAs?$AAs?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|GetDeviceListFromClass|

  00078			 AREA	 |.pdata|, PDATA
|$pdata1$GetDeviceListFromClass| DCD imagerel |$LN35@GetDeviceL|
	DCD	imagerel |$unwind2$GetDeviceListFromClass|

  0008c			 AREA	 |.xdata|, DATA
	%	4
|$unwind2$GetDeviceListFromClass| DCD 0x33300031
	DCD	0xbea8fcc7
	DCD	0x3efff02
	DCD	0xff
	DCD	imagerel |__C_specific_handler|
	DCD	0x1
	DCD	imagerel |$LN17@GetDeviceL|
	DCD	imagerel |$LN18@GetDeviceL|
	DCD	0x1
	DCD	imagerel |$LN14@GetDeviceL|

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CO@DBOLMNLM@?$AAG?$AAe?$AAt?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAF?$AAr?$AAo?$AAm?$AAC?$AAl?$AAa?$AAs?$AAs?$AA?$AA@| DCB "G"
	DCB	0x0, "e", 0x0, "t", 0x0, "D", 0x0, "e", 0x0, "v", 0x0, "i"
	DCB	0x0, "c", 0x0, "e", 0x0, "L", 0x0, "i", 0x0, "s", 0x0, "t"
	DCB	0x0, "F", 0x0, "r", 0x0, "o", 0x0, "m", 0x0, "C", 0x0, "l"
	DCB	0x0, "a", 0x0, "s", 0x0, "s", 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp
; File c:\wince800\public\common\sdk\inc\guiddef.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  0090e			 AREA	 |.text|, CODE, THUMB

  00910		 |GetDeviceListFromClass| PROC

; 1406 : {

  00910		 |$LN35@GetDeviceL|
  00910	b403		 push        {r0,r1}
  00912	e92d 48be	 push        {r1-r5,r7,r11,lr}
  00916	f20d 0b18	 addw        r11,sp,#0x18
  0091a	466f		 mov         r7,sp
  0091c		 |$LN33@GetDeviceL|
  0091c	4605		 mov         r5,r0
  0091e	623d		 str         r5,[r7,#0x20]

; 1407 :     PDEVICE_LIST pdl;
; 1408 :     SETFNAME(_T("GetDeviceListFromClass"));

  00920	4b19		 ldr         r3,|$LN44@GetDeviceL| ; =|??_C@_1CO@DBOLMNLM@?$AAG?$AAe?$AAt?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAF?$AAr?$AAo?$AAm?$AAC?$AAl?$AAa?$AAs?$AAs?$AA?$AA@|
  00922	603b		 str         r3,[r7]

; 1409 : 
; 1410 :     PREFAST_DEBUGCHK(guidDevClass != NULL);

  00924	b93d		 cbnz        r5,|$LN9@GetDeviceL|
  00926	f240 5382	 mov         r3,#0x582
  0092a	4a16		 ldr         r2,|$LN43@GetDeviceL| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  0092c	4914		 ldr         r1,|$LN42@GetDeviceL| ; =|dpCurSettings|
  0092e	4813		 ldr         r0,|$LN41@GetDeviceL| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00930	f000 f800	 bl          NKDbgPrintfW
  00934	defe		 __debugbreak
  00936		 |$LN9@GetDeviceL|
  00936		 |$LN17@GetDeviceL|

; 1414 :         for(pdl = gpDeviceLists; pdl != NULL; pdl = pdl->pNext) {

  00936	4b10		 ldr         r3,|$LN40@GetDeviceL| ; =|gpDeviceLists|
  00938	681c		 ldr         r4,[r3]
  0093a		 |$LN32@GetDeviceL|
  0093a	607c		 str         r4,[r7,#4]
  0093c	b13c		 cbz         r4,|$LN18@GetDeviceL|

; 1415 :             if(*pdl->pGuid == *guidDevClass) {

  0093e	6820		 ldr         r0,[r4]
; File c:\wince800\public\common\sdk\inc\guiddef.h

; 150  :     return !memcmp(&rguid1, &rguid2, sizeof(GUID));

  00940	2210		 movs        r2,#0x10
  00942	4629		 mov         r1,r5
  00944	f000 f800	 bl          memcmp
  00948	b108		 cbz         r0,|$LN18@GetDeviceL|
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

; 1414 :         for(pdl = gpDeviceLists; pdl != NULL; pdl = pdl->pNext) {

  0094a	6964		 ldr         r4,[r4,#0x14]
  0094c	e7f5		 b           |$LN32@GetDeviceL|
  0094e		 |$LN18@GetDeviceL|

; 1416 :                 break;
; 1417 :             }
; 1418 :         }

  0094e	e00b		 b           |$LN6@GetDeviceL|
  00950		 |$LN14@GetDeviceL|
  00950		 |$LN16@GetDeviceL|

; 1419 :     }
; 1420 :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 1421 :         PMLOGMSG(TRUE, (_T("%s: exception accessing guidDevClass 0x%08x\r\n"),
; 1422 :             pszFname, guidDevClass));

  00950	6a3a		 ldr         r2,[r7,#0x20]
  00952	6839		 ldr         r1,[r7]
  00954	4807		 ldr         r0,|$LN39@GetDeviceL| ; =|??_C@_1FM@FBMGAPFJ@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAa?$AAc?$AAc?$AAe?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAg?$AAu?$AAi?$AAd?$AAD?$AAe?$AAv?$AAC@|
  00956	f000 f800	 bl          NKDbgPrintfW
  0095a	6a3a		 ldr         r2,[r7,#0x20]
  0095c	6839		 ldr         r1,[r7]
  0095e	4805		 ldr         r0,|$LN39@GetDeviceL| ; =|??_C@_1FM@FBMGAPFJ@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAa?$AAc?$AAc?$AAe?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAg?$AAu?$AAi?$AAd?$AAD?$AAe?$AAv?$AAC@|
  00960	f000 f800	 bl          CeLogMsg

; 1423 :         pdl = NULL;

  00964	2400		 movs        r4,#0
  00966	607c		 str         r4,[r7,#4]
  00968		 |$LN6@GetDeviceL|

; 1424 :     }
; 1425 : 
; 1426 :     return pdl;
; 1427 : }

  00968	4620		 mov         r0,r4
  0096a		 |$M37|
  0096a	e8bd 08be	 pop         {r1-r5,r7,r11}
  0096e	f85d fb0c	 ldr         pc,[sp],#0xC
  00972		 |$LN45@GetDeviceL|
  00972		 |$M46|
  00972	defe		 __debugbreak
  00974		 |$LN38@GetDeviceL|
  00974		 |$LN39@GetDeviceL|
  00974	0000 0000	 DCD         |??_C@_1FM@FBMGAPFJ@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAa?$AAc?$AAc?$AAe?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAg?$AAu?$AAi?$AAd?$AAD?$AAe?$AAv?$AAC@|
  00978		 |$LN40@GetDeviceL|
  00978	0000 0000	 DCD         |gpDeviceLists|
  0097c		 |$LN41@GetDeviceL|
  0097c	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00980		 |$LN42@GetDeviceL|
  00980	0000 0000	 DCD         |dpCurSettings|
  00984		 |$LN43@GetDeviceL|
  00984	0000 0000	 DCD         |??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00988		 |$LN44@GetDeviceL|
  00988	0000 0000	 DCD         |??_C@_1CO@DBOLMNLM@?$AAG?$AAe?$AAt?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAF?$AAr?$AAo?$AAm?$AAC?$AAl?$AAa?$AAs?$AAs?$AA?$AA@|

			 ENDP  ; |GetDeviceListFromClass|

  0098c		 |$LN34@GetDeviceL|
	EXPORT	|??9@YAHABU_GUID@@0@Z|			; operator!=

  00000			 AREA	 |.pdata|, PDATA
|$pdata1$??9@YAHABU_GUID@@0@Z| DCD imagerel |$LN14@operator|
	DCD	0x3f6031
; Function compile flags: /Ogsp
; File c:\wince800\public\common\sdk\inc\guiddef.h

  00000			 AREA	 |.text|, CODE, THUMB

  00000		 |??9@YAHABU_GUID@@0@Z| PROC		; operator!=

; 188  : {

  00000		 |$LN14@operator|
  00000	e92d 4800	 push        {r11,lr}
  00004	46eb		 mov         r11,sp
  00006		 |$M12|

; 150  :     return !memcmp(&rguid1, &rguid2, sizeof(GUID));

  00006	2210		 movs        r2,#0x10
  00008	f000 f800	 bl          memcmp
  0000c	b108		 cbz         r0,|$LN3@operator|

; 189  :     return !(guidOne == guidOther);

  0000e	2001		 movs        r0,#1
  00010	e000		 b           |$LN4@operator|
  00012		 |$LN3@operator|
  00012	2000		 movs        r0,#0
  00014		 |$LN4@operator|
  00014		 |$M15|

; 190  : }

  00014	e8bd 8800	 pop         {r11,pc}
  00018		 |$M13|

			 ENDP  ; |??9@YAHABU_GUID@@0@Z|, operator!=

	EXPORT	|??_C@_1HI@DIOFPKMA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAs?$AAt?$AAi?$AAn?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAb?$AAu?$AAf?$AAf?$AAe?$AAr?$AA?5?$AAs?$AAi?$AAz?$AAe?$AA?5?$AA?$CF?$AAd?$AA?5?$AAt@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DA@LNNIEIHK@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAC?$AAl?$AAo?$AAn?$AAe?$AAI?$AAn?$AAt?$AAo?$AAB?$AAu?$AAf?$AAf?$AAe?$AAr?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EG@NNKPJLFF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAd?$AAu?$AAr?$AAi?$AAn?$AAg?$AA?5?$AAm?$AAe?$AAm?$AAb?$AAe?$AAr?$AA?5?$AAc?$AAo?$AAp?$AAy@| [ DATA ] ; `string'
	EXPORT	|DeviceIdCloneIntoBuffer|
	IMPORT	|StringCbCopyW|

  00080			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceIdCloneIntoBuffer| DCD imagerel |$LN36@DeviceIdCl|
	DCD	imagerel |$unwind2$DeviceIdCloneIntoBuffer|

  000b8			 AREA	 |.xdata|, DATA
|$unwind2$DeviceIdCloneIntoBuffer| DCD 0x20100087
	DCD	0xfcabfcc7
	DCD	0xff
	DCD	imagerel |__C_specific_handler|
	DCD	0x1
	DCD	imagerel |$LN27@DeviceIdCl|
	DCD	imagerel |$LN28@DeviceIdCl|
	DCD	0x1
	DCD	imagerel |$LN24@DeviceIdCl|

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EG@NNKPJLFF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAd?$AAu?$AAr?$AAi?$AAn?$AAg?$AA?5?$AAm?$AAe?$AAm?$AAb?$AAe?$AAr?$AA?5?$AAc?$AAo?$AAp?$AAy@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "x", 0x0, "c"
	DCB	0x0, "e", 0x0, "p", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, " ", 0x0, "d", 0x0, "u", 0x0, "r", 0x0, "i", 0x0, "n"
	DCB	0x0, "g", 0x0, " ", 0x0, "m", 0x0, "e", 0x0, "m", 0x0, "b"
	DCB	0x0, "e", 0x0, "r", 0x0, " ", 0x0, "c", 0x0, "o", 0x0, "p"
	DCB	0x0, "y", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@| DCB "U", 0x0
	DCB	"n", 0x0, "k", 0x0, "n", 0x0, "o", 0x0, "w", 0x0, "n", 0x0
	DCB	0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DA@LNNIEIHK@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAC?$AAl?$AAo?$AAn?$AAe?$AAI?$AAn?$AAt?$AAo?$AAB?$AAu?$AAf?$AAf?$AAe?$AAr?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "I"
	DCB	0x0, "d", 0x0, "C", 0x0, "l", 0x0, "o", 0x0, "n", 0x0, "e"
	DCB	0x0, "I", 0x0, "n", 0x0, "t", 0x0, "o", 0x0, "B", 0x0, "u"
	DCB	0x0, "f", 0x0, "f", 0x0, "e", 0x0, "r", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HI@DIOFPKMA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAs?$AAt?$AAi?$AAn?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAb?$AAu?$AAf?$AAf?$AAe?$AAr?$AA?5?$AAs?$AAi?$AAz?$AAe?$AA?5?$AA?$CF?$AAd?$AA?5?$AAt@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "d", 0x0, "e", 0x0, "s"
	DCB	0x0, "t", 0x0, "i", 0x0, "n", 0x0, "a", 0x0, "t", 0x0, "i"
	DCB	0x0, "o", 0x0, "n", 0x0, " ", 0x0, "b", 0x0, "u", 0x0, "f"
	DCB	0x0, "f", 0x0, "e", 0x0, "r", 0x0, " ", 0x0, "s", 0x0, "i"
	DCB	0x0, "z", 0x0, "e", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, " "
	DCB	0x0, "t", 0x0, "o", 0x0, "o", 0x0, " ", 0x0, "s", 0x0, "m"
	DCB	0x0, "a", 0x0, "l", 0x0, "l", 0x0, ",", 0x0, " ", 0x0, "%"
	DCB	0x0, "d", 0x0, " ", 0x0, "b", 0x0, "y", 0x0, "t", 0x0, "e"
	DCB	0x0, "s", 0x0, " ", 0x0, "n", 0x0, "e", 0x0, "e", 0x0, "d"
	DCB	0x0, "e", 0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  0098c			 AREA	 |.text|, CODE, THUMB

  0098c		 |DeviceIdCloneIntoBuffer| PROC

; 372  : {

  0098c		 |$LN36@DeviceIdCl|
  0098c	e92d 4bfc	 push        {r2-r9,r11,lr}
  00990	f20d 0b20	 addw        r11,sp,#0x20
  00994	466f		 mov         r7,sp
  00996		 |$LN34@DeviceIdCl|
  00996	4691		 mov         r9,r2
  00998	460c		 mov         r4,r1
  0099a	4606		 mov         r6,r0

; 373  :     DWORD dwSize;
; 374  :     SETFNAME(_T("DeviceIdCloneIntoBuffer"));
; 375  : 
; 376  :     PREFAST_DEBUGCHK(pIdSrc != NULL);

  0099c	4d41		 ldr         r5,|$LN42@DeviceIdCl| ; =|dpCurSettings|
  0099e	b93e		 cbnz        r6,|$LN9@DeviceIdCl|
  009a0	f44f 73bc	 mov         r3,#0x178
  009a4	4a41		 ldr         r2,|$LN44@DeviceIdCl| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  009a6	4629		 mov         r1,r5
  009a8	483f		 ldr         r0,|$LN43@DeviceIdCl| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  009aa	f000 f800	 bl          NKDbgPrintfW
  009ae	defe		 __debugbreak
  009b0		 |$LN9@DeviceIdCl|

; 377  :     DEBUGCHK(pIdSrc->pGuid != NULL || pIdSrc->pszName != NULL);

  009b0	6833		 ldr         r3,[r6]
  009b2	b94b		 cbnz        r3,|$LN10@DeviceIdCl|
  009b4	6873		 ldr         r3,[r6,#4]
  009b6	b93b		 cbnz        r3,|$LN10@DeviceIdCl|
  009b8	f240 1379	 mov         r3,#0x179
  009bc	4a3b		 ldr         r2,|$LN44@DeviceIdCl| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  009be	4629		 mov         r1,r5
  009c0	4839		 ldr         r0,|$LN43@DeviceIdCl| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  009c2	f000 f800	 bl          NKDbgPrintfW
  009c6	defe		 __debugbreak
  009c8		 |$LN10@DeviceIdCl|

; 378  :     PREFAST_DEBUGCHK(pIdDst != NULL);

  009c8	b93c		 cbnz        r4,|$LN13@DeviceIdCl|
  009ca	f44f 73bd	 mov         r3,#0x17A
  009ce	4a37		 ldr         r2,|$LN44@DeviceIdCl| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  009d0	4629		 mov         r1,r5
  009d2	4835		 ldr         r0,|$LN43@DeviceIdCl| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  009d4	f000 f800	 bl          NKDbgPrintfW
  009d8	defe		 __debugbreak
  009da		 |$LN13@DeviceIdCl|

; 379  :     DEBUGCHK(cbDst >= sizeof(DEVICEID));

  009da	f1b9 0f08	 cmp         r9,#8
  009de	d207		 bcs         |$LN15@DeviceIdCl|
  009e0	f240 137b	 mov         r3,#0x17B
  009e4	4a31		 ldr         r2,|$LN44@DeviceIdCl| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  009e6	4629		 mov         r1,r5
  009e8	482f		 ldr         r0,|$LN43@DeviceIdCl| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  009ea	f000 f800	 bl          NKDbgPrintfW
  009ee	defe		 __debugbreak
  009f0		 |$LN15@DeviceIdCl|

; 380  : 
; 381  :     // make sure we have enough room
; 382  :     dwSize = DeviceIdSize(pIdSrc);

  009f0	4630		 mov         r0,r6
  009f2	f000 f800	 bl          DeviceIdSize
  009f6	4680		 mov         r8,r0

; 383  :     if(cbDst < dwSize) {

  009f8	45c1		 cmp         r9,r8
  009fa	d212		 bcs         |$LN5@DeviceIdCl|

; 384  :         PMLOGMSG(ZONE_WARN, 
; 385  :             (_T("%s: destination buffer size %d too small, %d bytes needed\r\n"),
; 386  :             pszFname, cbDst, dwSize));

  009fc	f8d5 3440	 ldr         r3,[r5,#0x440]
  00a00	f013 0f02	 tst         r3,#2
  00a04	d00b		 beq         |$LN16@DeviceIdCl|
  00a06	4603		 mov         r3,r0
  00a08	464a		 mov         r2,r9
  00a0a	4925		 ldr         r1,|$LN41@DeviceIdCl| ; =|??_C@_1DA@LNNIEIHK@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAC?$AAl?$AAo?$AAn?$AAe?$AAI?$AAn?$AAt?$AAo?$AAB?$AAu?$AAf?$AAf?$AAe?$AAr?$AA?$AA@|
  00a0c	4829		 ldr         r0,|$LN46@DeviceIdCl| ; =|??_C@_1HI@DIOFPKMA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAs?$AAt?$AAi?$AAn?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAb?$AAu?$AAf?$AAf?$AAe?$AAr?$AA?5?$AAs?$AAi?$AAz?$AAe?$AA?5?$AA?$CF?$AAd?$AA?5?$AAt@|
  00a0e	f000 f800	 bl          NKDbgPrintfW
  00a12	4643		 mov         r3,r8
  00a14	464a		 mov         r2,r9
  00a16	4922		 ldr         r1,|$LN41@DeviceIdCl| ; =|??_C@_1DA@LNNIEIHK@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAC?$AAl?$AAo?$AAn?$AAe?$AAI?$AAn?$AAt?$AAo?$AAB?$AAu?$AAf?$AAf?$AAe?$AAr?$AA?$AA@|
  00a18	4826		 ldr         r0,|$LN46@DeviceIdCl| ; =|??_C@_1HI@DIOFPKMA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAs?$AAt?$AAi?$AAn?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAb?$AAu?$AAf?$AAf?$AAe?$AAr?$AA?5?$AAs?$AAi?$AAz?$AAe?$AA?5?$AA?$CF?$AAd?$AA?5?$AAt@|
  00a1a	f000 f800	 bl          CeLogMsg
  00a1e		 |$LN16@DeviceIdCl|

; 387  :         pIdDst = NULL;

  00a1e	2400		 movs        r4,#0

; 388  :     } else {

  00a20	e038		 b           |$LN6@DeviceIdCl|
  00a22		 |$LN5@DeviceIdCl|

; 389  :         memset(pIdDst, 0, dwSize);

  00a22	4642		 mov         r2,r8
  00a24	2100		 movs        r1,#0
  00a26	4620		 mov         r0,r4
  00a28	f000 f800	 bl          memset

; 390  :         pIdDst->pGuid = NULL;

  00a2c	2300		 movs        r3,#0
  00a2e	6023		 str         r3,[r4]

; 391  :         pIdDst->pszName = NULL;

  00a30	6063		 str         r3,[r4,#4]
  00a32		 |$LN27@DeviceIdCl|

; 392  :         __try {
; 393  :             // copy class field if present
; 394  :             DWORD dwNameOffset = sizeof(*pIdDst);

  00a32	2308		 movs        r3,#8

; 395  :             
; 396  :             if(pIdSrc->pGuid != NULL) {

  00a34	6832		 ldr         r2,[r6]
  00a36	b152		 cbz         r2,|$LN2@DeviceIdCl|

; 397  :                 LPGUID pGuid = (LPGUID) ((LPBYTE) pIdDst + sizeof(*pIdDst));

  00a38	18e1		 adds        r1,r4,r3

; 398  :                 *pGuid = *pIdSrc->pGuid;

  00a3a	6813		 ldr         r3,[r2]
  00a3c	600b		 str         r3,[r1]
  00a3e	6853		 ldr         r3,[r2,#4]
  00a40	604b		 str         r3,[r1,#4]
  00a42	6893		 ldr         r3,[r2,#8]
  00a44	608b		 str         r3,[r1,#8]
  00a46	68d3		 ldr         r3,[r2,#0xC]
  00a48	60cb		 str         r3,[r1,#0xC]

; 399  :                 pIdDst->pGuid = pGuid;

  00a4a	6021		 str         r1,[r4]

; 400  :                 dwNameOffset += sizeof(GUID);

  00a4c	2318		 movs        r3,#0x18
  00a4e		 |$LN2@DeviceIdCl|

; 401  :             }
; 402  : 
; 403  :             // copy name field if present
; 404  :             if(pIdSrc->pszName != NULL) {

  00a4e	6872		 ldr         r2,[r6,#4]
  00a50	b182		 cbz         r2,|$LN28@DeviceIdCl|

; 405  :                 LPTSTR pszName = (LPTSTR) ((LPBYTE) pIdDst + dwNameOffset);

  00a52	191d		 adds        r5,r3,r4

; 406  :                 VERIFY(SUCCEEDED(StringCbCopy(pszName, cbDst - dwNameOffset, pIdSrc->pszName)));

  00a54	eba9 0103	 sub         r1,r9,r3
  00a58	4628		 mov         r0,r5
  00a5a	f000 f800	 bl          StringCbCopyW
  00a5e	2800		 cmp         r0,#0
  00a60	da07		 bge         |$LN19@DeviceIdCl|
  00a62	f44f 73cb	 mov         r3,#0x196
  00a66	4912		 ldr         r1,|$LN45@DeviceIdCl| ; =|??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  00a68	4a10		 ldr         r2,|$LN44@DeviceIdCl| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00a6a	480f		 ldr         r0,|$LN43@DeviceIdCl| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00a6c	f000 f800	 bl          NKDbgPrintfW
  00a70	defe		 __debugbreak
  00a72		 |$LN19@DeviceIdCl|

; 407  :                 pIdDst->pszName = pszName;

  00a72	6065		 str         r5,[r4,#4]
  00a74		 |$LN28@DeviceIdCl|

; 408  :             }            
; 409  :         }

  00a74	e00e		 b           |$LN6@DeviceIdCl|
  00a76		 |$LN24@DeviceIdCl|
  00a76		 |$LN26@DeviceIdCl|

; 410  :         __except(EXCEPTION_EXECUTE_HANDLER) {
; 411  :             PMLOGMSG(ZONE_WARN, (_T("%s: exception during member copy\r\n"), 
; 412  :                 pszFname));

  00a76	4b0b		 ldr         r3,|$LN42@DeviceIdCl| ; =|dpCurSettings|
  00a78	f8d3 3440	 ldr         r3,[r3,#0x440]
  00a7c	f013 0f02	 tst         r3,#2
  00a80	d007		 beq         |$LN20@DeviceIdCl|
  00a82	4907		 ldr         r1,|$LN41@DeviceIdCl| ; =|??_C@_1DA@LNNIEIHK@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAC?$AAl?$AAo?$AAn?$AAe?$AAI?$AAn?$AAt?$AAo?$AAB?$AAu?$AAf?$AAf?$AAe?$AAr?$AA?$AA@|
  00a84	4805		 ldr         r0,|$LN40@DeviceIdCl| ; =|??_C@_1EG@NNKPJLFF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAd?$AAu?$AAr?$AAi?$AAn?$AAg?$AA?5?$AAm?$AAe?$AAm?$AAb?$AAe?$AAr?$AA?5?$AAc?$AAo?$AAp?$AAy@|
  00a86	f000 f800	 bl          NKDbgPrintfW
  00a8a	4905		 ldr         r1,|$LN41@DeviceIdCl| ; =|??_C@_1DA@LNNIEIHK@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAC?$AAl?$AAo?$AAn?$AAe?$AAI?$AAn?$AAt?$AAo?$AAB?$AAu?$AAf?$AAf?$AAe?$AAr?$AA?$AA@|
  00a8c	4803		 ldr         r0,|$LN40@DeviceIdCl| ; =|??_C@_1EG@NNKPJLFF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAd?$AAu?$AAr?$AAi?$AAn?$AAg?$AA?5?$AAm?$AAe?$AAm?$AAb?$AAe?$AAr?$AA?5?$AAc?$AAo?$AAp?$AAy@|
  00a8e	f000 f800	 bl          CeLogMsg
  00a92		 |$LN20@DeviceIdCl|

; 413  :             pIdDst = NULL;

  00a92	2400		 movs        r4,#0
  00a94		 |$LN6@DeviceIdCl|

; 414  :         }
; 415  :     }
; 416  : 
; 417  :     return pIdDst;
; 418  : }

  00a94	4620		 mov         r0,r4
  00a96		 |$M38|
  00a96	e8bd 8bfc	 pop         {r2-r9,r11,pc}
  00a9a		 |$LN47@DeviceIdCl|
  00a9a		 |$M48|
  00a9a	defe		 __debugbreak
  00a9c		 |$LN39@DeviceIdCl|
  00a9c		 |$LN40@DeviceIdCl|
  00a9c	0000 0000	 DCD         |??_C@_1EG@NNKPJLFF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAd?$AAu?$AAr?$AAi?$AAn?$AAg?$AA?5?$AAm?$AAe?$AAm?$AAb?$AAe?$AAr?$AA?5?$AAc?$AAo?$AAp?$AAy@|
  00aa0		 |$LN41@DeviceIdCl|
  00aa0	0000 0000	 DCD         |??_C@_1DA@LNNIEIHK@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAC?$AAl?$AAo?$AAn?$AAe?$AAI?$AAn?$AAt?$AAo?$AAB?$AAu?$AAf?$AAf?$AAe?$AAr?$AA?$AA@|
  00aa4		 |$LN42@DeviceIdCl|
  00aa4	0000 0000	 DCD         |dpCurSettings|
  00aa8		 |$LN43@DeviceIdCl|
  00aa8	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00aac		 |$LN44@DeviceIdCl|
  00aac	0000 0000	 DCD         |??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00ab0		 |$LN45@DeviceIdCl|
  00ab0	0000 0000	 DCD         |??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  00ab4		 |$LN46@DeviceIdCl|
  00ab4	0000 0000	 DCD         |??_C@_1HI@DIOFPKMA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAs?$AAt?$AAi?$AAn?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAb?$AAu?$AAf?$AAf?$AAe?$AAr?$AA?5?$AAs?$AAi?$AAz?$AAe?$AA?5?$AA?$CF?$AAd?$AA?5?$AAt@|

			 ENDP  ; |DeviceIdCloneIntoBuffer|

  00ab8		 |$LN35@DeviceIdCl|
	EXPORT	|ActivityTimerDestroy|
	IMPORT	|CloseHandle|

  00088			 AREA	 |.pdata|, PDATA
|$pdata1$ActivityTimerDestroy| DCD imagerel |$LN11@ActivityTi|
	DCD	0xfd306071
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00ab8			 AREA	 |.text|, CODE, THUMB

  00ab8		 |ActivityTimerDestroy| PROC

; 1630 : {

  00ab8		 |$LN11@ActivityTi|
  00ab8	e92d 4818	 push        {r3,r4,r11,lr}
  00abc	f20d 0b08	 addw        r11,sp,#8
  00ac0		 |$M9|
  00ac0	4604		 mov         r4,r0

; 1631 :     BOOL fOk = TRUE;
; 1632 : 
; 1633 :     // free the structure and its members
; 1634 :     if(pat != NULL) {

  00ac2	b194		 cbz         r4,|$LN5@ActivityTi|

; 1635 :         if(pat->hevReset != NULL) CloseHandle(pat->hevReset);

  00ac4	68e0		 ldr         r0,[r4,#0xC]
  00ac6	b108		 cbz         r0,|$LN4@ActivityTi|
  00ac8	f000 f800	 bl          CloseHandle
  00acc		 |$LN4@ActivityTi|

; 1636 :         if(pat->hevActive != NULL) CloseHandle(pat->hevActive);

  00acc	6920		 ldr         r0,[r4,#0x10]
  00ace	b108		 cbz         r0,|$LN3@ActivityTi|
  00ad0	f000 f800	 bl          CloseHandle
  00ad4		 |$LN3@ActivityTi|

; 1637 :         if(pat->hevInactive != NULL) CloseHandle(pat->hevInactive);

  00ad4	6960		 ldr         r0,[r4,#0x14]
  00ad6	b108		 cbz         r0,|$LN2@ActivityTi|
  00ad8	f000 f800	 bl          CloseHandle
  00adc		 |$LN2@ActivityTi|

; 1638 :         if (pat->hevAutoReset!=NULL) CloseHandle(pat->hevAutoReset);

  00adc	6a60		 ldr         r0,[r4,#0x24]
  00ade	b108		 cbz         r0,|$LN1@ActivityTi|
  00ae0	f000 f800	 bl          CloseHandle
  00ae4		 |$LN1@ActivityTi|

; 1639 :         PmFree(pat);

  00ae4	4620		 mov         r0,r4
  00ae6	f000 f800	 bl          PmFree
  00aea		 |$LN5@ActivityTi|

; 1640 :     }
; 1641 : 
; 1642 :     return fOk;

  00aea	2001		 movs        r0,#1
  00aec		 |$M12|

; 1643 : }

  00aec	e8bd 8818	 pop         {r3,r4,r11,pc}
  00af0		 |$M10|

			 ENDP  ; |ActivityTimerDestroy|

	EXPORT	|SystemPowerStateDestroy|

  00090			 AREA	 |.pdata|, PDATA
|$pdata1$SystemPowerStateDestroy| DCD imagerel |$LN7@SystemPowe|
	DCD	0x3f6025
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00af0			 AREA	 |.text|, CODE, THUMB

  00af0		 |SystemPowerStateDestroy| PROC

; 1488 : {

  00af0		 |$LN7@SystemPowe|
  00af0	e92d 4800	 push        {r11,lr}
  00af4	46eb		 mov         r11,sp
  00af6		 |$M5|

; 1489 :     BOOL fOk = TRUE;
; 1490 : 
; 1491 :     if(psps != NULL) {

  00af6	b108		 cbz         r0,|$LN1@SystemPowe|

; 1492 :         PmFree(psps);

  00af8	f000 f800	 bl          PmFree
  00afc		 |$LN1@SystemPowe|

; 1493 :     }
; 1494 : 
; 1495 :     return fOk;

  00afc	2001		 movs        r0,#1
  00afe		 |$M8|

; 1496 : }

  00afe	e8bd 8800	 pop         {r11,pc}
  00b02		 |$M6|

			 ENDP  ; |SystemPowerStateDestroy|

	EXPORT	|??_C@_1KC@MNGCBOGM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAl?$AAe?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?5?$AAe?$AAn?$AAt?$AAr?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAc?$AAl?$AAa?$AAs@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CE@EAPGKPBE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAD?$AAe?$AAs?$AAt?$AAr?$AAo?$AAy?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|DeviceListDestroy|
	IMPORT	|CloseMsgQueue|

  00098			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceListDestroy| DCD imagerel |$LN15@DeviceList|
	DCD	0x23101ad

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CE@EAPGKPBE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAD?$AAe?$AAs?$AAt?$AAr?$AAo?$AAy?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "L"
	DCB	0x0, "i", 0x0, "s", 0x0, "t", 0x0, "D", 0x0, "e", 0x0, "s"
	DCB	0x0, "t", 0x0, "r", 0x0, "o", 0x0, "y", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1KC@MNGCBOGM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAl?$AAe?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?5?$AAe?$AAn?$AAt?$AAr?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAc?$AAl?$AAa?$AAs@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "d", 0x0, "e", 0x0, "l"
	DCB	0x0, "e", 0x0, "t", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " "
	DCB	0x0, "l", 0x0, "i", 0x0, "s", 0x0, "t", 0x0, " ", 0x0, "e"
	DCB	0x0, "n", 0x0, "t", 0x0, "r", 0x0, "y", 0x0, " ", 0x0, "f"
	DCB	0x0, "o", 0x0, "r", 0x0, " ", 0x0, "c", 0x0, "l", 0x0, "a"
	DCB	0x0, "s", 0x0, "s", 0x0, " ", 0x0, "%", 0x0, "0", 0x0, "8"
	DCB	0x0, "x", 0x0, "-", 0x0, "%", 0x0, "0", 0x0, "4", 0x0, "x"
	DCB	0x0, "-", 0x0, "%", 0x0, "0", 0x0, "4", 0x0, "x", 0x0, "-"
	DCB	0x0, "%", 0x0, "0", 0x0, "4", 0x0, "x", 0x0, "-", 0x0, "%"
	DCB	0x0, "0", 0x0, "2", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "2"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "2", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "2", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "2"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "2", 0x0, "x", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00b02			 AREA	 |.text|, CODE, THUMB

  00b04		 |DeviceListDestroy| PROC

; 1385 : {

  00b04		 |$LN15@DeviceList|
  00b04	e92d 4830	 push        {r4,r5,r11,lr}
  00b08	f20d 0b08	 addw        r11,sp,#8
  00b0c	b088		 sub         sp,sp,#0x20
  00b0e		 |$M13|

; 1386 :     SETFNAME(_T("DeviceListDestroy"));
; 1387 : 
; 1388 :     PMLOGMSG(ZONE_INIT || ZONE_DEVICE, 
; 1389 :         (_T("%s: deleting list entry for class %08x-%04x-%04x-%04x-%02x%02x%02x%02x%02x%02x\r\n"), 
; 1390 :         pszFname, pdl->pGuid->Data1, pdl->pGuid->Data2, pdl->pGuid->Data3,
; 1391 :         (pdl->pGuid->Data4[0] << 8) + pdl->pGuid->Data4[1], pdl->pGuid->Data4[2], pdl->pGuid->Data4[3], 
; 1392 :         pdl->pGuid->Data4[4], pdl->pGuid->Data4[5], pdl->pGuid->Data4[6], pdl->pGuid->Data4[7]));

  00b0e	4d37		 ldr         r5,|$LN22@DeviceList| ; =|dpCurSettings|
  00b10	4604		 mov         r4,r0
  00b12	f8d5 3440	 ldr         r3,[r5,#0x440]
  00b16	f013 0f04	 tst         r3,#4
  00b1a	d102		 bne         |$LN4@DeviceList|
  00b1c	f013 0f10	 tst         r3,#0x10
  00b20	d033		 beq         |$LN5@DeviceList|
  00b22		 |$LN4@DeviceList|
  00b22	6821		 ldr         r1,[r4]
  00b24	4830		 ldr         r0,|$LN21@DeviceList| ; =|??_C@_1KC@MNGCBOGM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAl?$AAe?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?5?$AAe?$AAn?$AAt?$AAr?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAc?$AAl?$AAa?$AAs@|
  00b26	7bcb		 ldrb        r3,[r1,#0xF]
  00b28	7a0a		 ldrb        r2,[r1,#8]
  00b2a	9307		 str         r3,[sp,#0x1C]
  00b2c	7b8b		 ldrb        r3,[r1,#0xE]
  00b2e	9306		 str         r3,[sp,#0x18]
  00b30	7b4b		 ldrb        r3,[r1,#0xD]
  00b32	9305		 str         r3,[sp,#0x14]
  00b34	7b0b		 ldrb        r3,[r1,#0xC]
  00b36	9304		 str         r3,[sp,#0x10]
  00b38	7acb		 ldrb        r3,[r1,#0xB]
  00b3a	9303		 str         r3,[sp,#0xC]
  00b3c	7a8b		 ldrb        r3,[r1,#0xA]
  00b3e	9302		 str         r3,[sp,#8]
  00b40	7a4b		 ldrb        r3,[r1,#9]
  00b42	eb03 2302	 add         r3,r3,r2,lsl #8
  00b46	9301		 str         r3,[sp,#4]
  00b48	88cb		 ldrh        r3,[r1,#6]
  00b4a	680a		 ldr         r2,[r1]
  00b4c	9300		 str         r3,[sp]
  00b4e	888b		 ldrh        r3,[r1,#4]
  00b50	4924		 ldr         r1,|$LN20@DeviceList| ; =|??_C@_1CE@EAPGKPBE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAD?$AAe?$AAs?$AAt?$AAr?$AAo?$AAy?$AA?$AA@|
  00b52	f000 f800	 bl          NKDbgPrintfW
  00b56	6821		 ldr         r1,[r4]
  00b58	4823		 ldr         r0,|$LN21@DeviceList| ; =|??_C@_1KC@MNGCBOGM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAl?$AAe?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?5?$AAe?$AAn?$AAt?$AAr?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAc?$AAl?$AAa?$AAs@|
  00b5a	7bcb		 ldrb        r3,[r1,#0xF]
  00b5c	7a0a		 ldrb        r2,[r1,#8]
  00b5e	9307		 str         r3,[sp,#0x1C]
  00b60	7b8b		 ldrb        r3,[r1,#0xE]
  00b62	9306		 str         r3,[sp,#0x18]
  00b64	7b4b		 ldrb        r3,[r1,#0xD]
  00b66	9305		 str         r3,[sp,#0x14]
  00b68	7b0b		 ldrb        r3,[r1,#0xC]
  00b6a	9304		 str         r3,[sp,#0x10]
  00b6c	7acb		 ldrb        r3,[r1,#0xB]
  00b6e	9303		 str         r3,[sp,#0xC]
  00b70	7a8b		 ldrb        r3,[r1,#0xA]
  00b72	9302		 str         r3,[sp,#8]
  00b74	7a4b		 ldrb        r3,[r1,#9]
  00b76	eb03 2302	 add         r3,r3,r2,lsl #8
  00b7a	9301		 str         r3,[sp,#4]
  00b7c	88cb		 ldrh        r3,[r1,#6]
  00b7e	680a		 ldr         r2,[r1]
  00b80	9300		 str         r3,[sp]
  00b82	888b		 ldrh        r3,[r1,#4]
  00b84	4917		 ldr         r1,|$LN20@DeviceList| ; =|??_C@_1CE@EAPGKPBE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAD?$AAe?$AAs?$AAt?$AAr?$AAo?$AAy?$AA?$AA@|
  00b86	f000 f800	 bl          CeLogMsg
  00b8a		 |$LN5@DeviceList|

; 1393 :     
; 1394 :     DEBUGCHK(pdl->pNext == NULL);

  00b8a	6963		 ldr         r3,[r4,#0x14]
  00b8c	b13b		 cbz         r3,|$LN7@DeviceList|
  00b8e	4a14		 ldr         r2,|$LN19@DeviceList| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00b90	4812		 ldr         r0,|$LN18@DeviceList| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00b92	f240 5372	 mov         r3,#0x572
  00b96	4629		 mov         r1,r5
  00b98	f000 f800	 bl          NKDbgPrintfW
  00b9c	defe		 __debugbreak
  00b9e		 |$LN7@DeviceList|

; 1395 :     DEBUGCHK(pdl->pList == NULL);

  00b9e	6863		 ldr         r3,[r4,#4]
  00ba0	b13b		 cbz         r3,|$LN9@DeviceList|
  00ba2	4a0f		 ldr         r2,|$LN19@DeviceList| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00ba4	480d		 ldr         r0,|$LN18@DeviceList| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00ba6	f240 5373	 mov         r3,#0x573
  00baa	4629		 mov         r1,r5
  00bac	f000 f800	 bl          NKDbgPrintfW
  00bb0	defe		 __debugbreak
  00bb2		 |$LN9@DeviceList|

; 1396 :     DEBUGCHK(pdl->hnClass == NULL);

  00bb2	68e3		 ldr         r3,[r4,#0xC]
  00bb4	b13b		 cbz         r3,|$LN11@DeviceList|
  00bb6	4a0a		 ldr         r2,|$LN19@DeviceList| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00bb8	4808		 ldr         r0,|$LN18@DeviceList| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00bba	f240 5374	 mov         r3,#0x574
  00bbe	4629		 mov         r1,r5
  00bc0	f000 f800	 bl          NKDbgPrintfW
  00bc4	defe		 __debugbreak
  00bc6		 |$LN11@DeviceList|

; 1397 : 
; 1398 :     if(pdl->hMsgQ) CloseMsgQueue(pdl->hMsgQ);

  00bc6	68a0		 ldr         r0,[r4,#8]
  00bc8	b108		 cbz         r0,|$LN1@DeviceList|
  00bca	f000 f800	 bl          CloseMsgQueue
  00bce		 |$LN1@DeviceList|

; 1399 :     PmFree(pdl);

  00bce	4620		 mov         r0,r4
  00bd0	f000 f800	 bl          PmFree
  00bd4		 |$M16|

; 1400 : }

  00bd4	b008		 add         sp,sp,#0x20
  00bd6	e8bd 8830	 pop         {r4,r5,r11,pc}
  00bda		 |$LN23@DeviceList|
  00bda		 |$M24|
  00bda	defe		 __debugbreak
  00bdc		 |$LN17@DeviceList|
  00bdc		 |$LN18@DeviceList|
  00bdc	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00be0		 |$LN19@DeviceList|
  00be0	0000 0000	 DCD         |??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00be4		 |$LN20@DeviceList|
  00be4	0000 0000	 DCD         |??_C@_1CE@EAPGKPBE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAD?$AAe?$AAs?$AAt?$AAr?$AAo?$AAy?$AA?$AA@|
  00be8		 |$LN21@DeviceList|
  00be8	0000 0000	 DCD         |??_C@_1KC@MNGCBOGM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAl?$AAe?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?5?$AAe?$AAn?$AAt?$AAr?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAc?$AAl?$AAa?$AAs@|
  00bec		 |$LN22@DeviceList|
  00bec	0000 0000	 DCD         |dpCurSettings|
  00bf0		 |$M14|

			 ENDP  ; |DeviceListDestroy|

	EXPORT	|PowerNotificationDestroy|

  000a0			 AREA	 |.pdata|, PDATA
|$pdata1$PowerNotificationDestroy| DCD imagerel |$LN8@PowerNotif|
	DCD	0xfd306041
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00bf0			 AREA	 |.text|, CODE, THUMB

  00bf0		 |PowerNotificationDestroy| PROC

; 1227 : {

  00bf0		 |$LN8@PowerNotif|
  00bf0	e92d 4818	 push        {r3,r4,r11,lr}
  00bf4	f20d 0b08	 addw        r11,sp,#8
  00bf8		 |$M6|
  00bf8	4604		 mov         r4,r0

; 1228 :     BOOL fOk = TRUE;
; 1229 : 
; 1230 :     if(ppn != NULL) {

  00bfa	b134		 cbz         r4,|$LN2@PowerNotif|

; 1231 :         if(ppn->hMsgQ != NULL) CloseMsgQueue(ppn->hMsgQ);

  00bfc	6820		 ldr         r0,[r4]
  00bfe	b108		 cbz         r0,|$LN1@PowerNotif|
  00c00	f000 f800	 bl          CloseMsgQueue
  00c04		 |$LN1@PowerNotif|

; 1232 :         PmFree(ppn);

  00c04	4620		 mov         r0,r4
  00c06	f000 f800	 bl          PmFree
  00c0a		 |$LN2@PowerNotif|

; 1233 :     }
; 1234 : 
; 1235 :     return fOk;

  00c0a	2001		 movs        r0,#1
  00c0c		 |$M9|

; 1236 : }

  00c0c	e8bd 8818	 pop         {r3,r4,r11,pc}
  00c10		 |$M7|

			 ENDP  ; |PowerNotificationDestroy|

	EXPORT	|PowerRestrictionDestroy|

  000a8			 AREA	 |.pdata|, PDATA
|$pdata1$PowerRestrictionDestroy| DCD imagerel |$LN7@PowerRestr|
	DCD	0x3f6025
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00c10			 AREA	 |.text|, CODE, THUMB

  00c10		 |PowerRestrictionDestroy| PROC

; 1041 : {

  00c10		 |$LN7@PowerRestr|
  00c10	e92d 4800	 push        {r11,lr}
  00c14	46eb		 mov         r11,sp
  00c16		 |$M5|

; 1042 :     BOOL fOk = TRUE;
; 1043 : 
; 1044 :     if(pdpr != NULL) {

  00c16	b108		 cbz         r0,|$LN1@PowerRestr|

; 1045 :         PmFree(pdpr);

  00c18	f000 f800	 bl          PmFree
  00c1c		 |$LN1@PowerRestr|

; 1046 :     }
; 1047 : 
; 1048 :     return fOk;

  00c1c	2001		 movs        r0,#1
  00c1e		 |$M8|

; 1049 : }

  00c1e	e8bd 8800	 pop         {r11,pc}
  00c22		 |$M6|

			 ENDP  ; |PowerRestrictionDestroy|

	EXPORT	|??_C@_1CM@IOMFAGMF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAl?$AAe?$AAt?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CG@EFCODPEH@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAD?$AAe?$AAs?$AAt?$AAr?$AAo?$AAy?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|DeviceStateDestroy|
	EXPORT	|DeviceStateDecRef|

  000b0			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceStateDestroy| DCD imagerel |$LN13@DeviceStat|
	DCD	0x3160c9

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CG@EFCODPEH@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAD?$AAe?$AAs?$AAt?$AAr?$AAo?$AAy?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "S"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "D", 0x0, "e"
	DCB	0x0, "s", 0x0, "t", 0x0, "r", 0x0, "o", 0x0, "y", 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CM@IOMFAGMF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAl?$AAe?$AAt?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "d", 0x0, "e", 0x0, "l"
	DCB	0x0, "e", 0x0, "t", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " "
	DCB	0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00c22			 AREA	 |.text|, CODE, THUMB

  00c24		 |DeviceStateDestroy| PROC

; 764  : {

  00c24		 |$LN13@DeviceStat|
  00c24	e92d 4830	 push        {r4,r5,r11,lr}
  00c28	f20d 0b08	 addw        r11,sp,#8
  00c2c		 |$M11|

; 765  :     BOOL fOk = TRUE;
; 766  :     SETFNAME(_T("DeviceStateDestroy"));
; 767  : 
; 768  :     PMLOGMSG(ZONE_REFCNT, (_T("%s: deleting 0x%08x\r\n"), pszFname, pds));

  00c2c	4d1a		 ldr         r5,|$LN20@DeviceStat| ; =|dpCurSettings|
  00c2e	4604		 mov         r4,r0
  00c30	f8d5 3440	 ldr         r3,[r5,#0x440]
  00c34	f013 0f40	 tst         r3,#0x40
  00c38	d009		 beq         |$LN6@DeviceStat|
  00c3a	4916		 ldr         r1,|$LN19@DeviceStat| ; =|??_C@_1CG@EFCODPEH@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAD?$AAe?$AAs?$AAt?$AAr?$AAo?$AAy?$AA?$AA@|
  00c3c	4602		 mov         r2,r0
  00c3e	4814		 ldr         r0,|$LN18@DeviceStat| ; =|??_C@_1CM@IOMFAGMF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAl?$AAe?$AAt?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  00c40	f000 f800	 bl          NKDbgPrintfW
  00c44	4913		 ldr         r1,|$LN19@DeviceStat| ; =|??_C@_1CG@EFCODPEH@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAD?$AAe?$AAs?$AAt?$AAr?$AAo?$AAy?$AA?$AA@|
  00c46	4812		 ldr         r0,|$LN18@DeviceStat| ; =|??_C@_1CM@IOMFAGMF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAl?$AAe?$AAt?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  00c48	4622		 mov         r2,r4
  00c4a	f000 f800	 bl          CeLogMsg
  00c4e		 |$LN6@DeviceStat|

; 769  :     if(pds != NULL) {

  00c4e	b1c4		 cbz         r4,|$LN3@DeviceStat|

; 770  :         if(pds->pParent != NULL) DeviceStateDecRef(pds->pParent);

  00c50	6a60		 ldr         r0,[r4,#0x24]
  00c52	b108		 cbz         r0,|$LN2@DeviceStat|
  00c54	f000 f800	 bl          DeviceStateDecRef
  00c58		 |$LN2@DeviceStat|

; 771  :         if(pds->hDevice != INVALID_HANDLE_VALUE) {

  00c58	6de3		 ldr         r3,[r4,#0x5C]
  00c5a	f1b3 3fff	 cmp         r3,#0xFFFFFFFF
  00c5e	d00d		 beq         |$LN1@DeviceStat|

; 772  :             PREFAST_DEBUGCHK(pds->pInterface != NULL);

  00c60	6e23		 ldr         r3,[r4,#0x60]
  00c62	b93b		 cbnz        r3,|$LN9@DeviceStat|
  00c64	4a09		 ldr         r2,|$LN17@DeviceStat| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00c66	4808		 ldr         r0,|$LN16@DeviceStat| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00c68	f44f 7341	 mov         r3,#0x304
  00c6c	4629		 mov         r1,r5
  00c6e	f000 f800	 bl          NKDbgPrintfW
  00c72	defe		 __debugbreak
  00c74		 |$LN9@DeviceStat|

; 773  :             pds->pInterface->pfnCloseDevice(pds->hDevice);

  00c74	6e23		 ldr         r3,[r4,#0x60]
  00c76	6de0		 ldr         r0,[r4,#0x5C]
  00c78	689b		 ldr         r3,[r3,#8]
  00c7a	4798		 blx         r3
  00c7c		 |$LN1@DeviceStat|

; 774  :         }
; 775  :         PmFree(pds);

  00c7c	4620		 mov         r0,r4
  00c7e	f000 f800	 bl          PmFree
  00c82		 |$LN3@DeviceStat|

; 776  :     }
; 777  : 
; 778  :     return fOk;

  00c82	2001		 movs        r0,#1
  00c84		 |$M14|

; 779  : }

  00c84	e8bd 8830	 pop         {r4,r5,r11,pc}
  00c88		 |$LN15@DeviceStat|
  00c88		 |$LN16@DeviceStat|
  00c88	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00c8c		 |$LN17@DeviceStat|
  00c8c	0000 0000	 DCD         |??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00c90		 |$LN18@DeviceStat|
  00c90	0000 0000	 DCD         |??_C@_1CM@IOMFAGMF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAe?$AAl?$AAe?$AAt?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  00c94		 |$LN19@DeviceStat|
  00c94	0000 0000	 DCD         |??_C@_1CG@EFCODPEH@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAD?$AAe?$AAs?$AAt?$AAr?$AAo?$AAy?$AA?$AA@|
  00c98		 |$LN20@DeviceStat|
  00c98	0000 0000	 DCD         |dpCurSettings|
  00c9c		 |$M12|

			 ENDP  ; |DeviceStateDestroy|

	EXPORT	|DeviceIdDestroy|
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00c9c			 AREA	 |.text|, CODE, THUMB

  00c9c		 |DeviceIdDestroy| PROC

; 662  :     if(pId) {

  00c9c	b108		 cbz         r0,|$LN1@DeviceIdDe|
  00c9e		 |$M5|

; 663  :         PmFree(pId);

  00c9e	f000 9000	 b           PmFree
  00ca2		 |$LN1@DeviceIdDe|
  00ca2		 |$M6|

; 664  :     }
; 665  : }

  00ca2	4770		 bx          lr

			 ENDP  ; |DeviceIdDestroy|

	EXPORT	|??_C@_1CO@HBMHNCBG@?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DK@IIMHOBCF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAc?$AAo?$AAp?$AAy?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EE@CCKMHPHP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?$AN@| [ DATA ] ; `string'
	EXPORT	|SystemPowerStateCreate|
	IMPORT	|towlower|

  000b8			 AREA	 |.pdata|, PDATA
|$pdata1$SystemPowerStateCreate| DCD imagerel |$LN45@SystemPowe|
	DCD	imagerel |$unwind2$SystemPowerStateCreate|

  000dc			 AREA	 |.xdata|, DATA
	%	4
|$unwind2$SystemPowerStateCreate| DCD 0x33300082
	DCD	0xdffc05c7
	DCD	0xefdbff02
	DCD	0xff03
	DCD	imagerel |__C_specific_handler|
	DCD	0x2
	DCD	imagerel |$LN29@SystemPowe|
	DCD	imagerel |$LN30@SystemPowe|
	DCD	0x1
	DCD	imagerel |$LN26@SystemPowe|
	DCD	imagerel |$LN22@SystemPowe|
	DCD	imagerel |$LN23@SystemPowe|
	DCD	0x1
	DCD	imagerel |$LN19@SystemPowe|

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EE@CCKMHPHP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?$AN@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "c", 0x0, "o", 0x0, "u"
	DCB	0x0, "l", 0x0, "d", 0x0, "n", 0x0, "'", 0x0, "t", 0x0, " "
	DCB	0x0, "a", 0x0, "l", 0x0, "l", 0x0, "o", 0x0, "c", 0x0, "a"
	DCB	0x0, "t", 0x0, "e", 0x0, " ", 0x0, "s", 0x0, "t", 0x0, "r"
	DCB	0x0, "u", 0x0, "c", 0x0, "t", 0x0, "u", 0x0, "r", 0x0, "e"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DK@IIMHOBCF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAc?$AAo?$AAp?$AAy?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "x", 0x0, "c"
	DCB	0x0, "e", 0x0, "p", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, " ", 0x0, "c", 0x0, "o", 0x0, "p", 0x0, "y", 0x0, "i"
	DCB	0x0, "n", 0x0, "g", 0x0, " ", 0x0, "n", 0x0, "a", 0x0, "m"
	DCB	0x0, "e", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CO@HBMHNCBG@?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@| DCB "S"
	DCB	0x0, "y", 0x0, "s", 0x0, "t", 0x0, "e", 0x0, "m", 0x0, "P"
	DCB	0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "S", 0x0, "t"
	DCB	0x0, "a", 0x0, "t", 0x0, "e", 0x0, "C", 0x0, "r", 0x0, "e"
	DCB	0x0, "a", 0x0, "t", 0x0, "e", 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00ca4			 AREA	 |.text|, CODE, THUMB

  00ca4		 |SystemPowerStateCreate| PROC

; 1440 : {

  00ca4		 |$LN45@SystemPowe|
  00ca4	b403		 push        {r0,r1}
  00ca6	e92d 4ff0	 push        {r4-r11,lr}
  00caa	f20d 0b1c	 addw        r11,sp,#0x1C
  00cae	b085		 sub         sp,sp,#0x14
  00cb0	466f		 mov         r7,sp
  00cb2		 |$LN43@SystemPowe|
  00cb2	4681		 mov         r9,r0
  00cb4	6038		 str         r0,[r7]
  00cb6	63b8		 str         r0,[r7,#0x38]

; 1441 :     PSYSTEM_POWER_STATE psps;
; 1442 :     SETFNAME(_T("SystemPowerStateCreate"));

  00cb8	4e3f		 ldr         r6,|$LN54@SystemPowe| ; =|??_C@_1CO@HBMHNCBG@?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  00cba	60be		 str         r6,[r7,#8]

; 1443 : 
; 1444 :     PREFAST_DEBUGCHK(pszName != NULL);

  00cbc	4d3c		 ldr         r5,|$LN52@SystemPowe| ; =|dpCurSettings|
  00cbe	b938		 cbnz        r0,|$LN10@SystemPowe|
  00cc0	f240 53a4	 mov         r3,#0x5A4
  00cc4	4a3e		 ldr         r2,|$LN56@SystemPowe| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00cc6	483d		 ldr         r0,|$LN55@SystemPowe| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00cc8	4629		 mov         r1,r5
  00cca	f000 f800	 bl          NKDbgPrintfW
  00cce	defe		 __debugbreak
  00cd0		 |$LN10@SystemPowe|

; 1445 : 
; 1446 :     DWORD cchName = 0;

  00cd0	f04f 0800	 mov         r8,#0
  00cd4	f8c7 8010	 str         r8,[r7,#0x10]
  00cd8		 |$LN22@SystemPowe|

; 1447 : 
; 1448 :     __try {
; 1449 :         cchName = _tcslen(pszName);

  00cd8	4648		 mov         r0,r9
  00cda	f000 f800	 bl          wcslen
  00cde	6078		 str         r0,[r7,#4]
  00ce0	6138		 str         r0,[r7,#0x10]

; 1450 :         DWORD dwSize = sizeof(*psps) + ((cchName + 1) * sizeof(pszName[0]));

  00ce2	1dc3		 adds        r3,r0,#7
  00ce4	0058		 lsls        r0,r3,#1

; 1451 :         psps = (PSYSTEM_POWER_STATE) PmAlloc(dwSize);

  00ce6	f000 f800	 bl          PmAlloc
  00cea	4604		 mov         r4,r0
  00cec	60fc		 str         r4,[r7,#0xC]
  00cee		 |$LN23@SystemPowe|

; 1452 :     }

  00cee	683b		 ldr         r3,[r7]
  00cf0	687a		 ldr         r2,[r7,#4]
  00cf2	e017		 b           |$LN24@SystemPowe|
  00cf4		 |$LN19@SystemPowe|
  00cf4		 |$LN21@SystemPowe|

; 1453 :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 1454 :         PMLOGMSG(ZONE_WARN, (_T("%s: exception calculating size\r\n"), pszFname));

  00cf4	4d2e		 ldr         r5,|$LN52@SystemPowe| ; =|dpCurSettings|

; 1452 :     }

  00cf6	f8d5 3440	 ldr         r3,[r5,#0x440]

; 1453 :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 1454 :         PMLOGMSG(ZONE_WARN, (_T("%s: exception calculating size\r\n"), pszFname));

  00cfa	f013 0f02	 tst         r3,#2
  00cfe	d007		 beq         |$LN11@SystemPowe|
  00d00	492d		 ldr         r1,|$LN54@SystemPowe| ; =|??_C@_1CO@HBMHNCBG@?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  00d02	482c		 ldr         r0,|$LN53@SystemPowe| ; =|??_C@_1EC@JAIMPFEK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAc?$AAa?$AAl?$AAc?$AAu?$AAl?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAi?$AAz?$AAe?$AA?$AN?$AA?6@|
  00d04	f000 f800	 bl          NKDbgPrintfW
  00d08	492b		 ldr         r1,|$LN54@SystemPowe| ; =|??_C@_1CO@HBMHNCBG@?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  00d0a	482a		 ldr         r0,|$LN53@SystemPowe| ; =|??_C@_1EC@JAIMPFEK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAc?$AAa?$AAl?$AAc?$AAu?$AAl?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAi?$AAz?$AAe?$AA?$AN?$AA?6@|
  00d0c	f000 f800	 bl          CeLogMsg
  00d10		 |$LN11@SystemPowe|

; 1455 :         psps = NULL;

  00d10	f04f 0800	 mov         r8,#0
  00d14	4644		 mov         r4,r8
  00d16	f8c7 800c	 str         r8,[r7,#0xC]
  00d1a	6bbb		 ldr         r3,[r7,#0x38]
  00d1c	603b		 str         r3,[r7]
  00d1e	68be		 ldr         r6,[r7,#8]
  00d20	693a		 ldr         r2,[r7,#0x10]
  00d22	607a		 str         r2,[r7,#4]
  00d24		 |$LN24@SystemPowe|

; 1456 :     }
; 1457 : 
; 1458 :     if(psps != NULL) {

  00d24	b36c		 cbz         r4,|$LN42@SystemPowe|

; 1459 :         memset(psps, 0, sizeof(*psps));

  00d26	2100		 movs        r1,#0
  00d28	6021		 str         r1,[r4]
  00d2a	6061		 str         r1,[r4,#4]
  00d2c	60a1		 str         r1,[r4,#8]
  00d2e		 |$LN29@SystemPowe|

; 1460 :         __try {
; 1461 :             LPTSTR pszNameCopy = (LPTSTR) ((LPBYTE) psps + sizeof(*psps));

  00d2e	f114 0a0c	 adds        r10,r4,#0xC

; 1462 :             // Copy the name, converting to lower case.  We want to avoid doing
; 1463 :             // case-sensitive comparisons in the platform code while file system
; 1464 :             // access may be disabled.
; 1465 :             for (DWORD dwIndex = 0; dwIndex < cchName; dwIndex++) {

  00d32	46c1		 mov         r9,r8
  00d34		 |$LL3@SystemPowe|
  00d34	4591		 cmp         r9,r2
  00d36	d20a		 bcs         |$LN1@SystemPowe|

; 1466 :                 pszNameCopy[dwIndex] = _totlower(pszName[dwIndex]);

  00d38	f833 0019	 ldrh        r0,[r3,r9,lsl #1]
  00d3c	f000 f800	 bl          towlower
  00d40	f82a 0019	 strh        r0,[r10,r9,lsl #1]

; 1462 :             // Copy the name, converting to lower case.  We want to avoid doing
; 1463 :             // case-sensitive comparisons in the platform code while file system
; 1464 :             // access may be disabled.
; 1465 :             for (DWORD dwIndex = 0; dwIndex < cchName; dwIndex++) {

  00d44	f109 0901	 add         r9,r9,#1
  00d48	683b		 ldr         r3,[r7]
  00d4a	687a		 ldr         r2,[r7,#4]
  00d4c	e7f2		 b           |$LL3@SystemPowe|
  00d4e		 |$LN1@SystemPowe|

; 1467 :             }
; 1468 :             pszNameCopy[cchName] = 0;

  00d4e	f82a 8012	 strh        r8,[r10,r2,lsl #1]

; 1469 :             psps->pszName = pszNameCopy;

  00d52	f8c4 a000	 str         r10,[r4]
  00d56		 |$LN30@SystemPowe|
  00d56	e013		 b           |$LN31@SystemPowe|
  00d58		 |$LN26@SystemPowe|
  00d58		 |$LN28@SystemPowe|

; 1470 :         }
; 1471 :         __except(EXCEPTION_EXECUTE_HANDLER) {
; 1472 :             PMLOGMSG(ZONE_WARN, (_T("%s: exception copying name\r\n"),
; 1473 :                 pszFname));

  00d58	4d15		 ldr         r5,|$LN52@SystemPowe| ; =|dpCurSettings|
  00d5a	f8d5 3440	 ldr         r3,[r5,#0x440]
  00d5e	f013 0f02	 tst         r3,#2
  00d62	68be		 ldr         r6,[r7,#8]
  00d64	d007		 beq         |$LN13@SystemPowe|
  00d66	4631		 mov         r1,r6
  00d68	4810		 ldr         r0,|$LN51@SystemPowe| ; =|??_C@_1DK@IIMHOBCF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAc?$AAo?$AAp?$AAy?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?$AN?$AA?6?$AA?$AA@|
  00d6a	f000 f800	 bl          NKDbgPrintfW
  00d6e	4631		 mov         r1,r6
  00d70	480e		 ldr         r0,|$LN51@SystemPowe| ; =|??_C@_1DK@IIMHOBCF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAc?$AAo?$AAp?$AAy?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?$AN?$AA?6?$AA?$AA@|
  00d72	f000 f800	 bl          CeLogMsg
  00d76		 |$LN13@SystemPowe|

; 1474 :             PmFree(psps);

  00d76	68f8		 ldr         r0,[r7,#0xC]
  00d78	f000 f800	 bl          PmFree

; 1475 :             psps = NULL;

  00d7c	2400		 movs        r4,#0
  00d7e	60fc		 str         r4,[r7,#0xC]
  00d80		 |$LN31@SystemPowe|

; 1476 :         }
; 1477 :     }
; 1478 : 
; 1479 :     PMLOGMSG(psps == NULL && ZONE_WARN, 
; 1480 :         (_T("%s: couldn't allocate structure\r\n"), pszFname));

  00d80	b964		 cbnz        r4,|$LN7@SystemPowe|
  00d82		 |$LN42@SystemPowe|

; 1452 :     }

  00d82	f8d5 3440	 ldr         r3,[r5,#0x440]

; 1476 :         }
; 1477 :     }
; 1478 : 
; 1479 :     PMLOGMSG(psps == NULL && ZONE_WARN, 
; 1480 :         (_T("%s: couldn't allocate structure\r\n"), pszFname));

  00d86	f013 0f02	 tst         r3,#2
  00d8a	d007		 beq         |$LN7@SystemPowe|
  00d8c	4631		 mov         r1,r6
  00d8e	4806		 ldr         r0,|$LN50@SystemPowe| ; =|??_C@_1EE@CCKMHPHP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?$AN@|
  00d90	f000 f800	 bl          NKDbgPrintfW
  00d94	4631		 mov         r1,r6
  00d96	4804		 ldr         r0,|$LN50@SystemPowe| ; =|??_C@_1EE@CCKMHPHP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?$AN@|
  00d98	f000 f800	 bl          CeLogMsg
  00d9c		 |$LN7@SystemPowe|

; 1481 : 
; 1482 :     return psps;
; 1483 : }

  00d9c	4620		 mov         r0,r4
  00d9e		 |$M48|
  00d9e	b005		 add         sp,sp,#0x14
  00da0	e8bd 0ff0	 pop         {r4-r11}
  00da4	f85d fb0c	 ldr         pc,[sp],#0xC
  00da8		 |$LN49@SystemPowe|
  00da8		 |$LN50@SystemPowe|
  00da8	0000 0000	 DCD         |??_C@_1EE@CCKMHPHP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?$AN@|
  00dac		 |$LN51@SystemPowe|
  00dac	0000 0000	 DCD         |??_C@_1DK@IIMHOBCF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAc?$AAo?$AAp?$AAy?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?$AN?$AA?6?$AA?$AA@|
  00db0		 |$LN52@SystemPowe|
  00db0	0000 0000	 DCD         |dpCurSettings|
  00db4		 |$LN53@SystemPowe|
  00db4	0000 0000	 DCD         |??_C@_1EC@JAIMPFEK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAc?$AAa?$AAl?$AAc?$AAu?$AAl?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAi?$AAz?$AAe?$AA?$AN?$AA?6@|
  00db8		 |$LN54@SystemPowe|
  00db8	0000 0000	 DCD         |??_C@_1CO@HBMHNCBG@?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  00dbc		 |$LN55@SystemPowe|
  00dbc	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00dc0		 |$LN56@SystemPowe|
  00dc0	0000 0000	 DCD         |??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|

			 ENDP  ; |SystemPowerStateCreate|

  00dc4		 |$LN44@SystemPowe|
	EXPORT	|??_C@_1KC@GDBFAAAO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?5?$AAe?$AAn?$AAt?$AAr?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAc?$AAl?$AAa?$AAs@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CC@DJAENDOM@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EC@EPHLGFP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CO@HPJBBGLL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|DeviceListCreate|
	IMPORT	|CreateMsgQueue|

  000c0			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceListCreate| DCD imagerel |$LN18@DeviceList|
	DCD	imagerel |$unwind2$DeviceListCreate|

  00118			 AREA	 |.xdata|, DATA
|$unwind2$DeviceListCreate| DCD 0x33b000a1
	DCD	0xfc01e80e
	DCD	0xe8fff0a9
	DCD	0xfff0a901
	DCD	imagerel |__GSHandlerCheck|
	DCD	0xffffffe1

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CO@HPJBBGLL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "r", 0x0, "e", 0x0, "t"
	DCB	0x0, "u", 0x0, "r", 0x0, "n", 0x0, "i", 0x0, "n", 0x0, "g"
	DCB	0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8"
	DCB	0x0, "x", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EC@EPHLGFP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "C", 0x0, "r", 0x0, "e"
	DCB	0x0, "a", 0x0, "t", 0x0, "e", 0x0, "M", 0x0, "s", 0x0, "g"
	DCB	0x0, "Q", 0x0, "u", 0x0, "e", 0x0, "u", 0x0, "e", 0x0, "("
	DCB	0x0, ")", 0x0, " ", 0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l"
	DCB	0x0, "e", 0x0, "d", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CC@DJAENDOM@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "L"
	DCB	0x0, "i", 0x0, "s", 0x0, "t", 0x0, "C", 0x0, "r", 0x0, "e"
	DCB	0x0, "a", 0x0, "t", 0x0, "e", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1KC@GDBFAAAO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?5?$AAe?$AAn?$AAt?$AAr?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAc?$AAl?$AAa?$AAs@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "c", 0x0, "r", 0x0, "e"
	DCB	0x0, "a", 0x0, "t", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " "
	DCB	0x0, "l", 0x0, "i", 0x0, "s", 0x0, "t", 0x0, " ", 0x0, "e"
	DCB	0x0, "n", 0x0, "t", 0x0, "r", 0x0, "y", 0x0, " ", 0x0, "f"
	DCB	0x0, "o", 0x0, "r", 0x0, " ", 0x0, "c", 0x0, "l", 0x0, "a"
	DCB	0x0, "s", 0x0, "s", 0x0, " ", 0x0, "%", 0x0, "0", 0x0, "8"
	DCB	0x0, "x", 0x0, "-", 0x0, "%", 0x0, "0", 0x0, "4", 0x0, "x"
	DCB	0x0, "-", 0x0, "%", 0x0, "0", 0x0, "4", 0x0, "x", 0x0, "-"
	DCB	0x0, "%", 0x0, "0", 0x0, "4", 0x0, "x", 0x0, "-", 0x0, "%"
	DCB	0x0, "0", 0x0, "2", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "2"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "2", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "2", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "2"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "2", 0x0, "x", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00dc4			 AREA	 |.text|, CODE, THUMB

  00dc4		 |DeviceListCreate| PROC

; 1331 : {

  00dc4		 |$LN18@DeviceList|
  00dc4	e92d 49f0	 push        {r4-r8,r11,lr}
  00dc8	f20d 0b14	 addw        r11,sp,#0x14
  00dcc	f000 f800	 bl          __security_push_cookie
  00dd0	b08e		 sub         sp,sp,#0x38
  00dd2		 |$M16|

; 1332 :     PDEVICE_LIST pdl = NULL;
; 1333 :     HANDLE hMsgQ = NULL;
; 1334 :     MSGQUEUEOPTIONS msgOptions;
; 1335 :     SETFNAME(_T("DeviceListCreate"));
; 1336 : 
; 1337 :     PMLOGMSG(ZONE_INIT || ZONE_DEVICE, 
; 1338 :         (_T("%s: creating list entry for class %08x-%04x-%04x-%04x-%02x%02x%02x%02x%02x%02x\r\n"), 
; 1339 :         pszFname, pClass->Data1, pClass->Data2, pClass->Data3,
; 1340 :         (pClass->Data4[0] << 8) + pClass->Data4[1], pClass->Data4[2], pClass->Data4[3], 
; 1341 :         pClass->Data4[4], pClass->Data4[5], pClass->Data4[6], pClass->Data4[7]));

  00dd2	4f51		 ldr         r7,|$LN25@DeviceList| ; =|dpCurSettings|
  00dd4	4606		 mov         r6,r0
  00dd6	f8d7 3440	 ldr         r3,[r7,#0x440]
  00dda	f013 0f04	 tst         r3,#4
  00dde	d102		 bne         |$LN8@DeviceList|
  00de0	f013 0f10	 tst         r3,#0x10
  00de4	d031		 beq         |$LN9@DeviceList|
  00de6		 |$LN8@DeviceList|
  00de6	7bf3		 ldrb        r3,[r6,#0xF]
  00de8	7a32		 ldrb        r2,[r6,#8]
  00dea	4948		 ldr         r1,|$LN22@DeviceList| ; =|??_C@_1CC@DJAENDOM@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  00dec	9307		 str         r3,[sp,#0x1C]
  00dee	7bb3		 ldrb        r3,[r6,#0xE]
  00df0	4848		 ldr         r0,|$LN24@DeviceList| ; =|??_C@_1KC@GDBFAAAO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?5?$AAe?$AAn?$AAt?$AAr?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAc?$AAl?$AAa?$AAs@|
  00df2	9306		 str         r3,[sp,#0x18]
  00df4	7b73		 ldrb        r3,[r6,#0xD]
  00df6	9305		 str         r3,[sp,#0x14]
  00df8	7b33		 ldrb        r3,[r6,#0xC]
  00dfa	9304		 str         r3,[sp,#0x10]
  00dfc	7af3		 ldrb        r3,[r6,#0xB]
  00dfe	9303		 str         r3,[sp,#0xC]
  00e00	7ab3		 ldrb        r3,[r6,#0xA]
  00e02	9302		 str         r3,[sp,#8]
  00e04	7a73		 ldrb        r3,[r6,#9]
  00e06	eb03 2302	 add         r3,r3,r2,lsl #8
  00e0a	9301		 str         r3,[sp,#4]
  00e0c	88f3		 ldrh        r3,[r6,#6]
  00e0e	6832		 ldr         r2,[r6]
  00e10	9300		 str         r3,[sp]
  00e12	88b3		 ldrh        r3,[r6,#4]
  00e14	f000 f800	 bl          NKDbgPrintfW
  00e18	7bf3		 ldrb        r3,[r6,#0xF]
  00e1a	7a32		 ldrb        r2,[r6,#8]
  00e1c	493b		 ldr         r1,|$LN22@DeviceList| ; =|??_C@_1CC@DJAENDOM@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  00e1e	9307		 str         r3,[sp,#0x1C]
  00e20	7bb3		 ldrb        r3,[r6,#0xE]
  00e22	483c		 ldr         r0,|$LN24@DeviceList| ; =|??_C@_1KC@GDBFAAAO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?5?$AAe?$AAn?$AAt?$AAr?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAc?$AAl?$AAa?$AAs@|
  00e24	9306		 str         r3,[sp,#0x18]
  00e26	7b73		 ldrb        r3,[r6,#0xD]
  00e28	9305		 str         r3,[sp,#0x14]
  00e2a	7b33		 ldrb        r3,[r6,#0xC]
  00e2c	9304		 str         r3,[sp,#0x10]
  00e2e	7af3		 ldrb        r3,[r6,#0xB]
  00e30	9303		 str         r3,[sp,#0xC]
  00e32	7ab3		 ldrb        r3,[r6,#0xA]
  00e34	9302		 str         r3,[sp,#8]
  00e36	7a73		 ldrb        r3,[r6,#9]
  00e38	eb03 2302	 add         r3,r3,r2,lsl #8
  00e3c	9301		 str         r3,[sp,#4]
  00e3e	88f3		 ldrh        r3,[r6,#6]
  00e40	6832		 ldr         r2,[r6]
  00e42	9300		 str         r3,[sp]
  00e44	88b3		 ldrh        r3,[r6,#4]
  00e46	f000 f800	 bl          CeLogMsg
  00e4a		 |$LN9@DeviceList|

; 1342 :     
; 1343 :     // allocate structure members
; 1344 :     pdl = (PDEVICE_LIST) PmAlloc(sizeof(*pdl) + sizeof(GUID));

  00e4a	2028		 movs        r0,#0x28
  00e4c	f000 f800	 bl          PmAlloc
  00e50	4604		 mov         r4,r0

; 1345 : 
; 1346 :     // create message queues
; 1347 :     memset(&msgOptions, 0, sizeof(msgOptions));

  00e52	a808		 add         r0,sp,#0x20
  00e54	2214		 movs        r2,#0x14
  00e56	2100		 movs        r1,#0
  00e58	f000 f800	 bl          memset

; 1348 :     msgOptions.dwSize = sizeof(MSGQUEUEOPTIONS);

  00e5c	2314		 movs        r3,#0x14
  00e5e	9308		 str         r3,[sp,#0x20]

; 1349 :     msgOptions.dwFlags = 0;

  00e60	2300		 movs        r3,#0
  00e62	9309		 str         r3,[sp,#0x24]

; 1350 :     msgOptions.cbMaxMessage = PNP_QUEUE_SIZE;

  00e64	f44f 7358	 mov         r3,#0x360
  00e68	930b		 str         r3,[sp,#0x2C]

; 1351 :     msgOptions.bReadAccess = TRUE;

  00e6a	2301		 movs        r3,#1

; 1352 :     hMsgQ = CreateMsgQueue(NULL, &msgOptions);

  00e6c	a908		 add         r1,sp,#0x20
  00e6e	2000		 movs        r0,#0
  00e70	930c		 str         r3,[sp,#0x30]
  00e72	f000 f800	 bl          CreateMsgQueue
  00e76	4605		 mov         r5,r0

; 1353 :     if(hMsgQ == NULL) {

  00e78	b98d		 cbnz        r5,|$LN14@DeviceList|

; 1354 :         DWORD dwStatus = GetLastError();

  00e7a	f000 f800	 bl          GetLastError

; 1355 :         PMLOGMSG(ZONE_ERROR, (_T("%s: CreateMsgQueue() failed %d\r\n"), pszFname, dwStatus));

  00e7e	f8d7 3440	 ldr         r3,[r7,#0x440]
  00e82	4680		 mov         r8,r0
  00e84	f013 0f01	 tst         r3,#1
  00e88	d009		 beq         |$LN14@DeviceList|
  00e8a	4920		 ldr         r1,|$LN22@DeviceList| ; =|??_C@_1CC@DJAENDOM@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  00e8c	4602		 mov         r2,r0
  00e8e	4820		 ldr         r0,|$LN23@DeviceList| ; =|??_C@_1EC@EPHLGFP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6@|
  00e90	f000 f800	 bl          NKDbgPrintfW
  00e94	491d		 ldr         r1,|$LN22@DeviceList| ; =|??_C@_1CC@DJAENDOM@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  00e96	481e		 ldr         r0,|$LN23@DeviceList| ; =|??_C@_1EC@EPHLGFP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6@|
  00e98	4642		 mov         r2,r8
  00e9a	f000 f800	 bl          CeLogMsg
  00e9e		 |$LN14@DeviceList|

; 1356 :     }
; 1357 : 
; 1358 :     // initialize the structure
; 1359 :     if(pdl != NULL && hMsgQ != NULL) {

  00e9e	b1bc		 cbz         r4,|$LN2@DeviceList|
  00ea0	b19d		 cbz         r5,|$LN4@DeviceList|

; 1360 :         LPGUID pGuid = (LPGUID) ((LPBYTE) pdl + sizeof(*pdl));
; 1361 :         memset(pdl, 0, sizeof(pdl));

  00ea2	2300		 movs        r3,#0
  00ea4	6023		 str         r3,[r4]

; 1362 :         *pGuid = *pClass;

  00ea6	6833		 ldr         r3,[r6]
  00ea8	f114 0218	 adds        r2,r4,#0x18
  00eac	6013		 str         r3,[r2]
  00eae	6873		 ldr         r3,[r6,#4]
  00eb0	6053		 str         r3,[r2,#4]
  00eb2	68b3		 ldr         r3,[r6,#8]
  00eb4	6093		 str         r3,[r2,#8]
  00eb6	68f3		 ldr         r3,[r6,#0xC]
  00eb8	60d3		 str         r3,[r2,#0xC]

; 1363 :         pdl->pGuid = pGuid;
; 1364 :         pdl->hMsgQ = hMsgQ;
; 1365 :         pdl->hnClass = NULL;

  00eba	2300		 movs        r3,#0
  00ebc	60e3		 str         r3,[r4,#0xC]

; 1366 :         pdl->pInterface = NULL;

  00ebe	6123		 str         r3,[r4,#0x10]

; 1367 :         pdl->pList = NULL;

  00ec0	6063		 str         r3,[r4,#4]

; 1368 :         pdl->pNext = NULL;

  00ec2	6163		 str         r3,[r4,#0x14]
  00ec4	6022		 str         r2,[r4]
  00ec6	60a5		 str         r5,[r4,#8]

; 1369 :     } else {

  00ec8	e007		 b           |$LN3@DeviceList|
  00eca		 |$LN4@DeviceList|

; 1370 :         // some kind of error, release resources
; 1371 :         if(pdl != NULL) PmFree(pdl);

  00eca	4620		 mov         r0,r4
  00ecc	f000 f800	 bl          PmFree
  00ed0		 |$LN2@DeviceList|

; 1372 :         if(hMsgQ != NULL) CloseMsgQueue(hMsgQ);

  00ed0	b115		 cbz         r5,|$LN1@DeviceList|
  00ed2	4628		 mov         r0,r5
  00ed4	f000 f800	 bl          CloseMsgQueue
  00ed8		 |$LN1@DeviceList|

; 1373 :         pdl = NULL;

  00ed8	2400		 movs        r4,#0
  00eda		 |$LN3@DeviceList|

; 1374 :     }
; 1375 : 
; 1376 :     PMLOGMSG(pdl == NULL && ZONE_WARN, (_T("%s: returning 0x%08x\r\n"), pszFname, pdl));

  00eda	b974		 cbnz        r4,|$LN12@DeviceList|
  00edc	f8d7 3440	 ldr         r3,[r7,#0x440]
  00ee0	f013 0f02	 tst         r3,#2
  00ee4	d009		 beq         |$LN12@DeviceList|
  00ee6	4909		 ldr         r1,|$LN22@DeviceList| ; =|??_C@_1CC@DJAENDOM@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  00ee8	4807		 ldr         r0,|$LN21@DeviceList| ; =|??_C@_1CO@HPJBBGLL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  00eea	2200		 movs        r2,#0
  00eec	f000 f800	 bl          NKDbgPrintfW
  00ef0	4906		 ldr         r1,|$LN22@DeviceList| ; =|??_C@_1CC@DJAENDOM@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  00ef2	4805		 ldr         r0,|$LN21@DeviceList| ; =|??_C@_1CO@HPJBBGLL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  00ef4	2200		 movs        r2,#0
  00ef6	f000 f800	 bl          CeLogMsg
  00efa		 |$LN12@DeviceList|

; 1377 :     return pdl;
; 1378 : }

  00efa	4620		 mov         r0,r4
  00efc		 |$M19|
  00efc	b00e		 add         sp,sp,#0x38
  00efe	f000 f800	 bl          __security_pop_cookie
  00f02	e8bd 89f0	 pop         {r4-r8,r11,pc}
  00f06		 |$LN26@DeviceList|
  00f06		 |$M27|
  00f06	defe		 __debugbreak
  00f08		 |$LN20@DeviceList|
  00f08		 |$LN21@DeviceList|
  00f08	0000 0000	 DCD         |??_C@_1CO@HPJBBGLL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  00f0c		 |$LN22@DeviceList|
  00f0c	0000 0000	 DCD         |??_C@_1CC@DJAENDOM@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAL?$AAi?$AAs?$AAt?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  00f10		 |$LN23@DeviceList|
  00f10	0000 0000	 DCD         |??_C@_1EC@EPHLGFP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6@|
  00f14		 |$LN24@DeviceList|
  00f14	0000 0000	 DCD         |??_C@_1KC@GDBFAAAO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?5?$AAe?$AAn?$AAt?$AAr?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAc?$AAl?$AAa?$AAs@|
  00f18		 |$LN25@DeviceList|
  00f18	0000 0000	 DCD         |dpCurSettings|
  00f1c		 |$M17|

			 ENDP  ; |DeviceListCreate|

	EXPORT	|??_C@_1HO@LLCKIJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAO?$AAp?$AAe?$AAn?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AAo?$AAw@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DA@KILGMLAE@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAN?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EA@CHDGLPPE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|PowerNotificationCreate|
	IMPORT	|OpenMsgQueue|

  000c8			 AREA	 |.pdata|, PDATA
|$pdata1$PowerNotificationCreate| DCD imagerel |$LN13@PowerNotif|
	DCD	imagerel |$unwind2$PowerNotificationCreate|

  00130			 AREA	 |.xdata|, DATA
|$unwind2$PowerNotificationCreate| DCD 0x33b00056
	DCD	0xfc01e807
	DCD	0xe8fff0a8
	DCD	0xfff0a801
	DCD	imagerel |__GSHandlerCheck|
	DCD	0xffffffe5

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EA@CHDGLPPE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "c", 0x0, "o", 0x0, "u"
	DCB	0x0, "l", 0x0, "d", 0x0, "n", 0x0, "'", 0x0, "t", 0x0, " "
	DCB	0x0, "c", 0x0, "r", 0x0, "e", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, " ", 0x0, "s", 0x0, "t", 0x0, "r", 0x0, "u", 0x0, "c"
	DCB	0x0, "t", 0x0, "u", 0x0, "r", 0x0, "e", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DA@KILGMLAE@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAN?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@| DCB "P"
	DCB	0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "N", 0x0, "o"
	DCB	0x0, "t", 0x0, "i", 0x0, "f", 0x0, "i", 0x0, "c", 0x0, "a"
	DCB	0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n", 0x0, "C", 0x0, "r"
	DCB	0x0, "e", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HO@LLCKIJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAO?$AAp?$AAe?$AAn?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AAo?$AAw@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "O", 0x0, "p", 0x0, "e"
	DCB	0x0, "n", 0x0, "M", 0x0, "s", 0x0, "g", 0x0, "Q", 0x0, "u"
	DCB	0x0, "e", 0x0, "u", 0x0, "e", 0x0, "(", 0x0, ")", 0x0, " "
	DCB	0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d"
	DCB	0x0, " ", 0x0, "%", 0x0, "d", 0x0, " ", 0x0, "(", 0x0, "o"
	DCB	0x0, "w", 0x0, "n", 0x0, "e", 0x0, "r", 0x0, " ", 0x0, "0"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, ","
	DCB	0x0, " ", 0x0, "s", 0x0, "o", 0x0, "u", 0x0, "r", 0x0, "c"
	DCB	0x0, "e", 0x0, " ", 0x0, "q", 0x0, " ", 0x0, "0", 0x0, "x"
	DCB	0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, ")", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00f1c			 AREA	 |.text|, CODE, THUMB

  00f1c		 |PowerNotificationCreate| PROC

; 1186 : {

  00f1c		 |$LN13@PowerNotif|
  00f1c	e92d 48f0	 push        {r4-r7,r11,lr}
  00f20	f20d 0b10	 addw        r11,sp,#0x10
  00f24	f000 f800	 bl          __security_push_cookie
  00f28	b087		 sub         sp,sp,#0x1C
  00f2a		 |$M11|
  00f2a	4607		 mov         r7,r0

; 1187 :     SETFNAME(_T("PowerNotificationCreate"));
; 1188 : 
; 1189 :     // allocate resources
; 1190 :     PPOWER_NOTIFICATION ppn = (PPOWER_NOTIFICATION) PmAlloc(sizeof(*ppn));

  00f2c	2014		 movs        r0,#0x14
  00f2e	460e		 mov         r6,r1
  00f30	f000 f800	 bl          PmAlloc
  00f34	4604		 mov         r4,r0

; 1191 :     if(ppn != NULL ) {

  00f36	4d27		 ldr         r5,|$LN19@PowerNotif| ; =|dpCurSettings|
  00f38	b39c		 cbz         r4,|$LN9@PowerNotif|

; 1192 :         // initialize the structure
; 1193 :         memset(ppn, 0, sizeof(*ppn));

  00f3a	2214		 movs        r2,#0x14
  00f3c	2100		 movs        r1,#0
  00f3e	f000 f800	 bl          memset

; 1194 :         ppn->hOwner = hOwner;
; 1195 :         ppn->pNext = NULL;

  00f42	2300		 movs        r3,#0

; 1196 :         ppn->pPrev = NULL;
; 1197 : 
; 1198 :         // now try to open the message queue
; 1199 :         MSGQUEUEOPTIONS msgopts;
; 1200 :         memset(&msgopts, 0, sizeof(msgopts));

  00f44	a802		 add         r0,sp,#8
  00f46	2214		 movs        r2,#0x14
  00f48	2100		 movs        r1,#0
  00f4a	60e3		 str         r3,[r4,#0xC]
  00f4c	6123		 str         r3,[r4,#0x10]
  00f4e	60a6		 str         r6,[r4,#8]
  00f50	f000 f800	 bl          memset

; 1201 :         msgopts.dwSize = sizeof(MSGQUEUEOPTIONS);

  00f54	2314		 movs        r3,#0x14
  00f56	9302		 str         r3,[sp,#8]

; 1202 :         msgopts.bReadAccess = FALSE;

  00f58	2300		 movs        r3,#0

; 1203 :         ppn->hMsgQ = OpenMsgQueue(hOwner, hMsgQ, &msgopts);

  00f5a	aa02		 add         r2,sp,#8
  00f5c	4639		 mov         r1,r7
  00f5e	4630		 mov         r0,r6
  00f60	9306		 str         r3,[sp,#0x18]
  00f62	f000 f800	 bl          OpenMsgQueue
  00f66	6020		 str         r0,[r4]

; 1204 :         if(ppn->hMsgQ == NULL) {

  00f68	b9d0		 cbnz        r0,|$LN1@PowerNotif|

; 1205 :             PMLOGMSG(ZONE_WARN, 
; 1206 :                 (_T("%s: OpenMsgQueue() failed %d (owner 0x%08x, source q 0x%08x)\r\n"),
; 1207 :                 pszFname, GetLastError(), hOwner, hMsgQ));

  00f6a	f8d5 3440	 ldr         r3,[r5,#0x440]
  00f6e	f013 0f02	 tst         r3,#2
  00f72	d011		 beq         |$LN5@PowerNotif|
  00f74	f000 f800	 bl          GetLastError
  00f78	4914		 ldr         r1,|$LN17@PowerNotif| ; =|??_C@_1DA@KILGMLAE@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAN?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  00f7a	4602		 mov         r2,r0
  00f7c	4814		 ldr         r0,|$LN18@PowerNotif| ; =|??_C@_1HO@LLCKIJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAO?$AAp?$AAe?$AAn?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AAo?$AAw@|
  00f7e	4633		 mov         r3,r6
  00f80	9700		 str         r7,[sp]
  00f82	f000 f800	 bl          NKDbgPrintfW
  00f86	f000 f800	 bl          GetLastError
  00f8a	4910		 ldr         r1,|$LN17@PowerNotif| ; =|??_C@_1DA@KILGMLAE@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAN?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  00f8c	4602		 mov         r2,r0
  00f8e	4810		 ldr         r0,|$LN18@PowerNotif| ; =|??_C@_1HO@LLCKIJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAO?$AAp?$AAe?$AAn?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AAo?$AAw@|
  00f90	4633		 mov         r3,r6
  00f92	9700		 str         r7,[sp]
  00f94	f000 f800	 bl          CeLogMsg
  00f98		 |$LN5@PowerNotif|

; 1208 :             PmFree(ppn);

  00f98	4620		 mov         r0,r4
  00f9a	f000 f800	 bl          PmFree

; 1209 :             ppn = NULL;

  00f9e	2400		 movs        r4,#0
  00fa0		 |$LN1@PowerNotif|

; 1210 :         }
; 1211 :     }
; 1212 : 
; 1213 :     PMLOGMSG(ppn == NULL && ZONE_WARN, (_T("%s: couldn't create structure\r\n"), pszFname));

  00fa0	b964		 cbnz        r4,|$LN7@PowerNotif|
  00fa2		 |$LN9@PowerNotif|
  00fa2	f8d5 3440	 ldr         r3,[r5,#0x440]
  00fa6	f013 0f02	 tst         r3,#2
  00faa	d007		 beq         |$LN7@PowerNotif|
  00fac	4907		 ldr         r1,|$LN17@PowerNotif| ; =|??_C@_1DA@KILGMLAE@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAN?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  00fae	4806		 ldr         r0,|$LN16@PowerNotif| ; =|??_C@_1EA@CHDGLPPE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?$AN?$AA?6?$AA?$AA@|
  00fb0	f000 f800	 bl          NKDbgPrintfW
  00fb4	4905		 ldr         r1,|$LN17@PowerNotif| ; =|??_C@_1DA@KILGMLAE@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAN?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  00fb6	4804		 ldr         r0,|$LN16@PowerNotif| ; =|??_C@_1EA@CHDGLPPE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?$AN?$AA?6?$AA?$AA@|
  00fb8	f000 f800	 bl          CeLogMsg
  00fbc		 |$LN7@PowerNotif|

; 1214 :     return ppn;
; 1215 : }

  00fbc	4620		 mov         r0,r4
  00fbe		 |$M14|
  00fbe	b007		 add         sp,sp,#0x1C
  00fc0	f000 f800	 bl          __security_pop_cookie
  00fc4	e8bd 88f0	 pop         {r4-r7,r11,pc}
  00fc8		 |$LN15@PowerNotif|
  00fc8		 |$LN16@PowerNotif|
  00fc8	0000 0000	 DCD         |??_C@_1EA@CHDGLPPE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?$AN?$AA?6?$AA?$AA@|
  00fcc		 |$LN17@PowerNotif|
  00fcc	0000 0000	 DCD         |??_C@_1DA@KILGMLAE@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAN?$AAo?$AAt?$AAi?$AAf?$AAi?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  00fd0		 |$LN18@PowerNotif|
  00fd0	0000 0000	 DCD         |??_C@_1HO@LLCKIJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAO?$AAp?$AAe?$AAn?$AAM?$AAs?$AAg?$AAQ?$AAu?$AAe?$AAu?$AAe?$AA?$CI?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AAo?$AAw@|
  00fd4		 |$LN19@PowerNotif|
  00fd4	0000 0000	 DCD         |dpCurSettings|
  00fd8		 |$M12|

			 ENDP  ; |PowerNotificationCreate|

	EXPORT	|??_C@_1FO@GHMJBDJO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AAn?$AAa?$AAm?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?0?$AA?5@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CE@PDGPMOEE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EO@CBFALEMH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FC@GGBMAKFK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?5?$AAf?$AAo@| [ DATA ] ; `string'
	EXPORT	|DeviceStateCreate|
	IMPORT	|StringCchCopyW|

  000d0			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceStateCreate| DCD imagerel |$LN36@DeviceStat|
	DCD	imagerel |$unwind2$DeviceStateCreate|

  00148			 AREA	 |.xdata|, DATA
|$unwind2$DeviceStateCreate| DCD 0x33300091
	DCD	0xfea9fcc7
	DCD	0xf089ff02
	DCD	0xff03ef
	DCD	imagerel |__C_specific_handler|
	DCD	0x1
	DCD	imagerel |$LN22@DeviceStat|
	DCD	imagerel |$LN23@DeviceStat|
	DCD	0x1
	DCD	imagerel |$LN19@DeviceStat|

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FC@GGBMAKFK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?5?$AAf?$AAo@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "c", 0x0, "o", 0x0, "u"
	DCB	0x0, "l", 0x0, "d", 0x0, "n", 0x0, "'", 0x0, "t", 0x0, " "
	DCB	0x0, "c", 0x0, "r", 0x0, "e", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, " ", 0x0, "s", 0x0, "t", 0x0, "r", 0x0, "u", 0x0, "c"
	DCB	0x0, "t", 0x0, "u", 0x0, "r", 0x0, "e", 0x0, " ", 0x0, "f"
	DCB	0x0, "o", 0x0, "r", 0x0, " ", 0x0, "'", 0x0, "%", 0x0, "s"
	DCB	0x0, "'", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EO@CBFALEMH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "x", 0x0, "c"
	DCB	0x0, "e", 0x0, "p", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, " ", 0x0, "i", 0x0, "n", 0x0, "i", 0x0, "t", 0x0, "i"
	DCB	0x0, "a", 0x0, "l", 0x0, "i", 0x0, "z", 0x0, "i", 0x0, "n"
	DCB	0x0, "g", 0x0, " ", 0x0, "s", 0x0, "t", 0x0, "r", 0x0, "u"
	DCB	0x0, "c", 0x0, "t", 0x0, "u", 0x0, "r", 0x0, "e", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CE@PDGPMOEE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "S"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "C", 0x0, "r"
	DCB	0x0, "e", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FO@GHMJBDJO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AAn?$AAa?$AAm?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?0?$AA?5@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "c", 0x0, "r", 0x0, "e"
	DCB	0x0, "a", 0x0, "t", 0x0, "e", 0x0, "d", 0x0, " ", 0x0, "0"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, " "
	DCB	0x0, "(", 0x0, "n", 0x0, "a", 0x0, "m", 0x0, "e", 0x0, " "
	DCB	0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'", 0x0, ")", 0x0, ","
	DCB	0x0, " ", 0x0, "r", 0x0, "e", 0x0, "f", 0x0, "c", 0x0, "n"
	DCB	0x0, "t", 0x0, " ", 0x0, "i", 0x0, "s", 0x0, " ", 0x0, "%"
	DCB	0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  00fd8			 AREA	 |.text|, CODE, THUMB

  00fd8		 |DeviceStateCreate| PROC

; 710  : {

  00fd8		 |$LN36@DeviceStat|
  00fd8	b403		 push        {r0,r1}
  00fda	e92d 49fe	 push        {r1-r8,r11,lr}
  00fde	f20d 0b20	 addw        r11,sp,#0x20
  00fe2	466f		 mov         r7,sp
  00fe4	b082		 sub         sp,sp,#8
  00fe6		 |$LN34@DeviceStat|
  00fe6	4680		 mov         r8,r0
  00fe8	62b8		 str         r0,[r7,#0x28]

; 711  :     BOOL fOk = FALSE;

  00fea	2600		 movs        r6,#0
  00fec	603e		 str         r6,[r7]

; 712  :     PDEVICE_STATE pds = NULL;

  00fee	2300		 movs        r3,#0
  00ff0	607b		 str         r3,[r7,#4]

; 713  :     SETFNAME(_T("DeviceStateCreate"));
; 714  :     
; 715  :     PREFAST_DEBUGCHK(pszName != NULL);

  00ff2	4d45		 ldr         r5,|$LN43@DeviceStat| ; =|dpCurSettings|
  00ff4	b938		 cbnz        r0,|$LN8@DeviceStat|
  00ff6	f240 23cb	 mov         r3,#0x2CB
  00ffa	4a46		 ldr         r2,|$LN46@DeviceStat| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  00ffc	4629		 mov         r1,r5
  00ffe	4844		 ldr         r0,|$LN45@DeviceStat| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  01000	f000 f800	 bl          NKDbgPrintfW
  01004	defe		 __debugbreak
  01006		 |$LN8@DeviceStat|
  01006		 |$LN22@DeviceStat|

; 716  : 
; 717  :     __try {
; 718  :         DWORD dwSize = sizeof(*pds) + ((_tcslen(pszName) + 1) * sizeof(pszName[0]));

  01006	4640		 mov         r0,r8
  01008	f000 f800	 bl          wcslen
  0100c	f110 0339	 adds        r3,r0,#0x39
  01010	0058		 lsls        r0,r3,#1

; 719  :         pds = (PDEVICE_STATE) PmAlloc(dwSize);

  01012	f000 f800	 bl          PmAlloc
  01016	4604		 mov         r4,r0
  01018	607c		 str         r4,[r7,#4]

; 720  :         if(pds != NULL) {

  0101a	b3fc		 cbz         r4,|$LN23@DeviceStat|

; 721  :             LPTSTR pszNameCopy = (LPTSTR) ((LPBYTE) pds + sizeof(*pds));

  0101c	f110 0670	 adds        r6,r0,#0x70

; 722  :             memset(pds, 0, sizeof(*pds));

  01020	2270		 movs        r2,#0x70
  01022	2100		 movs        r1,#0
  01024	f000 f800	 bl          memset

; 723  :             VERIFY(SUCCEEDED(StringCchCopy(pszNameCopy, _tcslen(pszName) + 1, pszName)));

  01028	4640		 mov         r0,r8
  0102a	f000 f800	 bl          wcslen
  0102e	1c41		 adds        r1,r0,#1
  01030	4642		 mov         r2,r8
  01032	4630		 mov         r0,r6
  01034	f000 f800	 bl          StringCchCopyW
  01038	2800		 cmp         r0,#0
  0103a	da07		 bge         |$LN10@DeviceStat|
  0103c	f240 23d3	 mov         r3,#0x2D3
  01040	4935		 ldr         r1,|$LN47@DeviceStat| ; =|??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  01042	4a34		 ldr         r2,|$LN46@DeviceStat| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  01044	4832		 ldr         r0,|$LN45@DeviceStat| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  01046	f000 f800	 bl          NKDbgPrintfW
  0104a	defe		 __debugbreak
  0104c		 |$LN10@DeviceStat|

; 724  :             pds->pszName = pszNameCopy;

  0104c	6026		 str         r6,[r4]

; 725  :             pds->curDx = D0;

  0104e	2200		 movs        r2,#0
  01050	6062		 str         r2,[r4,#4]

; 726  :             pds->floorDx = PwrDeviceUnspecified;

  01052	43d3		 mvns        r3,r2
  01054	60a3		 str         r3,[r4,#8]

; 727  :             pds->ceilingDx = PwrDeviceUnspecified;

  01056	60e3		 str         r3,[r4,#0xC]

; 728  :             pds->setDx = PwrDeviceUnspecified;

  01058	6123		 str         r3,[r4,#0x10]

; 729  :             pds->lastReqDx = D0;

  0105a	6162		 str         r2,[r4,#0x14]

; 730  :             pds->actualDx = D0;

  0105c	61a2		 str         r2,[r4,#0x18]

; 731  :             pds->pendingDx = PwrDeviceUnspecified;

  0105e	61e3		 str         r3,[r4,#0x1C]

; 732  :             pds->dwNumPending = 0;

  01060	6222		 str         r2,[r4,#0x20]

; 733  :             pds->pParent = NULL;

  01062	6262		 str         r2,[r4,#0x24]

; 734  :             pds->dwRefCount = 1;

  01064	2601		 movs        r6,#1
  01066	65a6		 str         r6,[r4,#0x58]

; 735  :             pds->hDevice = INVALID_HANDLE_VALUE;

  01068	65e3		 str         r3,[r4,#0x5C]

; 736  :             pds->pListHead = NULL;

  0106a	6662		 str         r2,[r4,#0x64]

; 737  :             pds->pNext = NULL;

  0106c	66a2		 str         r2,[r4,#0x68]

; 738  :             pds->pPrev = NULL;

  0106e	66e2		 str         r2,[r4,#0x6C]

; 739  :             PMLOGMSG(ZONE_REFCNT, (_T("%s: created 0x%08x (name '%s'), refcnt is %d\r\n"),
; 740  :                 pszFname, pds, pszName, pds->dwRefCount));

  01070	f8d5 3440	 ldr         r3,[r5,#0x440]
  01074	f013 0f40	 tst         r3,#0x40
  01078	d00f		 beq         |$LN28@DeviceStat|
  0107a	6da3		 ldr         r3,[r4,#0x58]
  0107c	9300		 str         r3,[sp]
  0107e	4643		 mov         r3,r8
  01080	4622		 mov         r2,r4
  01082	491f		 ldr         r1,|$LN41@DeviceStat| ; =|??_C@_1CE@PDGPMOEE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  01084	4821		 ldr         r0,|$LN44@DeviceStat| ; =|??_C@_1FO@GHMJBDJO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AAn?$AAa?$AAm?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?0?$AA?5@|
  01086	f000 f800	 bl          NKDbgPrintfW
  0108a	6da3		 ldr         r3,[r4,#0x58]
  0108c	9300		 str         r3,[sp]
  0108e	4643		 mov         r3,r8
  01090	4622		 mov         r2,r4
  01092	491b		 ldr         r1,|$LN41@DeviceStat| ; =|??_C@_1CE@PDGPMOEE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  01094	481d		 ldr         r0,|$LN44@DeviceStat| ; =|??_C@_1FO@GHMJBDJO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AAn?$AAa?$AAm?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?0?$AA?5@|
  01096	f000 f800	 bl          CeLogMsg
  0109a		 |$LN28@DeviceStat|

; 741  :             fOk = TRUE;

  0109a	603e		 str         r6,[r7]
  0109c		 |$LN23@DeviceStat|

; 742  :         }
; 743  :     }

  0109c	e011		 b           |$LN24@DeviceStat|
  0109e		 |$LN19@DeviceStat|

; 744  :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 745  :         PMLOGMSG(ZONE_WARN, (_T("%s: exception initializing structure\r\n"), pszFname));

  0109e	4d1a		 ldr         r5,|$LN43@DeviceStat| ; =|dpCurSettings|

; 739  :             PMLOGMSG(ZONE_REFCNT, (_T("%s: created 0x%08x (name '%s'), refcnt is %d\r\n"),
; 740  :                 pszFname, pds, pszName, pds->dwRefCount));

  010a0	f8d5 3440	 ldr         r3,[r5,#0x440]

; 744  :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 745  :         PMLOGMSG(ZONE_WARN, (_T("%s: exception initializing structure\r\n"), pszFname));

  010a4	f013 0f02	 tst         r3,#2
  010a8	d007		 beq         |$LN30@DeviceStat|
  010aa	4915		 ldr         r1,|$LN41@DeviceStat| ; =|??_C@_1CE@PDGPMOEE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  010ac	4815		 ldr         r0,|$LN42@DeviceStat| ; =|??_C@_1EO@CBFALEMH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc@|
  010ae	f000 f800	 bl          NKDbgPrintfW
  010b2	4913		 ldr         r1,|$LN41@DeviceStat| ; =|??_C@_1CE@PDGPMOEE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  010b4	4813		 ldr         r0,|$LN42@DeviceStat| ; =|??_C@_1EO@CBFALEMH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc@|
  010b6	f000 f800	 bl          CeLogMsg
  010ba		 |$LN30@DeviceStat|
  010ba	f8d7 8028	 ldr         r8,[r7,#0x28]
  010be	683e		 ldr         r6,[r7]
  010c0	687c		 ldr         r4,[r7,#4]
  010c2		 |$LN24@DeviceStat|

; 746  :     }
; 747  : 
; 748  :     if(!fOk) {

  010c2	b926		 cbnz        r6,|$LN1@DeviceStat|

; 749  :         if(pds != NULL) {

  010c4	b124		 cbz         r4,|$LN33@DeviceStat|

; 750  :             PmFree(pds);

  010c6	4620		 mov         r0,r4
  010c8	f000 f800	 bl          PmFree

; 751  :             pds = NULL;

  010cc	2400		 movs        r4,#0
  010ce		 |$LN1@DeviceStat|

; 752  :         }
; 753  :     }
; 754  : 
; 755  :     PMLOGMSG(pds == NULL && ZONE_WARN, (_T("%s: couldn't create structure for '%s'\r\n"),
; 756  :         pszFname, pszName));

  010ce	b974		 cbnz        r4,|$LN5@DeviceStat|
  010d0		 |$LN33@DeviceStat|

; 739  :             PMLOGMSG(ZONE_REFCNT, (_T("%s: created 0x%08x (name '%s'), refcnt is %d\r\n"),
; 740  :                 pszFname, pds, pszName, pds->dwRefCount));

  010d0	f8d5 3440	 ldr         r3,[r5,#0x440]

; 752  :         }
; 753  :     }
; 754  : 
; 755  :     PMLOGMSG(pds == NULL && ZONE_WARN, (_T("%s: couldn't create structure for '%s'\r\n"),
; 756  :         pszFname, pszName));

  010d4	f013 0f02	 tst         r3,#2
  010d8	d009		 beq         |$LN5@DeviceStat|
  010da	4642		 mov         r2,r8
  010dc	4908		 ldr         r1,|$LN41@DeviceStat| ; =|??_C@_1CE@PDGPMOEE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  010de	4807		 ldr         r0,|$LN40@DeviceStat| ; =|??_C@_1FC@GGBMAKFK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?5?$AAf?$AAo@|
  010e0	f000 f800	 bl          NKDbgPrintfW
  010e4	4642		 mov         r2,r8
  010e6	4906		 ldr         r1,|$LN41@DeviceStat| ; =|??_C@_1CE@PDGPMOEE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  010e8	4804		 ldr         r0,|$LN40@DeviceStat| ; =|??_C@_1FC@GGBMAKFK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?5?$AAf?$AAo@|
  010ea	f000 f800	 bl          CeLogMsg
  010ee		 |$LN5@DeviceStat|

; 757  :     return pds;
; 758  : }

  010ee	4620		 mov         r0,r4
  010f0		 |$M38|
  010f0	b005		 add         sp,sp,#0x14
  010f2	e8bd 09f0	 pop         {r4-r8,r11}
  010f6	f85d fb0c	 ldr         pc,[sp],#0xC
  010fa		 |$LN48@DeviceStat|
  010fa		 |$M49|
  010fa	defe		 __debugbreak
  010fc		 |$LN39@DeviceStat|
  010fc		 |$LN40@DeviceStat|
  010fc	0000 0000	 DCD         |??_C@_1FC@GGBMAKFK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?5?$AAf?$AAo@|
  01100		 |$LN41@DeviceStat|
  01100	0000 0000	 DCD         |??_C@_1CE@PDGPMOEE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  01104		 |$LN42@DeviceStat|
  01104	0000 0000	 DCD         |??_C@_1EO@CBFALEMH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc@|
  01108		 |$LN43@DeviceStat|
  01108	0000 0000	 DCD         |dpCurSettings|
  0110c		 |$LN44@DeviceStat|
  0110c	0000 0000	 DCD         |??_C@_1FO@GHMJBDJO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AAn?$AAa?$AAm?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?0?$AA?5@|
  01110		 |$LN45@DeviceStat|
  01110	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  01114		 |$LN46@DeviceStat|
  01114	0000 0000	 DCD         |??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  01118		 |$LN47@DeviceStat|
  01118	0000 0000	 DCD         |??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|

			 ENDP  ; |DeviceStateCreate|

  0111c		 |$LN35@DeviceStat|
	EXPORT	|??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DM@KMCCDNBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAp?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAi?$AAs?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CI@DCLIEMIO@?$AAG?$AAe?$AAt?$AAP?$AAM?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DE@IHPBHPGP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAn?$AAo?$AA?5?$AAs?$AAe?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|GetPMThreadPriority|
	IMPORT	|RegOpenKeyExW|
	IMPORT	|RegCloseKey|

  000d8			 AREA	 |.pdata|, PDATA
|$pdata1$GetPMThreadPriority| DCD imagerel |$LN13@GetPMThrea|
	DCD	0x1b30129

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DE@IHPBHPGP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAn?$AAo?$AA?5?$AAs?$AAe?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "n", 0x0, "o", 0x0, " "
	DCB	0x0, "s", 0x0, "e", 0x0, "t", 0x0, "t", 0x0, "i", 0x0, "n"
	DCB	0x0, "g", 0x0, " ", 0x0, "f", 0x0, "o", 0x0, "r", 0x0, " "
	DCB	0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CI@DCLIEMIO@?$AAG?$AAe?$AAt?$AAP?$AAM?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?$AA@| DCB "G"
	DCB	0x0, "e", 0x0, "t", 0x0, "P", 0x0, "M", 0x0, "T", 0x0, "h"
	DCB	0x0, "r", 0x0, "e", 0x0, "a", 0x0, "d", 0x0, "P", 0x0, "r"
	DCB	0x0, "i", 0x0, "o", 0x0, "r", 0x0, "i", 0x0, "t", 0x0, "y"
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DM@KMCCDNBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAp?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAi?$AAs?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "p", 0x0, "r", 0x0, "i"
	DCB	0x0, "o", 0x0, "r", 0x0, "i", 0x0, "t", 0x0, "y", 0x0, " "
	DCB	0x0, "f", 0x0, "o", 0x0, "r", 0x0, " ", 0x0, "'", 0x0, "%"
	DCB	0x0, "s", 0x0, "'", 0x0, " ", 0x0, "i", 0x0, "s", 0x0, " "
	DCB	0x0, "%", 0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@| DCB "S"
	DCB	0x0, "Y", 0x0, "S", 0x0, "T", 0x0, "E", 0x0, "M", 0x0, "\\"
	DCB	0x0, "C", 0x0, "u", 0x0, "r", 0x0, "r", 0x0, "e", 0x0, "n"
	DCB	0x0, "t", 0x0, "C", 0x0, "o", 0x0, "n", 0x0, "t", 0x0, "r"
	DCB	0x0, "o", 0x0, "l", 0x0, "S", 0x0, "e", 0x0, "t", 0x0, "\\"
	DCB	0x0, "C", 0x0, "o", 0x0, "n", 0x0, "t", 0x0, "r", 0x0, "o"
	DCB	0x0, "l", 0x0, "\\", 0x0, "P", 0x0, "o", 0x0, "w", 0x0, "e"
	DCB	0x0, "r", 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  0111c			 AREA	 |.text|, CODE, THUMB

  0111c		 |GetPMThreadPriority| PROC

; 56   : {

  0111c		 |$LN13@GetPMThrea|
  0111c	e92d 48f0	 push        {r4-r7,r11,lr}
  01120	f20d 0b10	 addw        r11,sp,#0x10
  01124	b086		 sub         sp,sp,#0x18
  01126		 |$M11|

; 57   :     BOOL fOk = FALSE;
; 58   :     HKEY hkPm = NULL;

  01126	2300		 movs        r3,#0
  01128	9302		 str         r3,[sp,#8]

; 59   :     DWORD dwStatus;
; 60   :     SETFNAME(_T("GetPMThreadPriority"));
; 61   : 
; 62   :     // open the PM key
; 63   :     dwStatus = RegOpenKeyEx(HKEY_LOCAL_MACHINE, PWRMGR_REG_KEY, 0, 0, &hkPm);

  0112a	ab02		 add         r3,sp,#8
  0112c	9300		 str         r3,[sp]
  0112e	2301		 movs        r3,#1
  01130	460f		 mov         r7,r1
  01132	4923		 ldr         r1,|$LN20@GetPMThrea| ; =|??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@|
  01134	07dc		 lsls        r4,r3,#0x1F
  01136	4606		 mov         r6,r0
  01138	1ca0		 adds        r0,r4,#2
  0113a	2300		 movs        r3,#0
  0113c	2200		 movs        r2,#0
  0113e	2500		 movs        r5,#0
  01140	f000 f800	 bl          RegOpenKeyExW

; 64   :     if(dwStatus == ERROR_SUCCESS) {

  01144	4c1d		 ldr         r4,|$LN19@GetPMThrea| ; =|dpCurSettings|
  01146	bb00		 cbnz        r0,|$LN9@GetPMThrea|

; 65   :         DWORD dwValue;
; 66   :         DWORD dwSize = sizeof(dwValue);
; 67   : 
; 68   :         // read the requested value
; 69   :         dwStatus = RegQueryTypedValue(hkPm, pszValue, &dwValue, &dwSize, REG_DWORD);

  01148	9802		 ldr         r0,[sp,#8]
  0114a	2304		 movs        r3,#4
  0114c	9304		 str         r3,[sp,#0x10]
  0114e	9300		 str         r3,[sp]
  01150	ab04		 add         r3,sp,#0x10
  01152	aa03		 add         r2,sp,#0xC
  01154	4631		 mov         r1,r6
  01156	f000 f800	 bl          RegQueryTypedValue

; 70   :         if(dwStatus == ERROR_SUCCESS) {

  0115a	b990		 cbnz        r0,|$LN1@GetPMThrea|

; 71   :             *piThreadPriority = (INT) dwValue;

  0115c	9b03		 ldr         r3,[sp,#0xC]
  0115e	603b		 str         r3,[r7]

; 72   :             PMLOGMSG(ZONE_REGISTRY, (_T("%s: priority for '%s' is %d\r\n"),
; 73   :                 pszFname, pszValue, dwValue));

  01160	f8d4 2440	 ldr         r2,[r4,#0x440]
  01164	f412 7f00	 tst         r2,#0x200
  01168	d00a		 beq         |$LN5@GetPMThrea|
  0116a	4912		 ldr         r1,|$LN17@GetPMThrea| ; =|??_C@_1CI@DCLIEMIO@?$AAG?$AAe?$AAt?$AAP?$AAM?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?$AA@|
  0116c	4812		 ldr         r0,|$LN18@GetPMThrea| ; =|??_C@_1DM@KMCCDNBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAp?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAi?$AAs?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  0116e	4632		 mov         r2,r6
  01170	f000 f800	 bl          NKDbgPrintfW
  01174	9b03		 ldr         r3,[sp,#0xC]
  01176	490f		 ldr         r1,|$LN17@GetPMThrea| ; =|??_C@_1CI@DCLIEMIO@?$AAG?$AAe?$AAt?$AAP?$AAM?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?$AA@|
  01178	480f		 ldr         r0,|$LN18@GetPMThrea| ; =|??_C@_1DM@KMCCDNBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAp?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAi?$AAs?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  0117a	4632		 mov         r2,r6
  0117c	f000 f800	 bl          CeLogMsg
  01180		 |$LN5@GetPMThrea|

; 74   :             fOk = TRUE;

  01180	2501		 movs        r5,#1
  01182		 |$LN1@GetPMThrea|

; 75   :         }
; 76   : 
; 77   :         // close the key
; 78   :         RegCloseKey(hkPm);

  01182	9802		 ldr         r0,[sp,#8]
  01184	f000 f800	 bl          RegCloseKey

; 79   :     }
; 80   : 
; 81   :     PMLOGMSG(!fOk && ZONE_REGISTRY, (_T("%s: no setting for '%s'\r\n"),
; 82   :         pszFname, pszValue));

  01188	b975		 cbnz        r5,|$LN7@GetPMThrea|
  0118a		 |$LN9@GetPMThrea|
  0118a	f8d4 3440	 ldr         r3,[r4,#0x440]
  0118e	f413 7f00	 tst         r3,#0x200
  01192	d009		 beq         |$LN7@GetPMThrea|
  01194	4907		 ldr         r1,|$LN17@GetPMThrea| ; =|??_C@_1CI@DCLIEMIO@?$AAG?$AAe?$AAt?$AAP?$AAM?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?$AA@|
  01196	4806		 ldr         r0,|$LN16@GetPMThrea| ; =|??_C@_1DE@IHPBHPGP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAn?$AAo?$AA?5?$AAs?$AAe?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@|
  01198	4632		 mov         r2,r6
  0119a	f000 f800	 bl          NKDbgPrintfW
  0119e	4905		 ldr         r1,|$LN17@GetPMThrea| ; =|??_C@_1CI@DCLIEMIO@?$AAG?$AAe?$AAt?$AAP?$AAM?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?$AA@|
  011a0	4803		 ldr         r0,|$LN16@GetPMThrea| ; =|??_C@_1DE@IHPBHPGP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAn?$AAo?$AA?5?$AAs?$AAe?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@|
  011a2	4632		 mov         r2,r6
  011a4	f000 f800	 bl          CeLogMsg
  011a8		 |$LN7@GetPMThrea|

; 83   : 
; 84   :     return fOk;
; 85   : }

  011a8	4628		 mov         r0,r5
  011aa		 |$M14|
  011aa	b006		 add         sp,sp,#0x18
  011ac	e8bd 88f0	 pop         {r4-r7,r11,pc}
  011b0		 |$LN15@GetPMThrea|
  011b0		 |$LN16@GetPMThrea|
  011b0	0000 0000	 DCD         |??_C@_1DE@IHPBHPGP@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAn?$AAo?$AA?5?$AAs?$AAe?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@|
  011b4		 |$LN17@GetPMThrea|
  011b4	0000 0000	 DCD         |??_C@_1CI@DCLIEMIO@?$AAG?$AAe?$AAt?$AAP?$AAM?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AAP?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?$AA@|
  011b8		 |$LN18@GetPMThrea|
  011b8	0000 0000	 DCD         |??_C@_1DM@KMCCDNBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAp?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAi?$AAs?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  011bc		 |$LN19@GetPMThrea|
  011bc	0000 0000	 DCD         |dpCurSettings|
  011c0		 |$LN20@GetPMThrea|
  011c0	0000 0000	 DCD         |??_C@_1EO@PFEFPDAL@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?2?$AAC?$AAu?$AAr?$AAr?$AAe?$AAn?$AAt?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAS?$AAe?$AAt?$AA?2?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@|
  011c4		 |$M12|

			 ENDP  ; |GetPMThreadPriority|

	EXPORT	|??_C@_1CI@IDGLAHPA@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAF?$AAi?$AAn?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|DeviceStateFindList|

  000e0			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceStateFindList| DCD imagerel |$LN31@DeviceStat|
	DCD	imagerel |$unwind2$DeviceStateFindList|

  00170			 AREA	 |.xdata|, DATA
|$unwind2$DeviceStateFindList| DCD 0x20100030
	DCD	0xbea8fcc7
	DCD	0xff
	DCD	imagerel |__C_specific_handler|
	DCD	0x1
	DCD	imagerel |$LN15@DeviceStat|
	DCD	imagerel |$LN16@DeviceStat|
	DCD	0x1
	DCD	imagerel |$LN12@DeviceStat|

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CI@IDGLAHPA@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAF?$AAi?$AAn?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "S"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "F", 0x0, "i"
	DCB	0x0, "n", 0x0, "d", 0x0, "L", 0x0, "i", 0x0, "s", 0x0, "t"
	DCB	0x0, 0x0, 0x0				; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  011c4			 AREA	 |.text|, CODE, THUMB

  011c4		 |DeviceStateFindList| PROC

; 918  : {

  011c4		 |$LN31@DeviceStat|
  011c4	e92d 48be	 push        {r1-r5,r7,r11,lr}
  011c8	f20d 0b18	 addw        r11,sp,#0x18
  011cc	466f		 mov         r7,sp
  011ce		 |$LN29@DeviceStat|
  011ce	460d		 mov         r5,r1
  011d0	4604		 mov         r4,r0

; 919  :     PDEVICE_STATE pds = NULL;
; 920  :     SETFNAME(_T("DeviceStateFindList"));

  011d2	4b17		 ldr         r3,|$LN38@DeviceStat| ; =|??_C@_1CI@IDGLAHPA@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAF?$AAi?$AAn?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@|
  011d4	603b		 str         r3,[r7]

; 93   :     EnterCriticalSection(&gcsPowerManager);

  011d6	4813		 ldr         r0,|$LN35@DeviceStat| ; =|gcsPowerManager|
  011d8	f000 f800	 bl          EnterCriticalSection
  011dc		 |$LN15@DeviceStat|

; 921  : 
; 922  :     PMLOCK();
; 923  : 
; 924  :     __try {
; 925  :         // look for a match
; 926  :         for(pds = pdl->pList; pds != NULL; pds = pds->pNext) {

  011dc	6864		 ldr         r4,[r4,#4]
  011de		 |$LN28@DeviceStat|
  011de	607c		 str         r4,[r7,#4]
  011e0	b14c		 cbz         r4,|$LN16@DeviceStat|

; 927  :             if(_tcscmp(pds->pszName, pszName) == 0) { 

  011e2	6820		 ldr         r0,[r4]
  011e4	4629		 mov         r1,r5
  011e6	f000 f800	 bl          wcscmp
  011ea	b108		 cbz         r0,|$LN24@DeviceStat|

; 921  : 
; 922  :     PMLOCK();
; 923  : 
; 924  :     __try {
; 925  :         // look for a match
; 926  :         for(pds = pdl->pList; pds != NULL; pds = pds->pNext) {

  011ec	6ea4		 ldr         r4,[r4,#0x68]
  011ee	e7f6		 b           |$LN28@DeviceStat|
  011f0		 |$LN24@DeviceStat|

; 928  :                 // increment the reference count and exit
; 929  :                 DeviceStateAddRef(pds);

  011f0	4620		 mov         r0,r4
  011f2	f000 f800	 bl          DeviceStateAddRef
  011f6		 |$LN16@DeviceStat|

; 930  :                 break;
; 931  :             }
; 932  :         }

  011f6	e00f		 b           |$LN17@DeviceStat|
  011f8		 |$LN12@DeviceStat|
  011f8		 |$LN14@DeviceStat|

; 933  :     }
; 934  :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 935  :         PMLOGMSG(ZONE_WARN, (_T("%s: exception searching list\r\n"), pszFname));

  011f8	4b0c		 ldr         r3,|$LN37@DeviceStat| ; =|dpCurSettings|
  011fa	f8d3 3440	 ldr         r3,[r3,#0x440]
  011fe	f013 0f02	 tst         r3,#2
  01202	d007		 beq         |$LN8@DeviceStat|
  01204	6839		 ldr         r1,[r7]
  01206	4808		 ldr         r0,|$LN36@DeviceStat| ; =|??_C@_1DO@JAALAKBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  01208	f000 f800	 bl          NKDbgPrintfW
  0120c	6839		 ldr         r1,[r7]
  0120e	4806		 ldr         r0,|$LN36@DeviceStat| ; =|??_C@_1DO@JAALAKBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  01210	f000 f800	 bl          CeLogMsg
  01214		 |$LN8@DeviceStat|

; 936  :         pds = NULL;

  01214	2400		 movs        r4,#0
  01216	607c		 str         r4,[r7,#4]
  01218		 |$LN17@DeviceStat|

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  01218	4802		 ldr         r0,|$LN35@DeviceStat| ; =|gcsPowerManager|
  0121a	f000 f800	 bl          LeaveCriticalSection

; 937  :     }
; 938  : 
; 939  :     PMUNLOCK();
; 940  : 
; 941  :     return pds;
; 942  : }

  0121e	4620		 mov         r0,r4
  01220		 |$M33|
  01220	e8bd 88be	 pop         {r1-r5,r7,r11,pc}
  01224		 |$LN34@DeviceStat|
  01224		 |$LN35@DeviceStat|
  01224	0000 0000	 DCD         |gcsPowerManager|
  01228		 |$LN36@DeviceStat|
  01228	0000 0000	 DCD         |??_C@_1DO@JAALAKBH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi?$AAs?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  0122c		 |$LN37@DeviceStat|
  0122c	0000 0000	 DCD         |dpCurSettings|
  01230		 |$LN38@DeviceStat|
  01230	0000 0000	 DCD         |??_C@_1CI@IDGLAHPA@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAF?$AAi?$AAn?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@|

			 ENDP  ; |DeviceStateFindList|

  01234		 |$LN30@DeviceStat|
	EXPORT	|??_C@_1FE@PFMPBNAG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAa?$AAd?$AAd?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAt?$AAo?$AA?5?$AAl?$AAi?$AAs?$AAt@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CG@GHDPCNI@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAA?$AAd?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|DeviceStateAddList|

  000e8			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceStateAddList| DCD imagerel |$LN25@DeviceStat|
	DCD	0xfdb261b9

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CG@GHDPCNI@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAA?$AAd?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "S"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "A", 0x0, "d"
	DCB	0x0, "d", 0x0, "L", 0x0, "i", 0x0, "s", 0x0, "t", 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FE@PFMPBNAG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAa?$AAd?$AAd?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAt?$AAo?$AA?5?$AAl?$AAi?$AAs?$AAt@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "a", 0x0, "d", 0x0, "d"
	DCB	0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "0", 0x0, "x"
	DCB	0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, " ", 0x0, "("
	DCB	0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'", 0x0, ")", 0x0, " "
	DCB	0x0, "t", 0x0, "o", 0x0, " ", 0x0, "l", 0x0, "i", 0x0, "s"
	DCB	0x0, "t", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0"
	DCB	0x0, "8", 0x0, "x", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  01234			 AREA	 |.text|, CODE, THUMB

  01234		 |DeviceStateAddList| PROC

; 827  : {

  01234		 |$LN25@DeviceStat|
  01234	e92d 487e	 push        {r1-r6,r11,lr}
  01238	f20d 0b18	 addw        r11,sp,#0x18
  0123c		 |$M23|
  0123c	4606		 mov         r6,r0

; 828  :     BOOL fOk = TRUE;
; 829  :     SETFNAME(_T("DeviceStateAddList"));
; 830  : 
; 831  :     PREFAST_DEBUGCHK(pdl != NULL);

  0123e	4d39		 ldr         r5,|$LN33@DeviceStat| ; =|dpCurSettings|
  01240	460c		 mov         r4,r1
  01242	b93e		 cbnz        r6,|$LN5@DeviceStat|
  01244	4a34		 ldr         r2,|$LN30@DeviceStat| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  01246	4833		 ldr         r0,|$LN29@DeviceStat| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  01248	f240 333f	 mov         r3,#0x33F
  0124c	4629		 mov         r1,r5
  0124e	f000 f800	 bl          NKDbgPrintfW
  01252	defe		 __debugbreak
  01254		 |$LN5@DeviceStat|

; 832  :     PREFAST_DEBUGCHK(pdsDevice != NULL);

  01254	b93c		 cbnz        r4,|$LN7@DeviceStat|
  01256	4a30		 ldr         r2,|$LN30@DeviceStat| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  01258	482e		 ldr         r0,|$LN29@DeviceStat| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  0125a	f44f 7350	 mov         r3,#0x340
  0125e	4629		 mov         r1,r5
  01260	f000 f800	 bl          NKDbgPrintfW
  01264	defe		 __debugbreak
  01266		 |$LN7@DeviceStat|

; 833  :     DEBUGCHK(pdsDevice->pNext == NULL && pdsDevice->pPrev == NULL);

  01266	6ea3		 ldr         r3,[r4,#0x68]
  01268	b90b		 cbnz        r3,|$LN8@DeviceStat|
  0126a	6ee3		 ldr         r3,[r4,#0x6C]
  0126c	b13b		 cbz         r3,|$LN9@DeviceStat|
  0126e		 |$LN8@DeviceStat|
  0126e	4a2a		 ldr         r2,|$LN30@DeviceStat| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  01270	4828		 ldr         r0,|$LN29@DeviceStat| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  01272	f240 3341	 mov         r3,#0x341
  01276	4629		 mov         r1,r5
  01278	f000 f800	 bl          NKDbgPrintfW
  0127c	defe		 __debugbreak
  0127e		 |$LN9@DeviceStat|

; 834  :     DEBUGCHK(pdsDevice->dwRefCount == 1);

  0127e	6da3		 ldr         r3,[r4,#0x58]
  01280	2b01		 cmp         r3,#1
  01282	d007		 beq         |$LN11@DeviceStat|
  01284	4a24		 ldr         r2,|$LN30@DeviceStat| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  01286	4823		 ldr         r0,|$LN29@DeviceStat| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  01288	f240 3342	 mov         r3,#0x342
  0128c	4629		 mov         r1,r5
  0128e	f000 f800	 bl          NKDbgPrintfW
  01292	defe		 __debugbreak
  01294		 |$LN11@DeviceStat|

; 835  :     DEBUGCHK(pdsDevice->pListHead == NULL);

  01294	6e63		 ldr         r3,[r4,#0x64]
  01296	b13b		 cbz         r3,|$LN13@DeviceStat|
  01298	4a1f		 ldr         r2,|$LN30@DeviceStat| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  0129a	481e		 ldr         r0,|$LN29@DeviceStat| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  0129c	f240 3343	 mov         r3,#0x343
  012a0	4629		 mov         r1,r5
  012a2	f000 f800	 bl          NKDbgPrintfW
  012a6	defe		 __debugbreak
  012a8		 |$LN13@DeviceStat|

; 836  : 
; 837  :     PMLOGMSG(ZONE_REFCNT | ZONE_DEVICE, 
; 838  :         (_T("%s: adding 0x%08x ('%s') to list 0x%08x\r\n"),
; 839  :         pszFname, pdsDevice, pdsDevice->pszName, pdl));

  012a8	f8d5 3440	 ldr         r3,[r5,#0x440]
  012ac	f013 0f50	 tst         r3,#0x50
  012b0	d00d		 beq         |$LN14@DeviceStat|
  012b2	6823		 ldr         r3,[r4]
  012b4	491a		 ldr         r1,|$LN32@DeviceStat| ; =|??_C@_1CG@GHDPCNI@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAA?$AAd?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@|
  012b6	4819		 ldr         r0,|$LN31@DeviceStat| ; =|??_C@_1FE@PFMPBNAG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAa?$AAd?$AAd?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAt?$AAo?$AA?5?$AAl?$AAi?$AAs?$AAt@|
  012b8	4622		 mov         r2,r4
  012ba	9600		 str         r6,[sp]
  012bc	f000 f800	 bl          NKDbgPrintfW
  012c0	6823		 ldr         r3,[r4]
  012c2	4917		 ldr         r1,|$LN32@DeviceStat| ; =|??_C@_1CG@GHDPCNI@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAA?$AAd?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@|
  012c4	4815		 ldr         r0,|$LN31@DeviceStat| ; =|??_C@_1FE@PFMPBNAG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAa?$AAd?$AAd?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAt?$AAo?$AA?5?$AAl?$AAi?$AAs?$AAt@|
  012c6	4622		 mov         r2,r4
  012c8	9600		 str         r6,[sp]
  012ca	f000 f800	 bl          CeLogMsg
  012ce		 |$LN14@DeviceStat|

; 93   :     EnterCriticalSection(&gcsPowerManager);

  012ce	4810		 ldr         r0,|$LN28@DeviceStat| ; =|gcsPowerManager|
  012d0	f000 f800	 bl          EnterCriticalSection

; 840  : 
; 841  :     // put the new device at the head of the list
; 842  :     PMLOCK();
; 843  :     pdsDevice->pListHead = pdl;

  012d4	6666		 str         r6,[r4,#0x64]

; 844  :     pdsDevice->pNext = pdl->pList;

  012d6	6873		 ldr         r3,[r6,#4]
  012d8	66a3		 str         r3,[r4,#0x68]

; 845  :     pdsDevice->pPrev = NULL;

  012da	2300		 movs        r3,#0
  012dc	66e3		 str         r3,[r4,#0x6C]

; 846  :     if(pdl->pList != NULL) {

  012de	6873		 ldr         r3,[r6,#4]
  012e0	b103		 cbz         r3,|$LN1@DeviceStat|

; 847  :         pdl->pList->pPrev = pdsDevice;

  012e2	66dc		 str         r4,[r3,#0x6C]
  012e4		 |$LN1@DeviceStat|

; 848  :     }
; 849  :     pdl->pList = pdsDevice;
; 850  : 
; 851  :     // copy interface method pointers from the device class
; 852  :     DEBUGCHK(pdl->pInterface != NULL);

  012e4	6933		 ldr         r3,[r6,#0x10]
  012e6	6074		 str         r4,[r6,#4]
  012e8	b93b		 cbnz        r3,|$LN17@DeviceStat|
  012ea	4a0b		 ldr         r2,|$LN30@DeviceStat| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  012ec	4809		 ldr         r0,|$LN29@DeviceStat| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  012ee	f44f 7355	 mov         r3,#0x354
  012f2	4629		 mov         r1,r5
  012f4	f000 f800	 bl          NKDbgPrintfW
  012f8	defe		 __debugbreak
  012fa		 |$LN17@DeviceStat|

; 853  :     pdsDevice->pInterface = pdl->pInterface;

  012fa	6933		 ldr         r3,[r6,#0x10]

; 854  : 
; 855  :     DeviceStateAddRef(pdsDevice);

  012fc	4620		 mov         r0,r4
  012fe	6623		 str         r3,[r4,#0x60]
  01300	f000 f800	 bl          DeviceStateAddRef

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  01304	4802		 ldr         r0,|$LN28@DeviceStat| ; =|gcsPowerManager|
  01306	f000 f800	 bl          LeaveCriticalSection

; 856  :     PMUNLOCK();
; 857  : 
; 858  :     return fOk;

  0130a	2001		 movs        r0,#1
  0130c		 |$M26|

; 859  : }

  0130c	e8bd 887e	 pop         {r1-r6,r11,pc}
  01310		 |$LN27@DeviceStat|
  01310		 |$LN28@DeviceStat|
  01310	0000 0000	 DCD         |gcsPowerManager|
  01314		 |$LN29@DeviceStat|
  01314	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  01318		 |$LN30@DeviceStat|
  01318	0000 0000	 DCD         |??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  0131c		 |$LN31@DeviceStat|
  0131c	0000 0000	 DCD         |??_C@_1FE@PFMPBNAG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAa?$AAd?$AAd?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAt?$AAo?$AA?5?$AAl?$AAi?$AAs?$AAt@|
  01320		 |$LN32@DeviceStat|
  01320	0000 0000	 DCD         |??_C@_1CG@GHDPCNI@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAA?$AAd?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@|
  01324		 |$LN33@DeviceStat|
  01324	0000 0000	 DCD         |dpCurSettings|
  01328		 |$M24|

			 ENDP  ; |DeviceStateAddList|


  000f0			 AREA	 |.pdata|, PDATA
|$pdata1$?GUIDFromString@@YAHPBGPAU_GUID@@@Z| DCD imagerel |$LN10@GUIDFromSt|
	DCD	0xfd306059
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  01328			 AREA	 |.text|, CODE, THUMB

  01328		 |?GUIDFromString@@YAHPBGPAU_GUID@@@Z| PROC ; GUIDFromString

; 297  : {

  01328		 |$LN10@GUIDFromSt|
  01328	e92d 4818	 push        {r3,r4,r11,lr}
  0132c	f20d 0b08	 addw        r11,sp,#8
  01330		 |$M8|
  01330	4604		 mov         r4,r0

; 298  :     if (*lpsz++ != '{' )

  01332	8823		 ldrh        r3,[r4]
  01334	2b7b		 cmp         r3,#0x7B
  01336	d001		 beq         |$LN3@GUIDFromSt|
  01338		 |$LN6@GUIDFromSt|

; 299  :         return FALSE;

  01338	2000		 movs        r0,#0
  0133a	e009		 b           |$LN4@GUIDFromSt|
  0133c		 |$LN3@GUIDFromSt|

; 300  :     
; 301  :     if(wUUIDFromString(lpsz, pguid) != TRUE)

  0133c	1ca0		 adds        r0,r4,#2
  0133e	f000 f800	 bl          |?wUUIDFromString@@YAHPBGPAU_GUID@@@Z|
  01342	2801		 cmp         r0,#1
  01344	d1f8		 bne         |$LN6@GUIDFromSt|

; 302  :         return FALSE;
; 303  :     
; 304  :     lpsz +=36;
; 305  :     
; 306  :     if (*lpsz++ != '}' )

  01346	f8b4 304a	 ldrh        r3,[r4,#0x4A]
  0134a	2b7d		 cmp         r3,#0x7D
  0134c	d1f4		 bne         |$LN6@GUIDFromSt|

; 307  :         return FALSE;
; 308  :     
; 309  :     return TRUE;

  0134e	2001		 movs        r0,#1
  01350		 |$LN4@GUIDFromSt|
  01350		 |$M11|

; 310  : }

  01350	e8bd 8818	 pop         {r3,r4,r11,pc}
  01354		 |$M9|

			 ENDP  ; |?GUIDFromString@@YAHPBGPAU_GUID@@@Z|, GUIDFromString

	EXPORT	|?DeviceIdsAreEqual@@YAHPAU_DeviceId_tag@@0@Z| ; DeviceIdsAreEqual

  000f8			 AREA	 |.pdata|, PDATA
|$pdata1$?DeviceIdsAreEqual@@YAHPAU_DeviceId_tag@@0@Z| DCD imagerel |$LN33@DeviceIdsA|
	DCD	0xfd3260cd
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp
; File c:\wince800\public\common\sdk\inc\guiddef.h
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  01354			 AREA	 |.text|, CODE, THUMB

  01354		 |?DeviceIdsAreEqual@@YAHPAU_DeviceId_tag@@0@Z| PROC ; DeviceIdsAreEqual

; 672  : {

  01354		 |$LN33@DeviceIdsA|
  01354	e92d 4878	 push        {r3-r6,r11,lr}
  01358	f20d 0b10	 addw        r11,sp,#0x10
  0135c		 |$M31|
  0135c	4606		 mov         r6,r0

; 673  :     BOOL fEqual = TRUE;

  0135e	2401		 movs        r4,#1

; 674  : 
; 675  :     PREFAST_DEBUGCHK(pId1 != NULL);

  01360	460d		 mov         r5,r1
  01362	b93e		 cbnz        r6,|$LN15@DeviceIdsA|
  01364	4a17		 ldr         r2,|$LN38@DeviceIdsA| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  01366	4916		 ldr         r1,|$LN37@DeviceIdsA| ; =|dpCurSettings|
  01368	4814		 ldr         r0,|$LN36@DeviceIdsA| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  0136a	f240 23a3	 mov         r3,#0x2A3
  0136e	f000 f800	 bl          NKDbgPrintfW
  01372	defe		 __debugbreak
  01374		 |$LN15@DeviceIdsA|

; 676  :     PREFAST_DEBUGCHK(pId2 != NULL);

  01374	b93d		 cbnz        r5,|$LN17@DeviceIdsA|
  01376	4a13		 ldr         r2,|$LN38@DeviceIdsA| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  01378	4911		 ldr         r1,|$LN37@DeviceIdsA| ; =|dpCurSettings|
  0137a	4810		 ldr         r0,|$LN36@DeviceIdsA| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  0137c	f44f 7329	 mov         r3,#0x2A4
  01380	f000 f800	 bl          NKDbgPrintfW
  01384	defe		 __debugbreak
  01386		 |$LN17@DeviceIdsA|

; 677  :     // check name strings first
; 678  :     if(pId1->pszName == NULL) {

  01386	6870		 ldr         r0,[r6,#4]
  01388	b910		 cbnz        r0,|$LN11@DeviceIdsA|

; 679  :         if(pId2->pszName != NULL) {

  0138a	686b		 ldr         r3,[r5,#4]
  0138c	b12b		 cbz         r3,|$LN28@DeviceIdsA|

; 680  :             fEqual = FALSE;
; 681  :         }
; 682  :     } else {

  0138e	e010		 b           |$LN7@DeviceIdsA|
  01390		 |$LN11@DeviceIdsA|

; 683  :         if(pId2->pszName == NULL || _tcscmp(pId1->pszName, pId2->pszName) != 0) {

  01390	6869		 ldr         r1,[r5,#4]
  01392	b171		 cbz         r1,|$LN7@DeviceIdsA|
  01394	f000 f800	 bl          wcscmp
  01398	b958		 cbnz        r0,|$LN7@DeviceIdsA|
  0139a		 |$LN28@DeviceIdsA|

; 685  :         }
; 686  :     }
; 687  : 
; 688  :     // check guid values
; 689  :     if(fEqual == TRUE) {
; 690  :         if(pId1->pGuid == NULL) {

  0139a	6830		 ldr         r0,[r6]
  0139c	b910		 cbnz        r0,|$LN5@DeviceIdsA|

; 691  :             if(pId2->pGuid != NULL) {

  0139e	682b		 ldr         r3,[r5]
  013a0	2b00		 cmp         r3,#0

; 692  :                 fEqual = FALSE;
; 693  :             }
; 694  :         } else {

  013a2	e005		 b           |$LN29@DeviceIdsA|
  013a4		 |$LN5@DeviceIdsA|

; 695  :             if(pId2->pGuid == NULL || *pId1->pGuid != *pId2->pGuid) {

  013a4	6829		 ldr         r1,[r5]
  013a6	b121		 cbz         r1,|$LN7@DeviceIdsA|
; File c:\wince800\public\common\sdk\inc\guiddef.h

; 150  :     return !memcmp(&rguid1, &rguid2, sizeof(GUID));

  013a8	2210		 movs        r2,#0x10
  013aa	f000 f800	 bl          memcmp
  013ae	2800		 cmp         r0,#0
  013b0		 |$LN29@DeviceIdsA|
  013b0	d000		 beq         |$LN2@DeviceIdsA|
  013b2		 |$LN7@DeviceIdsA|
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

; 684  :             fEqual = FALSE;

  013b2	2400		 movs        r4,#0
  013b4		 |$LN2@DeviceIdsA|

; 696  :                 fEqual = FALSE;
; 697  :             }
; 698  :         }
; 699  :     }
; 700  : 
; 701  :     return fEqual;
; 702  : }

  013b4	4620		 mov         r0,r4
  013b6		 |$M34|
  013b6	e8bd 8878	 pop         {r3-r6,r11,pc}
  013ba		 |$LN39@DeviceIdsA|
  013ba		 |$M40|
  013ba	defe		 __debugbreak
  013bc		 |$LN35@DeviceIdsA|
  013bc		 |$LN36@DeviceIdsA|
  013bc	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  013c0		 |$LN37@DeviceIdsA|
  013c0	0000 0000	 DCD         |dpCurSettings|
  013c4		 |$LN38@DeviceIdsA|
  013c4	0000 0000	 DCD         |??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  013c8		 |$M32|

			 ENDP  ; |?DeviceIdsAreEqual@@YAHPAU_DeviceId_tag@@0@Z|, DeviceIdsAreEqual

	EXPORT	|??_C@_1CO@JDGHGHGI@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAR?$AAe?$AAs?$AAt?$AAr?$AAi?$AAc?$AAt?$AAi?$AAo?$AAn?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GA@IDMIBKBM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAd?$AAu?$AAr?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?5?$AAi@| [ DATA ] ; `string'
	EXPORT	|??_C@_1O@DPFEOIGE@?$AA?$DM?$AAN?$AAU?$AAL?$AAL?$AA?$DO?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|PowerRestrictionCreate|

  00100			 AREA	 |.pdata|, PDATA
|$pdata1$PowerRestrictionCreate| DCD imagerel |$LN49@PowerRestr|
	DCD	imagerel |$unwind2$PowerRestrictionCreate|

  00194			 AREA	 |.xdata|, DATA
	%	4
|$unwind2$PowerRestrictionCreate| DCD 0x333000a8
	DCD	0xdffc09c7
	DCD	0xefdbff04
	DCD	0xff05
	DCD	imagerel |__C_specific_handler|
	DCD	0x1
	DCD	imagerel |$LN31@PowerRestr|
	DCD	imagerel |$LN32@PowerRestr|
	DCD	0x1
	DCD	imagerel |$LN28@PowerRestr|

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1O@DPFEOIGE@?$AA?$DM?$AAN?$AAU?$AAL?$AAL?$AA?$DO?$AA?$AA@| DCB "<", 0x0
	DCB	"N", 0x0, "U", 0x0, "L", 0x0, "L", 0x0, ">", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GA@IDMIBKBM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAd?$AAu?$AAr?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?5?$AAi@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "x", 0x0, "c"
	DCB	0x0, "e", 0x0, "p", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, " ", 0x0, "d", 0x0, "u", 0x0, "r", 0x0, "i", 0x0, "n"
	DCB	0x0, "g", 0x0, " ", 0x0, "s", 0x0, "t", 0x0, "r", 0x0, "u"
	DCB	0x0, "c", 0x0, "t", 0x0, "u", 0x0, "r", 0x0, "e", 0x0, " "
	DCB	0x0, "i", 0x0, "n", 0x0, "i", 0x0, "t", 0x0, "i", 0x0, "a"
	DCB	0x0, "l", 0x0, "i", 0x0, "z", 0x0, "a", 0x0, "t", 0x0, "i"
	DCB	0x0, "o", 0x0, "n", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CO@JDGHGHGI@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAR?$AAe?$AAs?$AAt?$AAr?$AAi?$AAc?$AAt?$AAi?$AAo?$AAn?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@| DCB "P"
	DCB	0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "R", 0x0, "e"
	DCB	0x0, "s", 0x0, "t", 0x0, "r", 0x0, "i", 0x0, "c", 0x0, "t"
	DCB	0x0, "i", 0x0, "o", 0x0, "n", 0x0, "C", 0x0, "r", 0x0, "e"
	DCB	0x0, "a", 0x0, "t", 0x0, "e", 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  013c8			 AREA	 |.text|, CODE, THUMB

  013c8		 |PowerRestrictionCreate| PROC

; 952  : {

  013c8		 |$LN49@PowerRestr|
  013c8	b40f		 push        {r0-r3}
  013ca	e92d 4ff0	 push        {r4-r11,lr}
  013ce	f20d 0b1c	 addw        r11,sp,#0x1C
  013d2	b089		 sub         sp,sp,#0x24
  013d4	466f		 mov         r7,sp
  013d6		 |$LN47@PowerRestr|
  013d6	461d		 mov         r5,r3
  013d8	60bd		 str         r5,[r7,#8]
  013da	623a		 str         r2,[r7,#0x20]
  013dc	61f9		 str         r1,[r7,#0x1C]
  013de	4681		 mov         r9,r0
  013e0	64b8		 str         r0,[r7,#0x48]

; 953  :     PDEVICE_POWER_RESTRICTION pdpr = NULL;

  013e2	2300		 movs        r3,#0
  013e4	61bb		 str         r3,[r7,#0x18]

; 954  :     BOOL fOk = TRUE;

  013e6	2601		 movs        r6,#1

; 955  :     SETFNAME(_T("PowerRestrictionCreate"));

  013e8	f8df 813c	 ldr         r8,|$LN57@PowerRestr| ; =|??_C@_1CO@JDGHGHGI@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAR?$AAe?$AAs?$AAt?$AAr?$AAi?$AAc?$AAt?$AAi?$AAo?$AAn?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  013ec	f8c7 8010	 str         r8,[r7,#0x10]
  013f0		 |$LN31@PowerRestr|

; 956  : 
; 957  :     __try {
; 958  :         LPTSTR pszSystemStateCopy = NULL;

  013f0	f04f 0a00	 mov         r10,#0

; 959  :         PDEVICEID pDeviceIdCopy = NULL;

  013f4	2300		 movs        r3,#0
  013f6	60fb		 str         r3,[r7,#0xC]

; 960  :         DWORD dwDeviceIdSize = DeviceIdSize(pDeviceId);

  013f8	4648		 mov         r0,r9
  013fa	f000 f800	 bl          DeviceIdSize
  013fe	6038		 str         r0,[r7]

; 961  :         DWORD cchSystemState = NULL;

  01400	2300		 movs        r3,#0
  01402	607b		 str         r3,[r7,#4]

; 962  : 
; 963  :         // allocate resources
; 964  :         DWORD dwSize = sizeof(*pdpr) + dwDeviceIdSize;

  01404	f110 041c	 adds        r4,r0,#0x1C

; 965  :         if(pszSystemState != NULL) {

  01408	b13d		 cbz         r5,|$LN14@PowerRestr|

; 966  :             cchSystemState = _tcslen(pszSystemState);

  0140a	4628		 mov         r0,r5
  0140c	f000 f800	 bl          wcslen
  01410	6078		 str         r0,[r7,#4]

; 967  :             dwSize += ((cchSystemState + 1) * sizeof(pszSystemState[0]));

  01412	1c43		 adds        r3,r0,#1
  01414	eb04 0443	 add         r4,r4,r3,lsl #1
  01418	68bd		 ldr         r5,[r7,#8]
  0141a		 |$LN14@PowerRestr|

; 968  :         }
; 969  :         pdpr = (PDEVICE_POWER_RESTRICTION) PmAlloc(dwSize);

  0141a	4620		 mov         r0,r4
  0141c	f000 f800	 bl          PmAlloc
  01420	4604		 mov         r4,r0
  01422	61bc		 str         r4,[r7,#0x18]

; 970  :         if(pdpr == NULL) {

  01424	b914		 cbnz        r4,|$LN13@PowerRestr|

; 971  :             fOk = FALSE;

  01426	2300		 movs        r3,#0
  01428	461e		 mov         r6,r3
  0142a	617b		 str         r3,[r7,#0x14]
  0142c		 |$LN13@PowerRestr|

; 972  :         }
; 973  : 
; 974  :         if(fOk) {

  0142c	b176		 cbz         r6,|$LN43@PowerRestr|

; 975  :             // copy the device ID
; 976  :             if(pDeviceId != NULL) {

  0142e	f1b9 0f00	 cmp         r9,#0
  01432	d00b		 beq         |$LN43@PowerRestr|

; 977  :                 pDeviceIdCopy = (PDEVICEID) ((LPBYTE) pdpr + sizeof(*pdpr));
; 978  :                 pDeviceIdCopy = DeviceIdCloneIntoBuffer(pDeviceId, pDeviceIdCopy, dwDeviceIdSize);

  01434	683a		 ldr         r2,[r7]
  01436	f114 011c	 adds        r1,r4,#0x1C
  0143a	4648		 mov         r0,r9
  0143c	f000 f800	 bl          DeviceIdCloneIntoBuffer
  01440	60f8		 str         r0,[r7,#0xC]

; 979  :                 if(pDeviceIdCopy == NULL) {

  01442	b918		 cbnz        r0,|$LN43@PowerRestr|

; 980  :                     fOk = FALSE;

  01444	2200		 movs        r2,#0
  01446	4616		 mov         r6,r2
  01448	617a		 str         r2,[r7,#0x14]
  0144a	e000		 b           |$LN10@PowerRestr|
  0144c		 |$LN43@PowerRestr|
  0144c	2200		 movs        r2,#0
  0144e		 |$LN10@PowerRestr|

; 981  :                 }
; 982  :             }
; 983  :         }
; 984  : 
; 985  :         if(fOk) {

  0144e	b1be		 cbz         r6,|$LN40@PowerRestr|

; 986  :             // copy the system power state name, if it's present
; 987  :             if(pszSystemState != NULL) {

  01450	b1a5		 cbz         r5,|$LN8@PowerRestr|

; 988  :                 // get a pointer to the aggregated buffer we just allocated
; 989  :                 PREFAST_SUPPRESS(12009,"The Size has been pre-calculated");
; 990  :                 pszSystemStateCopy = (LPTSTR) ((LPBYTE) pdpr + sizeof(*pdpr) + dwDeviceIdSize);

  01452	683b		 ldr         r3,[r7]
  01454	191b		 adds        r3,r3,r4
  01456	f113 0a1c	 adds        r10,r3,#0x1C

; 991  :                 
; 992  :                 // Do the copy here because once it's assigned to the structure
; 993  :                 // our allocated buffer will be treated as const.  Convert to lowercase
; 994  :                 // so that we avoid doing localized comparisons when accessing the requirement
; 995  :                 // data.
; 996  :                 for (DWORD dwIndex = 0; dwIndex < cchSystemState; dwIndex++) {

  0145a	4615		 mov         r5,r2
  0145c		 |$LL7@PowerRestr|
  0145c	687b		 ldr         r3,[r7,#4]
  0145e	429d		 cmp         r5,r3
  01460	d208		 bcs         |$LN5@PowerRestr|

; 997  :                     pszSystemStateCopy[dwIndex] = _totlower(pszSystemState[dwIndex]);

  01462	68bb		 ldr         r3,[r7,#8]
  01464	f833 0015	 ldrh        r0,[r3,r5,lsl #1]
  01468	f000 f800	 bl          towlower
  0146c	f82a 0015	 strh        r0,[r10,r5,lsl #1]

; 991  :                 
; 992  :                 // Do the copy here because once it's assigned to the structure
; 993  :                 // our allocated buffer will be treated as const.  Convert to lowercase
; 994  :                 // so that we avoid doing localized comparisons when accessing the requirement
; 995  :                 // data.
; 996  :                 for (DWORD dwIndex = 0; dwIndex < cchSystemState; dwIndex++) {

  01470	3501		 adds        r5,#1
  01472	e7f3		 b           |$LL7@PowerRestr|
  01474		 |$LN5@PowerRestr|

; 998  :                 }
; 999  :                 pszSystemStateCopy[cchSystemState] = 0;

  01474	2500		 movs        r5,#0
  01476	f82a 5013	 strh        r5,[r10,r3,lsl #1]
  0147a	e002		 b           |$LN4@PowerRestr|
  0147c		 |$LN8@PowerRestr|

; 1000 :             } else {
; 1001 :                 pszSystemStateCopy = NULL;

  0147c	f04f 0a00	 mov         r10,#0
  01480		 |$LN40@PowerRestr|
  01480	2500		 movs        r5,#0
  01482		 |$LN4@PowerRestr|

; 1002 :             }
; 1003 :         }
; 1004 :         
; 1005 :         // initialize the structure
; 1006 :         if(fOk) { 

  01482	b186		 cbz         r6,|$LN32@PowerRestr|

; 1007 :             memset(pdpr, 0, sizeof(*pdpr));

  01484	221c		 movs        r2,#0x1C
  01486	2100		 movs        r1,#0
  01488	4620		 mov         r0,r4
  0148a	f000 f800	 bl          memset

; 1008 :             pdpr->pDeviceId = pDeviceIdCopy;

  0148e	68fb		 ldr         r3,[r7,#0xC]
  01490	6023		 str         r3,[r4]

; 1009 :             pdpr->hOwner = hOwner;

  01492	69fb		 ldr         r3,[r7,#0x1C]
  01494	6063		 str         r3,[r4,#4]

; 1010 :             pdpr->devDx = Dx;

  01496	6a3b		 ldr         r3,[r7,#0x20]
  01498	60a3		 str         r3,[r4,#8]

; 1011 :             pdpr->pszSystemState = pszSystemStateCopy;

  0149a	f8c4 a00c	 str         r10,[r4,#0xC]

; 1012 :             pdpr->dwFlags = dwFlags;

  0149e	6dbb		 ldr         r3,[r7,#0x58]
  014a0	6123		 str         r3,[r4,#0x10]

; 1013 :             pdpr->pNext = NULL;

  014a2	6165		 str         r5,[r4,#0x14]

; 1014 :             pdpr->pPrev = NULL;

  014a4	61a5		 str         r5,[r4,#0x18]
  014a6		 |$LN32@PowerRestr|

; 1015 : 
; 1016 :         }
; 1017 :     }

  014a6	4d1f		 ldr         r5,|$LN56@PowerRestr| ; =|dpCurSettings|
  014a8	e014		 b           |$LN33@PowerRestr|
  014aa		 |$LN28@PowerRestr|
  014aa		 |$LN30@PowerRestr|

; 1018 :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 1019 :         PMLOGMSG(ZONE_WARN, (_T("%s: exception during structure initialization\r\n"),
; 1020 :             pszFname));

  014aa	4d1e		 ldr         r5,|$LN56@PowerRestr| ; =|dpCurSettings|

; 1015 : 
; 1016 :         }
; 1017 :     }

  014ac	f8d5 3440	 ldr         r3,[r5,#0x440]

; 1018 :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 1019 :         PMLOGMSG(ZONE_WARN, (_T("%s: exception during structure initialization\r\n"),
; 1020 :             pszFname));

  014b0	f013 0f02	 tst         r3,#2
  014b4	f8d7 8010	 ldr         r8,[r7,#0x10]
  014b8	d007		 beq         |$LN18@PowerRestr|
  014ba	4641		 mov         r1,r8
  014bc	4818		 ldr         r0,|$LN55@PowerRestr| ; =|??_C@_1GA@IDMIBKBM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAd?$AAu?$AAr?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?5?$AAi@|
  014be	f000 f800	 bl          NKDbgPrintfW
  014c2	4641		 mov         r1,r8
  014c4	4816		 ldr         r0,|$LN55@PowerRestr| ; =|??_C@_1GA@IDMIBKBM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAd?$AAu?$AAr?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?5?$AAi@|
  014c6	f000 f800	 bl          CeLogMsg
  014ca		 |$LN18@PowerRestr|

; 1021 :         fOk = FALSE;

  014ca	2600		 movs        r6,#0
  014cc	617e		 str         r6,[r7,#0x14]
  014ce	f8d7 9048	 ldr         r9,[r7,#0x48]
  014d2	69bc		 ldr         r4,[r7,#0x18]
  014d4		 |$LN33@PowerRestr|

; 1022 :     }
; 1023 : 
; 1024 :     // clean up if necessary
; 1025 :     if(!fOk) {

  014d4	b926		 cbnz        r6,|$LN1@PowerRestr|

; 1026 :         if(pdpr != NULL) {

  014d6	b124		 cbz         r4,|$LN46@PowerRestr|

; 1027 :             PmFree(pdpr);

  014d8	4620		 mov         r0,r4
  014da	f000 f800	 bl          PmFree

; 1028 :             pdpr = NULL;

  014de	2400		 movs        r4,#0
  014e0		 |$LN1@PowerRestr|

; 1029 :         }
; 1030 :     }
; 1031 : 
; 1032 :     PMLOGMSG(pdpr == NULL && ZONE_WARN, (_T("%s: couldn't create structure for '%s'\r\n"),
; 1033 :         pszFname, pDeviceId->pszName != NULL ? pDeviceId->pszName : _T("<NULL>")));

  014e0	b9a4		 cbnz        r4,|$LN16@PowerRestr|
  014e2		 |$LN46@PowerRestr|

; 1015 : 
; 1016 :         }
; 1017 :     }

  014e2	f8d5 3440	 ldr         r3,[r5,#0x440]

; 1029 :         }
; 1030 :     }
; 1031 : 
; 1032 :     PMLOGMSG(pdpr == NULL && ZONE_WARN, (_T("%s: couldn't create structure for '%s'\r\n"),
; 1033 :         pszFname, pDeviceId->pszName != NULL ? pDeviceId->pszName : _T("<NULL>")));

  014e6	f013 0f02	 tst         r3,#2
  014ea	d00f		 beq         |$LN16@PowerRestr|
  014ec	f8d9 2004	 ldr         r2,[r9,#4]
  014f0	b902		 cbnz        r2,|$LN22@PowerRestr|
  014f2	4a0a		 ldr         r2,|$LN54@PowerRestr| ; =|??_C@_1O@DPFEOIGE@?$AA?$DM?$AAN?$AAU?$AAL?$AAL?$AA?$DO?$AA?$AA@|
  014f4		 |$LN22@PowerRestr|
  014f4	4641		 mov         r1,r8
  014f6	4808		 ldr         r0,|$LN53@PowerRestr| ; =|??_C@_1FC@GGBMAKFK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?5?$AAf?$AAo@|
  014f8	f000 f800	 bl          NKDbgPrintfW
  014fc	f8d9 2004	 ldr         r2,[r9,#4]
  01500	b902		 cbnz        r2,|$LN24@PowerRestr|
  01502	4a06		 ldr         r2,|$LN54@PowerRestr| ; =|??_C@_1O@DPFEOIGE@?$AA?$DM?$AAN?$AAU?$AAL?$AAL?$AA?$DO?$AA?$AA@|
  01504		 |$LN24@PowerRestr|
  01504	4641		 mov         r1,r8
  01506	4804		 ldr         r0,|$LN53@PowerRestr| ; =|??_C@_1FC@GGBMAKFK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?5?$AAf?$AAo@|
  01508	f000 f800	 bl          CeLogMsg
  0150c		 |$LN16@PowerRestr|

; 1034 :     return pdpr;
; 1035 : }

  0150c	4620		 mov         r0,r4
  0150e		 |$M51|
  0150e	b009		 add         sp,sp,#0x24
  01510	e8bd 0ff0	 pop         {r4-r11}
  01514	f85d fb14	 ldr         pc,[sp],#0x14
  01518		 |$LN52@PowerRestr|
  01518		 |$LN53@PowerRestr|
  01518	0000 0000	 DCD         |??_C@_1FC@GGBMAKFK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?5?$AAf?$AAo@|
  0151c		 |$LN54@PowerRestr|
  0151c	0000 0000	 DCD         |??_C@_1O@DPFEOIGE@?$AA?$DM?$AAN?$AAU?$AAL?$AAL?$AA?$DO?$AA?$AA@|
  01520		 |$LN55@PowerRestr|
  01520	0000 0000	 DCD         |??_C@_1GA@IDMIBKBM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAd?$AAu?$AAr?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAt?$AAr?$AAu?$AAc?$AAt?$AAu?$AAr?$AAe?$AA?5?$AAi@|
  01524		 |$LN56@PowerRestr|
  01524	0000 0000	 DCD         |dpCurSettings|
  01528		 |$LN57@PowerRestr|
  01528	0000 0000	 DCD         |??_C@_1CO@JDGHGHGI@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAR?$AAe?$AAs?$AAt?$AAr?$AAi?$AAc?$AAt?$AAi?$AAo?$AAn?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|

			 ENDP  ; |PowerRestrictionCreate|

  0152c		 |$LN48@PowerRestr|
	EXPORT	|DeviceIdClone|

  00108			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceIdClone| DCD imagerel |$LN14@DeviceIdCl|
	DCD	0xfd3260cd
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  0152c			 AREA	 |.text|, CODE, THUMB

  0152c		 |DeviceIdClone| PROC

; 424  : {

  0152c		 |$LN14@DeviceIdCl|
  0152c	e92d 4878	 push        {r3-r6,r11,lr}
  01530	f20d 0b10	 addw        r11,sp,#0x10
  01534		 |$M12|
  01534	4605		 mov         r5,r0

; 425  :     PDEVICEID pIdClone;
; 426  :     DWORD dwSize;
; 427  : 
; 428  :     DEBUGCHK(pId != NULL);

  01536	b93d		 cbnz        r5,|$LN8@DeviceIdCl|
  01538	4a18		 ldr         r2,|$LN19@DeviceIdCl| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  0153a	4917		 ldr         r1,|$LN18@DeviceIdCl| ; =|dpCurSettings|
  0153c	4815		 ldr         r0,|$LN17@DeviceIdCl| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  0153e	f44f 73d6	 mov         r3,#0x1AC
  01542	f000 f800	 bl          NKDbgPrintfW
  01546	defe		 __debugbreak
  01548		 |$LN8@DeviceIdCl|

; 429  : 
; 430  :     // calculate the amount of memory to allocate
; 431  :     dwSize = DeviceIdSize(pId);

  01548	4628		 mov         r0,r5
  0154a	f000 f800	 bl          DeviceIdSize
  0154e	4606		 mov         r6,r0

; 432  :     if(dwSize != 0) {

  01550	b11e		 cbz         r6,|$LN4@DeviceIdCl|

; 433  :         pIdClone = (PDEVICEID) PmAlloc(dwSize);

  01552	f000 f800	 bl          PmAlloc
  01556	4604		 mov         r4,r0

; 434  :     } else {

  01558	e000		 b           |$LN3@DeviceIdCl|
  0155a		 |$LN4@DeviceIdCl|

; 435  :         pIdClone = NULL;

  0155a	2400		 movs        r4,#0
  0155c		 |$LN3@DeviceIdCl|

; 436  :     }
; 437  : 
; 438  :     // copy data into the buffer
; 439  :     if(pIdClone != NULL) {

  0155c	b1b4		 cbz         r4,|$LN9@DeviceIdCl|

; 440  :         PDEVICEID pIdTmp = DeviceIdCloneIntoBuffer(pId, pIdClone, dwSize);

  0155e	4632		 mov         r2,r6
  01560	4621		 mov         r1,r4
  01562	4628		 mov         r0,r5
  01564	f000 f800	 bl          DeviceIdCloneIntoBuffer

; 441  :         if(pIdTmp == NULL) {

  01568	b918		 cbnz        r0,|$LN1@DeviceIdCl|

; 442  :             PmFree(pIdClone);

  0156a	4620		 mov         r0,r4
  0156c	f000 f800	 bl          PmFree

; 443  :             pIdClone = NULL;

  01570	2400		 movs        r4,#0
  01572		 |$LN1@DeviceIdCl|

; 444  :         }
; 445  :     }
; 446  : 
; 447  :     DEBUGCHK(pIdClone == NULL || pIdClone->pGuid != NULL || pIdClone->pszName != NULL);

  01572	b15c		 cbz         r4,|$LN9@DeviceIdCl|
  01574	6823		 ldr         r3,[r4]
  01576	b94b		 cbnz        r3,|$LN9@DeviceIdCl|
  01578	6863		 ldr         r3,[r4,#4]
  0157a	b93b		 cbnz        r3,|$LN9@DeviceIdCl|
  0157c	4a07		 ldr         r2,|$LN19@DeviceIdCl| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  0157e	4906		 ldr         r1,|$LN18@DeviceIdCl| ; =|dpCurSettings|
  01580	4804		 ldr         r0,|$LN17@DeviceIdCl| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  01582	f240 13bf	 mov         r3,#0x1BF
  01586	f000 f800	 bl          NKDbgPrintfW
  0158a	defe		 __debugbreak
  0158c		 |$LN9@DeviceIdCl|

; 448  : 
; 449  :     return pIdClone;
; 450  : }

  0158c	4620		 mov         r0,r4
  0158e		 |$M15|
  0158e	e8bd 8878	 pop         {r3-r6,r11,pc}
  01592		 |$LN20@DeviceIdCl|
  01592		 |$M21|
  01592	defe		 __debugbreak
  01594		 |$LN16@DeviceIdCl|
  01594		 |$LN17@DeviceIdCl|
  01594	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  01598		 |$LN18@DeviceIdCl|
  01598	0000 0000	 DCD         |dpCurSettings|
  0159c		 |$LN19@DeviceIdCl|
  0159c	0000 0000	 DCD         |??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  015a0		 |$M13|

			 ENDP  ; |DeviceIdClone|

	EXPORT	|??_C@_1DM@PMPBMFMH@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?1?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AA?1?$AA?$CF?$AAs?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1HC@EKMABGEG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAf?$AAo?$AAr?$AAm?$AAa?$AAt?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAf@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CI@MAPGODIM@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CO@NKBHAHHA@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?1?$AA?$CF?$AAs?$AA_?$AAA?$AAc?$AAt?$AAi?$AAv?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DC@JJBBHDOP@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?1?$AA?$CF?$AAs?$AA_?$AAI?$AAn?$AAa?$AAc?$AAt?$AAi?$AAv?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GE@CFEGDMOD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AAw?$AAa?$AAk?$AAe?$AA?5?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FE@LNHDKALC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAf@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GC@IBIDOKJC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAr?$AAe@| [ DATA ] ; `string'
	EXPORT	|ActivityTimerCreate|
	IMPORT	|StringCchPrintfW|
	IMPORT	|CreateEventW|
	IMPORT	|wcstol|

  00110			 AREA	 |.pdata|, PDATA
|$pdata1$ActivityTimerCreate| DCD imagerel |$LN65@ActivityTi|
	DCD	imagerel |$unwind2$ActivityTimerCreate|

  001c0			 AREA	 |.xdata|, DATA
|$unwind2$ActivityTimerCreate| DCD 0x33b0015a
	DCD	0x1e884e8
	DCD	0xe8ffdffc
	DCD	0xffdf01
	DCD	imagerel |__GSHandlerCheck|
	DCD	0xffffffd9

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GC@IBIDOKJC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAr?$AAe@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "A", 0x0, "c", 0x0, "t"
	DCB	0x0, "i", 0x0, "v", 0x0, "i", 0x0, "t", 0x0, "y", 0x0, "T"
	DCB	0x0, "i", 0x0, "m", 0x0, "e", 0x0, "r", 0x0, "C", 0x0, "r"
	DCB	0x0, "e", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "(", 0x0, "'"
	DCB	0x0, "%", 0x0, "s", 0x0, "'", 0x0, ")", 0x0, " ", 0x0, "r"
	DCB	0x0, "e", 0x0, "t", 0x0, "u", 0x0, "r", 0x0, "n", 0x0, "i"
	DCB	0x0, "n", 0x0, "g", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "8", 0x0, "x", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FE@LNHDKALC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAf@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "r", 0x0, "e", 0x0, "s"
	DCB	0x0, "o", 0x0, "u", 0x0, "r", 0x0, "c", 0x0, "e", 0x0, " "
	DCB	0x0, "a", 0x0, "l", 0x0, "l", 0x0, "o", 0x0, "c", 0x0, "a"
	DCB	0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n", 0x0, " ", 0x0, "f"
	DCB	0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, " "
	DCB	0x0, "f", 0x0, "o", 0x0, "r", 0x0, " ", 0x0, "'", 0x0, "%"
	DCB	0x0, "s", 0x0, "'", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GE@CFEGDMOD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AAw?$AAa?$AAk?$AAe?$AA?5?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "c", 0x0, "a", 0x0, "n"
	DCB	0x0, "'", 0x0, "t", 0x0, " ", 0x0, "p", 0x0, "a", 0x0, "r"
	DCB	0x0, "s", 0x0, "e", 0x0, " ", 0x0, "w", 0x0, "a", 0x0, "k"
	DCB	0x0, "e", 0x0, " ", 0x0, "s", 0x0, "o", 0x0, "u", 0x0, "r"
	DCB	0x0, "c", 0x0, "e", 0x0, " ", 0x0, "'", 0x0, "%", 0x0, "s"
	DCB	0x0, "'", 0x0, " ", 0x0, "f", 0x0, "o", 0x0, "r", 0x0, " "
	DCB	0x0, "t", 0x0, "i", 0x0, "m", 0x0, "e", 0x0, "r", 0x0, " "
	DCB	0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DC@JJBBHDOP@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?1?$AA?$CF?$AAs?$AA_?$AAI?$AAn?$AAa?$AAc?$AAt?$AAi?$AAv?$AAe?$AA?$AA@| DCB "P"
	DCB	0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "M", 0x0, "a"
	DCB	0x0, "n", 0x0, "a", 0x0, "g", 0x0, "e", 0x0, "r", 0x0, "/"
	DCB	0x0, "%", 0x0, "s", 0x0, "_", 0x0, "I", 0x0, "n", 0x0, "a"
	DCB	0x0, "c", 0x0, "t", 0x0, "i", 0x0, "v", 0x0, "e", 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CO@NKBHAHHA@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?1?$AA?$CF?$AAs?$AA_?$AAA?$AAc?$AAt?$AAi?$AAv?$AAe?$AA?$AA@| DCB "P"
	DCB	0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "M", 0x0, "a"
	DCB	0x0, "n", 0x0, "a", 0x0, "g", 0x0, "e", 0x0, "r", 0x0, "/"
	DCB	0x0, "%", 0x0, "s", 0x0, "_", 0x0, "A", 0x0, "c", 0x0, "t"
	DCB	0x0, "i", 0x0, "v", 0x0, "e", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CI@MAPGODIM@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@| DCB "A"
	DCB	0x0, "c", 0x0, "t", 0x0, "i", 0x0, "v", 0x0, "i", 0x0, "t"
	DCB	0x0, "y", 0x0, "T", 0x0, "i", 0x0, "m", 0x0, "e", 0x0, "r"
	DCB	0x0, "C", 0x0, "r", 0x0, "e", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HC@EKMABGEG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAf?$AAo?$AAr?$AAm?$AAa?$AAt?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAf@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "c", 0x0, "o", 0x0, "u"
	DCB	0x0, "l", 0x0, "d", 0x0, "n", 0x0, "'", 0x0, "t", 0x0, " "
	DCB	0x0, "f", 0x0, "o", 0x0, "r", 0x0, "m", 0x0, "a", 0x0, "t"
	DCB	0x0, " ", 0x0, "e", 0x0, "v", 0x0, "e", 0x0, "n", 0x0, "t"
	DCB	0x0, " ", 0x0, "n", 0x0, "a", 0x0, "m", 0x0, "e", 0x0, " "
	DCB	0x0, "f", 0x0, "o", 0x0, "r", 0x0, " ", 0x0, "a", 0x0, "c"
	DCB	0x0, "t", 0x0, "i", 0x0, "v", 0x0, "i", 0x0, "t", 0x0, "y"
	DCB	0x0, " ", 0x0, "t", 0x0, "i", 0x0, "m", 0x0, "e", 0x0, "r"
	DCB	0x0, " ", 0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DM@PMPBMFMH@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?1?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AA?1?$AA?$CF?$AAs?$AA?$AA@| DCB "P"
	DCB	0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "M", 0x0, "a"
	DCB	0x0, "n", 0x0, "a", 0x0, "g", 0x0, "e", 0x0, "r", 0x0, "/"
	DCB	0x0, "A", 0x0, "c", 0x0, "t", 0x0, "i", 0x0, "v", 0x0, "i"
	DCB	0x0, "t", 0x0, "y", 0x0, "T", 0x0, "i", 0x0, "m", 0x0, "e"
	DCB	0x0, "r", 0x0, "/", 0x0, "%", 0x0, "s", 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  015a0			 AREA	 |.text|, CODE, THUMB

  015a0		 |ActivityTimerCreate| PROC

; 1510 : {

  015a0		 |$LN65@ActivityTi|
  015a0	e92d 4ff0	 push        {r4-r11,lr}
  015a4	f20d 0b1c	 addw        r11,sp,#0x1C
  015a8	f000 f800	 bl          __security_push_cookie
  015ac	f2ad 2d10	 subw        sp,sp,#0x210
  015b0		 |$M63|
  015b0	4605		 mov         r5,r0

; 1511 :     PACTIVITY_TIMER pat = NULL;
; 1512 :     DWORD dwWakeSources, dwSize;
; 1513 :     LPCTSTR pszSource;
; 1514 :     TCHAR szPath[MAX_PATH];
; 1515 :     BOOL fOk = TRUE;
; 1516 :     SETFNAME(_T("ActivityTimerCreate"));
; 1517 : 
; 1518 :     PREFAST_DEBUGCHK(pszName != NULL );

  015b2	4fb3		 ldr         r7,|$LN79@ActivityTi| ; =|dpCurSettings|
  015b4	2601		 movs        r6,#1
  015b6	4690		 mov         r8,r2
  015b8	4689		 mov         r9,r1
  015ba	b93d		 cbnz        r5,|$LN23@ActivityTi|
  015bc	4aa9		 ldr         r2,|$LN72@ActivityTi| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  015be	48a7		 ldr         r0,|$LN70@ActivityTi| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  015c0	f240 53ee	 mov         r3,#0x5EE
  015c4	4639		 mov         r1,r7
  015c6	f000 f800	 bl          NKDbgPrintfW
  015ca	defe		 __debugbreak
  015cc		 |$LN23@ActivityTi|

; 1519 :     PREFAST_DEBUGCHK(pszSources != NULL);

  015cc	f1b8 0f00	 cmp         r8,#0
  015d0	d107		 bne         |$LN25@ActivityTi|
  015d2	4aa4		 ldr         r2,|$LN72@ActivityTi| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  015d4	48a1		 ldr         r0,|$LN70@ActivityTi| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  015d6	f240 53ef	 mov         r3,#0x5EF
  015da	4639		 mov         r1,r7
  015dc	f000 f800	 bl          NKDbgPrintfW
  015e0	defe		 __debugbreak
  015e2		 |$LN25@ActivityTi|

; 1520 :     DEBUGCHK(*pszName != 0);

  015e2	882b		 ldrh        r3,[r5]
  015e4	b93b		 cbnz        r3,|$LN27@ActivityTi|
  015e6	4a9f		 ldr         r2,|$LN72@ActivityTi| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  015e8	489c		 ldr         r0,|$LN70@ActivityTi| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  015ea	f44f 63be	 mov         r3,#0x5F0
  015ee	4639		 mov         r1,r7
  015f0	f000 f800	 bl          NKDbgPrintfW
  015f4	defe		 __debugbreak
  015f6		 |$LN27@ActivityTi|

; 1521 : 
; 1522 :     // calculate the number of wake sources and allocate an array for them
; 1523 :     dwWakeSources = 0;
; 1524 :     pszSource = pszSources;
; 1525 :     while(*pszSource != 0) {

  015f6	f8b8 3000	 ldrh        r3,[r8]
  015fa	f04f 0a00	 mov         r10,#0
  015fe	4644		 mov         r4,r8
  01600	e008		 b           |$LN60@ActivityTi|
  01602		 |$LL19@ActivityTi|

; 1526 :         pszSource += _tcslen(pszSource) + 1;

  01602	4620		 mov         r0,r4
  01604	f000 f800	 bl          wcslen
  01608	1c43		 adds        r3,r0,#1
  0160a	eb04 0443	 add         r4,r4,r3,lsl #1
  0160e	8823		 ldrh        r3,[r4]

; 1527 :         dwWakeSources++;

  01610	f10a 0a01	 add         r10,r10,#1
  01614		 |$LN60@ActivityTi|

; 1521 : 
; 1522 :     // calculate the number of wake sources and allocate an array for them
; 1523 :     dwWakeSources = 0;
; 1524 :     pszSource = pszSources;
; 1525 :     while(*pszSource != 0) {

  01614	2b00		 cmp         r3,#0
  01616	d1f4		 bne         |$LL19@ActivityTi|

; 1528 :     }
; 1529 : 
; 1530 :     // allocate and initialize structure and members
; 1531 :     dwSize = sizeof(*pat) + ((dwWakeSources + 1) * sizeof(pat->pdwWakeSources[0])) 
; 1532 :         + ((_tcslen(pszName) + 1) * sizeof(*pszName));

  01618	4628		 mov         r0,r5
  0161a	f000 f800	 bl          wcslen

; 1533 :     pat = (PACTIVITY_TIMER) PmAlloc(dwSize);

  0161e	eb00 034a	 add         r3,r0,r10,lsl #1
  01622	3317		 adds        r3,r3,#0x17
  01624	0058		 lsls        r0,r3,#1
  01626	f000 f800	 bl          PmAlloc
  0162a	4604		 mov         r4,r0

; 1534 :     if(pat != NULL) {

  0162c	2c00		 cmp         r4,#0
  0162e	f000 80f7	 beq         |$LN1@ActivityTi|

; 1535 :         memset(pat, 0, sizeof(*pat));

  01632	2228		 movs        r2,#0x28
  01634	2100		 movs        r1,#0
  01636	f000 f800	 bl          memset

; 1536 :         pat->dwTimeout = dwTimeout;                 // timeout in milliseconds

  0163a	f8c4 9004	 str         r9,[r4,#4]

; 1537 :         if(pat->dwTimeout == 0) {

  0163e	f1b9 0f00	 cmp         r9,#0
  01642	d103		 bne         |$LN16@ActivityTi|

; 1538 :             pat->dwTimeLeft = INFINITE;

  01644	f06f 0300	 mvn         r3,#0
  01648	60a3		 str         r3,[r4,#8]

; 1539 :         } else {

  0164a	e001		 b           |$LN15@ActivityTi|
  0164c		 |$LN16@ActivityTi|

; 1540 :             pat->dwTimeLeft = pat->dwTimeout;

  0164c	f8c4 9008	 str         r9,[r4,#8]
  01650		 |$LN15@ActivityTi|

; 1541 :         }
; 1542 :         pat->pdwWakeSources = (LPDWORD) ((LPBYTE) pat + sizeof(*pat));

  01650	f114 0228	 adds        r2,r4,#0x28

; 1543 :         pat->pszName = (LPTSTR) ((LPBYTE) pat->pdwWakeSources 
; 1544 :             + ((dwWakeSources + 1) * sizeof(pat->pdwWakeSources[0])));

  01654	f10a 0301	 add         r3,r10,#1
  01658	61a2		 str         r2,[r4,#0x18]
  0165a	eb02 0383	 add         r3,r2,r3,lsl #2

; 1545 : 
; 1546 :         // create the reset event
; 1547 :         if(fOk &&
; 1548 :             StringCchPrintf(szPath, _countof(szPath), _T("PowerManager/ActivityTimer/%s"), pszName) != S_OK) {

  0165e	4a87		 ldr         r2,|$LN78@ActivityTi| ; =|??_C@_1DM@PMPBMFMH@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?1?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AA?1?$AA?$CF?$AAs?$AA?$AA@|
  01660	6023		 str         r3,[r4]
  01662	462b		 mov         r3,r5
  01664	a802		 add         r0,sp,#8
  01666	f44f 7182	 mov         r1,#0x104
  0166a	f000 f800	 bl          StringCchPrintfW
  0166e	b398		 cbz         r0,|$LN14@ActivityTi|

; 1549 :             PMLOGMSG(ZONE_WARN, (_T("%s: couldn't format event name for activity timer '%s'\r\n"),
; 1550 :                 pszFname, pszName));

  01670	f8d7 3440	 ldr         r3,[r7,#0x440]
  01674	f013 0f02	 tst         r3,#2
  01678	d009		 beq         |$LN28@ActivityTi|
  0167a	4977		 ldr         r1,|$LN69@ActivityTi| ; =|??_C@_1CI@MAPGODIM@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  0167c	487c		 ldr         r0,|$LN75@ActivityTi| ; =|??_C@_1HC@EKMABGEG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAf?$AAo?$AAr?$AAm?$AAa?$AAt?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAf@|
  0167e	462a		 mov         r2,r5
  01680	f000 f800	 bl          NKDbgPrintfW
  01684	4974		 ldr         r1,|$LN69@ActivityTi| ; =|??_C@_1CI@MAPGODIM@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  01686	487a		 ldr         r0,|$LN75@ActivityTi| ; =|??_C@_1HC@EKMABGEG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAf?$AAo?$AAr?$AAm?$AAa?$AAt?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAf@|
  01688	462a		 mov         r2,r5
  0168a	f000 f800	 bl          CeLogMsg
  0168e		 |$LN28@ActivityTi|

; 1551 :             fOk = FALSE;

  0168e	2600		 movs        r6,#0
  01690		 |$LN12@ActivityTi|

; 1563 :         } else {
; 1564 :             szPath[_countof(szPath)-1] = 0;

  01690	2300		 movs        r3,#0
  01692	f8ad 320e	 strh        r3,[sp,#0x20E]

; 1565 :             pat->hevActive = CreateEvent(NULL, TRUE, FALSE, szPath);

  01696	ab02		 add         r3,sp,#8
  01698	2200		 movs        r2,#0
  0169a	2101		 movs        r1,#1
  0169c	2000		 movs        r0,#0
  0169e	f000 f800	 bl          CreateEventW
  016a2	6120		 str         r0,[r4,#0x10]

; 1566 :         }
; 1567 : 
; 1568 :         // create the event indicating inactivity
; 1569 :         if(fOk &&
; 1570 :             StringCchPrintf(szPath, _countof(szPath), _T("PowerManager/%s_Inactive"), pszName) != S_OK) {

  016a4	b3de		 cbz         r6,|$LN10@ActivityTi|
  016a6	4a74		 ldr         r2,|$LN77@ActivityTi| ; =|??_C@_1DC@JJBBHDOP@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?1?$AA?$CF?$AAs?$AA_?$AAI?$AAn?$AAa?$AAc?$AAt?$AAi?$AAv?$AAe?$AA?$AA@|
  016a8	a802		 add         r0,sp,#8
  016aa	462b		 mov         r3,r5
  016ac	f44f 7182	 mov         r1,#0x104
  016b0	f000 f800	 bl          StringCchPrintfW
  016b4	b398		 cbz         r0,|$LN10@ActivityTi|

; 1571 :             PMLOGMSG(ZONE_WARN, (_T("%s: couldn't format event name for activity timer '%s'\r\n"),
; 1572 :                 pszFname, pszName));

  016b6	f8d7 3440	 ldr         r3,[r7,#0x440]
  016ba	f013 0f02	 tst         r3,#2
  016be	d009		 beq         |$LN36@ActivityTi|
  016c0	4965		 ldr         r1,|$LN69@ActivityTi| ; =|??_C@_1CI@MAPGODIM@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  016c2	486b		 ldr         r0,|$LN75@ActivityTi| ; =|??_C@_1HC@EKMABGEG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAf?$AAo?$AAr?$AAm?$AAa?$AAt?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAf@|
  016c4	462a		 mov         r2,r5
  016c6	f000 f800	 bl          NKDbgPrintfW
  016ca	4963		 ldr         r1,|$LN69@ActivityTi| ; =|??_C@_1CI@MAPGODIM@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  016cc	4868		 ldr         r0,|$LN75@ActivityTi| ; =|??_C@_1HC@EKMABGEG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAf?$AAo?$AAr?$AAm?$AAa?$AAt?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAf@|
  016ce	462a		 mov         r2,r5
  016d0	f000 f800	 bl          CeLogMsg
  016d4		 |$LN36@ActivityTi|

; 1573 :             fOk = FALSE;

  016d4	2600		 movs        r6,#0

; 1574 :         } else {

  016d6	e034		 b           |$LN58@ActivityTi|
  016d8		 |$LN14@ActivityTi|

; 1552 :         } else {
; 1553 :             szPath[_countof(szPath)-1] = 0;

  016d8	2300		 movs        r3,#0
  016da	f8ad 320e	 strh        r3,[sp,#0x20E]

; 1554 :             pat->hevReset = CreateEvent(NULL, FALSE, FALSE, szPath);

  016de	ab02		 add         r3,sp,#8
  016e0	2200		 movs        r2,#0
  016e2	2100		 movs        r1,#0
  016e4	2000		 movs        r0,#0
  016e6	f000 f800	 bl          CreateEventW

; 1555 :         }
; 1556 : 
; 1557 :         // create the event indicating activity
; 1558 :         if(fOk &&
; 1559 :             StringCchPrintf(szPath, _countof(szPath), _T("PowerManager/%s_Active"), pszName) != S_OK) {

  016ea	4a62		 ldr         r2,|$LN76@ActivityTi| ; =|??_C@_1CO@NKBHAHHA@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?1?$AA?$CF?$AAs?$AA_?$AAA?$AAc?$AAt?$AAi?$AAv?$AAe?$AA?$AA@|
  016ec	60e0		 str         r0,[r4,#0xC]
  016ee	a802		 add         r0,sp,#8
  016f0	462b		 mov         r3,r5
  016f2	f44f 7182	 mov         r1,#0x104
  016f6	f000 f800	 bl          StringCchPrintfW
  016fa	2800		 cmp         r0,#0
  016fc	d0c8		 beq         |$LN12@ActivityTi|

; 1560 :             PMLOGMSG(ZONE_WARN, (_T("%s: couldn't format event name for activity timer '%s'\r\n"),
; 1561 :                 pszFname, pszName));

  016fe	f8d7 3440	 ldr         r3,[r7,#0x440]
  01702	f013 0f02	 tst         r3,#2
  01706	d009		 beq         |$LN32@ActivityTi|
  01708	4953		 ldr         r1,|$LN69@ActivityTi| ; =|??_C@_1CI@MAPGODIM@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  0170a	4859		 ldr         r0,|$LN75@ActivityTi| ; =|??_C@_1HC@EKMABGEG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAf?$AAo?$AAr?$AAm?$AAa?$AAt?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAf@|
  0170c	462a		 mov         r2,r5
  0170e	f000 f800	 bl          NKDbgPrintfW
  01712	4951		 ldr         r1,|$LN69@ActivityTi| ; =|??_C@_1CI@MAPGODIM@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  01714	4856		 ldr         r0,|$LN75@ActivityTi| ; =|??_C@_1HC@EKMABGEG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAf?$AAo?$AAr?$AAm?$AAa?$AAt?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAf@|
  01716	462a		 mov         r2,r5
  01718	f000 f800	 bl          CeLogMsg
  0171c		 |$LN32@ActivityTi|

; 1562 :             fOk = FALSE;

  0171c	2600		 movs        r6,#0
  0171e		 |$LN10@ActivityTi|

; 1575 :             szPath[_countof(szPath)-1] = 0;

  0171e	2300		 movs        r3,#0
  01720	f8ad 320e	 strh        r3,[sp,#0x20E]

; 1576 :             pat->hevInactive = CreateEvent(NULL, TRUE, FALSE, szPath);

  01724	ab02		 add         r3,sp,#8
  01726	2200		 movs        r2,#0
  01728	2101		 movs        r1,#1
  0172a	2000		 movs        r0,#0
  0172c	f000 f800	 bl          CreateEventW
  01730	6160		 str         r0,[r4,#0x14]

; 1577 :         }
; 1578 : 
; 1579 :         if (fOk ) {

  01732	b136		 cbz         r6,|$LN58@ActivityTi|

; 1580 :             pat->hevAutoReset = CreateEvent(NULL, FALSE, FALSE, NULL);

  01734	2300		 movs        r3,#0
  01736	2200		 movs        r2,#0
  01738	2100		 movs        r1,#0
  0173a	2000		 movs        r0,#0
  0173c	f000 f800	 bl          CreateEventW
  01740	6260		 str         r0,[r4,#0x24]
  01742		 |$LN58@ActivityTi|

; 1581 :         }
; 1582 :         // did we get everything we needed?
; 1583 :         if(pat->hevReset == NULL || pat->hevActive == NULL || pat->hevInactive == NULL || pat->hevAutoReset == NULL) {

  01742	68e3		 ldr         r3,[r4,#0xC]
  01744	2b00		 cmp         r3,#0
  01746	d04f		 beq         |$LN6@ActivityTi|
  01748	6923		 ldr         r3,[r4,#0x10]
  0174a	2b00		 cmp         r3,#0
  0174c	d04c		 beq         |$LN6@ActivityTi|
  0174e	6963		 ldr         r3,[r4,#0x14]
  01750	2b00		 cmp         r3,#0
  01752	d049		 beq         |$LN6@ActivityTi|
  01754	6a63		 ldr         r3,[r4,#0x24]
  01756	2b00		 cmp         r3,#0
  01758	d046		 beq         |$LN6@ActivityTi|

; 1586 :             fOk = FALSE;
; 1587 :         } else {
; 1588 :             DWORD dwIndex;
; 1589 : 
; 1590 :             // init activity name
; 1591 :             VERIFY(SUCCEEDED(StringCchCopy(pat->pszName, _tcslen(pszName) + 1, pszName)));

  0175a	4628		 mov         r0,r5
  0175c	f000 f800	 bl          wcslen
  01760	1c41		 adds        r1,r0,#1
  01762	6820		 ldr         r0,[r4]
  01764	462a		 mov         r2,r5
  01766	f000 f800	 bl          StringCchCopyW
  0176a	2800		 cmp         r0,#0
  0176c	da07		 bge         |$LN43@ActivityTi|
  0176e	4a3d		 ldr         r2,|$LN72@ActivityTi| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  01770	493b		 ldr         r1,|$LN71@ActivityTi| ; =|??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  01772	483a		 ldr         r0,|$LN70@ActivityTi| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  01774	f240 6337	 mov         r3,#0x637
  01778	f000 f800	 bl          NKDbgPrintfW
  0177c	defe		 __debugbreak
  0177e		 |$LN43@ActivityTi|

; 1592 : 
; 1593 :             // init wake sources
; 1594 :             dwIndex = 0;

  0177e	f04f 0900	 mov         r9,#0
  01782	e029		 b           |$LN61@ActivityTi|
  01784		 |$LL4@ActivityTi|

; 1595 :             pszSource = pszSources;
; 1596 :             while(fOk && *pszSource != 0 && dwIndex < dwWakeSources) {

  01784	f8b8 3000	 ldrh        r3,[r8]
  01788	b343		 cbz         r3,|$LN59@ActivityTi|
  0178a	45d1		 cmp         r9,r10
  0178c	d226		 bcs         |$LN59@ActivityTi|

; 1597 :                 LPTSTR pszEnd;
; 1598 :                 pat->pdwWakeSources[dwIndex] = _tcstol(pszSource, &pszEnd, 0);

  0178e	2200		 movs        r2,#0
  01790	4669		 mov         r1,sp
  01792	4640		 mov         r0,r8
  01794	f000 f800	 bl          wcstol
  01798	69a3		 ldr         r3,[r4,#0x18]
  0179a	f843 0029	 str         r0,[r3,r9,lsl #2]

; 1599 :                 if(*pszEnd != 0) {

  0179e	9b00		 ldr         r3,[sp]
  017a0	881b		 ldrh        r3,[r3]
  017a2	b18b		 cbz         r3,|$LN2@ActivityTi|

; 1600 :                     PMLOGMSG(ZONE_WARN, 
; 1601 :                         (_T("%s: can't parse wake source '%s' for timer '%s'\r\n"),
; 1602 :                         pszFname, pszSource, pszName));

  017a4	f8d7 3440	 ldr         r3,[r7,#0x440]
  017a8	f013 0f02	 tst         r3,#2
  017ac	d00b		 beq         |$LN44@ActivityTi|
  017ae	492a		 ldr         r1,|$LN69@ActivityTi| ; =|??_C@_1CI@MAPGODIM@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  017b0	482e		 ldr         r0,|$LN74@ActivityTi| ; =|??_C@_1GE@CFEGDMOD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AAw?$AAa?$AAk?$AAe?$AA?5?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8@|
  017b2	462b		 mov         r3,r5
  017b4	4642		 mov         r2,r8
  017b6	f000 f800	 bl          NKDbgPrintfW
  017ba	4927		 ldr         r1,|$LN69@ActivityTi| ; =|??_C@_1CI@MAPGODIM@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  017bc	482b		 ldr         r0,|$LN74@ActivityTi| ; =|??_C@_1GE@CFEGDMOD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AAw?$AAa?$AAk?$AAe?$AA?5?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8@|
  017be	462b		 mov         r3,r5
  017c0	4642		 mov         r2,r8
  017c2	f000 f800	 bl          CeLogMsg
  017c6		 |$LN44@ActivityTi|

; 1603 :                     fOk = FALSE;

  017c6	2600		 movs        r6,#0
  017c8		 |$LN2@ActivityTi|

; 1604 :                 }
; 1605 :                 pszSource += _tcslen(pszSource) + 1;

  017c8	4640		 mov         r0,r8
  017ca	f000 f800	 bl          wcslen
  017ce	1c43		 adds        r3,r0,#1
  017d0	eb08 0843	 add         r8,r8,r3,lsl #1

; 1606 :                 dwIndex++;

  017d4	f109 0901	 add         r9,r9,#1
  017d8		 |$LN61@ActivityTi|

; 1595 :             pszSource = pszSources;
; 1596 :             while(fOk && *pszSource != 0 && dwIndex < dwWakeSources) {

  017d8	2e00		 cmp         r6,#0
  017da	d1d3		 bne         |$LL4@ActivityTi|
  017dc		 |$LN59@ActivityTi|

; 1607 :             }
; 1608 : 
; 1609 :             // terminate the list with SYSINTR_NOP
; 1610 :             pat->pdwWakeSources[dwIndex] = SYSINTR_NOP;

  017dc	69a3		 ldr         r3,[r4,#0x18]
  017de	2200		 movs        r2,#0

; 1611 :         }
; 1612 :     }
; 1613 : 
; 1614 : 
; 1615 :     // clean up if necessary
; 1616 :     if(!fOk && pat != NULL) {

  017e0	f843 2029	 str         r2,[r3,r9,lsl #2]
  017e4	b9e6		 cbnz        r6,|$LN1@ActivityTi|
  017e6	e00e		 b           |$LN57@ActivityTi|
  017e8		 |$LN6@ActivityTi|

; 1571 :             PMLOGMSG(ZONE_WARN, (_T("%s: couldn't format event name for activity timer '%s'\r\n"),
; 1572 :                 pszFname, pszName));

  017e8	f8d7 3440	 ldr         r3,[r7,#0x440]

; 1584 :             PMLOGMSG(ZONE_WARN, (_T("%s: resource allocation failed for '%s'\r\n"), 
; 1585 :                 pszFname, pszName));

  017ec	f013 0f02	 tst         r3,#2
  017f0	d009		 beq         |$LN57@ActivityTi|
  017f2	4919		 ldr         r1,|$LN69@ActivityTi| ; =|??_C@_1CI@MAPGODIM@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  017f4	481c		 ldr         r0,|$LN73@ActivityTi| ; =|??_C@_1FE@LNHDKALC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAf@|
  017f6	462a		 mov         r2,r5
  017f8	f000 f800	 bl          NKDbgPrintfW
  017fc	4916		 ldr         r1,|$LN69@ActivityTi| ; =|??_C@_1CI@MAPGODIM@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  017fe	481a		 ldr         r0,|$LN73@ActivityTi| ; =|??_C@_1FE@LNHDKALC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAf@|
  01800	462a		 mov         r2,r5
  01802	f000 f800	 bl          CeLogMsg
  01806		 |$LN57@ActivityTi|

; 1617 :         VERIFY(ActivityTimerDestroy(pat));

  01806	4620		 mov         r0,r4
  01808	f000 f800	 bl          ActivityTimerDestroy
  0180c	b938		 cbnz        r0,|$LN47@ActivityTi|
  0180e	4a15		 ldr         r2,|$LN72@ActivityTi| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  01810	4913		 ldr         r1,|$LN71@ActivityTi| ; =|??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  01812	4812		 ldr         r0,|$LN70@ActivityTi| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  01814	f240 6351	 mov         r3,#0x651
  01818	f000 f800	 bl          NKDbgPrintfW
  0181c	defe		 __debugbreak
  0181e		 |$LN47@ActivityTi|

; 1618 :         pat = NULL;

  0181e	2400		 movs        r4,#0
  01820		 |$LN1@ActivityTi|

; 1619 :     }
; 1620 : 
; 1621 :     PMLOGMSG(ZONE_INIT || (pat == NULL && ZONE_WARN), 
; 1622 :         (_T("%s: ActivityTimerCreate('%s') returning 0x%08x\r\n"), pszFname, pszName));

  01820	f8d7 3440	 ldr         r3,[r7,#0x440]
  01824	f013 0f04	 tst         r3,#4
  01828	d103		 bne         |$LN49@ActivityTi|
  0182a	b964		 cbnz        r4,|$LN50@ActivityTi|
  0182c	f013 0f02	 tst         r3,#2
  01830	d009		 beq         |$LN50@ActivityTi|
  01832		 |$LN49@ActivityTi|
  01832	4909		 ldr         r1,|$LN69@ActivityTi| ; =|??_C@_1CI@MAPGODIM@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  01834	4807		 ldr         r0,|$LN68@ActivityTi| ; =|??_C@_1GC@IBIDOKJC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAr?$AAe@|
  01836	462a		 mov         r2,r5
  01838	f000 f800	 bl          NKDbgPrintfW
  0183c	4906		 ldr         r1,|$LN69@ActivityTi| ; =|??_C@_1CI@MAPGODIM@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  0183e	4805		 ldr         r0,|$LN68@ActivityTi| ; =|??_C@_1GC@IBIDOKJC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAr?$AAe@|
  01840	462a		 mov         r2,r5
  01842	f000 f800	 bl          CeLogMsg
  01846		 |$LN50@ActivityTi|

; 1623 :     return pat;
; 1624 : }

  01846	4620		 mov         r0,r4
  01848		 |$M66|
  01848	f20d 2d10	 addw        sp,sp,#0x210
  0184c	f000 f800	 bl          __security_pop_cookie
  01850	e8bd 8ff0	 pop         {r4-r11,pc}
  01854		 |$LN67@ActivityTi|
  01854		 |$LN68@ActivityTi|
  01854	0000 0000	 DCD         |??_C@_1GC@IBIDOKJC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAr?$AAe@|
  01858		 |$LN69@ActivityTi|
  01858	0000 0000	 DCD         |??_C@_1CI@MAPGODIM@?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?$AA@|
  0185c		 |$LN70@ActivityTi|
  0185c	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  01860		 |$LN71@ActivityTi|
  01860	0000 0000	 DCD         |??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  01864		 |$LN72@ActivityTi|
  01864	0000 0000	 DCD         |??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  01868		 |$LN73@ActivityTi|
  01868	0000 0000	 DCD         |??_C@_1FE@LNHDKALC@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAf@|
  0186c		 |$LN74@ActivityTi|
  0186c	0000 0000	 DCD         |??_C@_1GE@CFEGDMOD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AAw?$AAa?$AAk?$AAe?$AA?5?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8@|
  01870		 |$LN75@ActivityTi|
  01870	0000 0000	 DCD         |??_C@_1HC@EKMABGEG@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAf?$AAo?$AAr?$AAm?$AAa?$AAt?$AA?5?$AAe?$AAv?$AAe?$AAn?$AAt?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAf@|
  01874		 |$LN76@ActivityTi|
  01874	0000 0000	 DCD         |??_C@_1CO@NKBHAHHA@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?1?$AA?$CF?$AAs?$AA_?$AAA?$AAc?$AAt?$AAi?$AAv?$AAe?$AA?$AA@|
  01878		 |$LN77@ActivityTi|
  01878	0000 0000	 DCD         |??_C@_1DC@JJBBHDOP@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?1?$AA?$CF?$AAs?$AA_?$AAI?$AAn?$AAa?$AAc?$AAt?$AAi?$AAv?$AAe?$AA?$AA@|
  0187c		 |$LN78@ActivityTi|
  0187c	0000 0000	 DCD         |??_C@_1DM@PMPBMFMH@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAM?$AAa?$AAn?$AAa?$AAg?$AAe?$AAr?$AA?1?$AAA?$AAc?$AAt?$AAi?$AAv?$AAi?$AAt?$AAy?$AAT?$AAi?$AAm?$AAe?$AAr?$AA?1?$AA?$CF?$AAs?$AA?$AA@|
  01880		 |$LN79@ActivityTi|
  01880	0000 0000	 DCD         |dpCurSettings|
  01884		 |$M64|

			 ENDP  ; |ActivityTimerCreate|

	EXPORT	|PowerNotificationRemList|

  00118			 AREA	 |.pdata|, PDATA
|$pdata1$PowerNotificationRemList| DCD imagerel |$LN27@PowerNotif|
	DCD	0xfd3260ed
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  01884			 AREA	 |.text|, CODE, THUMB

  01884		 |PowerNotificationRemList| PROC

; 1271 : {

  01884		 |$LN27@PowerNotif|
  01884	e92d 4878	 push        {r3-r6,r11,lr}
  01888	f20d 0b10	 addw        r11,sp,#0x10
  0188c		 |$M25|
  0188c	4605		 mov         r5,r0

; 1272 :     BOOL fOk = TRUE;

  0188e	2601		 movs        r6,#1

; 1273 : 
; 1274 :     PREFAST_DEBUGCHK(ppListHead != NULL);

  01890	460c		 mov         r4,r1
  01892	b93d		 cbnz        r5,|$LN16@PowerNotif|
  01894	4a1c		 ldr         r2,|$LN33@PowerNotif| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  01896	491b		 ldr         r1,|$LN32@PowerNotif| ; =|dpCurSettings|
  01898	4819		 ldr         r0,|$LN31@PowerNotif| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  0189a	f240 43fa	 mov         r3,#0x4FA
  0189e	f000 f800	 bl          NKDbgPrintfW
  018a2	defe		 __debugbreak
  018a4		 |$LN16@PowerNotif|

; 93   :     EnterCriticalSection(&gcsPowerManager);

  018a4	4815		 ldr         r0,|$LN30@PowerNotif| ; =|gcsPowerManager|
  018a6	f000 f800	 bl          EnterCriticalSection

; 1275 : 
; 1276 :     PMLOCK();
; 1277 :     // We have to check that ppn is in the ppListHead before we can delete it.
; 1278 :     PPOWER_NOTIFICATION pCurNotification = *ppListHead;

  018aa	682b		 ldr         r3,[r5]

; 1279 :     
; 1280 :     while (pCurNotification) {

  018ac	b1f3		 cbz         r3,|$LN8@PowerNotif|
  018ae		 |$LL12@PowerNotif|

; 1281 :         if (pCurNotification == ppn)

  018ae	42a3		 cmp         r3,r4
  018b0	d002		 beq         |$LN22@PowerNotif|

; 1282 :             break;
; 1283 :         else
; 1284 :             pCurNotification = pCurNotification->pNext ;

  018b2	68db		 ldr         r3,[r3,#0xC]
  018b4	2b00		 cmp         r3,#0
  018b6	d1fa		 bne         |$LL12@PowerNotif|
  018b8		 |$LN22@PowerNotif|

; 1285 :     };
; 1286 :     if (pCurNotification) {

  018b8	b1c3		 cbz         r3,|$LN8@PowerNotif|

; 1287 :         
; 1288 :         // are we at the head of the list?
; 1289 :         if(ppn->pPrev != NULL) {

  018ba	6922		 ldr         r2,[r4,#0x10]
  018bc	2100		 movs        r1,#0
  018be	b112		 cbz         r2,|$LN7@PowerNotif|

; 1290 :             ppn->pPrev->pNext = ppn->pNext;

  018c0	68e3		 ldr         r3,[r4,#0xC]
  018c2	60d3		 str         r3,[r2,#0xC]

; 1291 :         } else {

  018c4	e004		 b           |$LN6@PowerNotif|
  018c6		 |$LN7@PowerNotif|

; 1292 :             // not that if pNext == NULL && pPrev == NULL we are the only list
; 1293 :             // member and the assignment to the list head will set it to NULL (meaning
; 1294 :             // empty).
; 1295 :             if(ppn->pNext != NULL) {

  018c6	68e3		 ldr         r3,[r4,#0xC]
  018c8	b103		 cbz         r3,|$LN5@PowerNotif|

; 1296 :                 ppn->pNext->pPrev = NULL;

  018ca	6119		 str         r1,[r3,#0x10]
  018cc		 |$LN5@PowerNotif|

; 1297 :             }
; 1298 :             *ppListHead = ppn->pNext;

  018cc	68e3		 ldr         r3,[r4,#0xC]
  018ce	602b		 str         r3,[r5]
  018d0		 |$LN6@PowerNotif|

; 1299 :         }
; 1300 :         
; 1301 :         // are we at the tail of the list?
; 1302 :         if(ppn->pNext != NULL) {

  018d0	68e2		 ldr         r2,[r4,#0xC]
  018d2	b112		 cbz         r2,|$LN4@PowerNotif|

; 1303 :             ppn->pNext->pPrev = ppn->pPrev;

  018d4	6923		 ldr         r3,[r4,#0x10]
  018d6	6113		 str         r3,[r2,#0x10]

; 1304 :         } else {

  018d8	e002		 b           |$LN2@PowerNotif|
  018da		 |$LN4@PowerNotif|

; 1305 :             if(ppn->pPrev != NULL) {

  018da	6923		 ldr         r3,[r4,#0x10]
  018dc	b103		 cbz         r3,|$LN2@PowerNotif|

; 1306 :                 ppn->pPrev->pNext = NULL;

  018de	60d9		 str         r1,[r3,#0xC]
  018e0		 |$LN2@PowerNotif|

; 1307 :             }
; 1308 :         }
; 1309 : 
; 1310 :         // clear list pointers
; 1311 :         ppn->pNext = NULL;
; 1312 :         ppn->pPrev = NULL;
; 1313 : 
; 1314 :         // delete the structure and its members
; 1315 :         PowerNotificationDestroy(ppn);

  018e0	4620		 mov         r0,r4
  018e2	60e1		 str         r1,[r4,#0xC]
  018e4	6121		 str         r1,[r4,#0x10]
  018e6	f000 f800	 bl          PowerNotificationDestroy

; 1316 :     }
; 1317 :     else

  018ea	e000		 b           |$LN1@PowerNotif|
  018ec		 |$LN8@PowerNotif|

; 1318 :         fOk = FALSE ;

  018ec	2600		 movs        r6,#0
  018ee		 |$LN1@PowerNotif|

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  018ee	4803		 ldr         r0,|$LN30@PowerNotif| ; =|gcsPowerManager|
  018f0	f000 f800	 bl          LeaveCriticalSection

; 1319 :     
; 1320 :     PMUNLOCK();
; 1321 : 
; 1322 :     return fOk;
; 1323 : }

  018f4	4630		 mov         r0,r6
  018f6		 |$M28|
  018f6	e8bd 8878	 pop         {r3-r6,r11,pc}
  018fa		 |$LN34@PowerNotif|
  018fa		 |$M35|
  018fa	defe		 __debugbreak
  018fc		 |$LN29@PowerNotif|
  018fc		 |$LN30@PowerNotif|
  018fc	0000 0000	 DCD         |gcsPowerManager|
  01900		 |$LN31@PowerNotif|
  01900	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  01904		 |$LN32@PowerNotif|
  01904	0000 0000	 DCD         |dpCurSettings|
  01908		 |$LN33@PowerNotif|
  01908	0000 0000	 DCD         |??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  0190c		 |$M26|

			 ENDP  ; |PowerNotificationRemList|

	EXPORT	|??_C@_1CE@DCEBDKPO@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAD?$AAe?$AAc?$AAR?$AAe?$AAf?$AA?$AA@| [ DATA ] ; `string'

  00120			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceStateDecRef| DCD imagerel |$LN20@DeviceStat|
	DCD	0xfd326129

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CE@DCEBDKPO@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAD?$AAe?$AAc?$AAR?$AAe?$AAf?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "S"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "D", 0x0, "e"
	DCB	0x0, "c", 0x0, "R", 0x0, "e", 0x0, "f", 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  0190c			 AREA	 |.text|, CODE, THUMB

  0190c		 |DeviceStateDecRef| PROC

; 800  : {

  0190c		 |$LN20@DeviceStat|
  0190c	e92d 4878	 push        {r3-r6,r11,lr}
  01910	f20d 0b10	 addw        r11,sp,#0x10
  01914		 |$M18|
  01914	4604		 mov         r4,r0

; 801  :     BOOL fDestroy = FALSE;
; 802  :     SETFNAME(_T("DeviceStateDecRef"));
; 803  : 
; 804  :     PREFAST_DEBUGCHK(pds != NULL);

  01916	4d27		 ldr         r5,|$LN28@DeviceStat| ; =|dpCurSettings|
  01918	2600		 movs        r6,#0
  0191a	b93c		 cbnz        r4,|$LN6@DeviceStat|
  0191c	4a22		 ldr         r2,|$LN25@DeviceStat| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  0191e	4821		 ldr         r0,|$LN24@DeviceStat| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  01920	f44f 7349	 mov         r3,#0x324
  01924	4629		 mov         r1,r5
  01926	f000 f800	 bl          NKDbgPrintfW
  0192a	defe		 __debugbreak
  0192c		 |$LN6@DeviceStat|

; 93   :     EnterCriticalSection(&gcsPowerManager);

  0192c	481c		 ldr         r0,|$LN23@DeviceStat| ; =|gcsPowerManager|
  0192e	f000 f800	 bl          EnterCriticalSection

; 805  : 
; 806  :     PMLOCK();
; 807  :     DEBUGCHK(pds->dwRefCount > 0);

  01932	6da3		 ldr         r3,[r4,#0x58]
  01934	b93b		 cbnz        r3,|$LN8@DeviceStat|
  01936	4a1c		 ldr         r2,|$LN25@DeviceStat| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  01938	481a		 ldr         r0,|$LN24@DeviceStat| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  0193a	f240 3327	 mov         r3,#0x327
  0193e	4629		 mov         r1,r5
  01940	f000 f800	 bl          NKDbgPrintfW
  01944	defe		 __debugbreak
  01946		 |$LN8@DeviceStat|

; 808  :     pds->dwRefCount--;

  01946	6da3		 ldr         r3,[r4,#0x58]
  01948	3b01		 subs        r3,#1
  0194a	65a3		 str         r3,[r4,#0x58]

; 809  :     PMLOGMSG(ZONE_REFCNT, (_T("%s: refcnt for 0x%08x set to %d\r\n"), pszFname,
; 810  :         pds, pds->dwRefCount));

  0194c	f8d5 2440	 ldr         r2,[r5,#0x440]
  01950	f012 0f40	 tst         r2,#0x40
  01954	d00a		 beq         |$LN9@DeviceStat|
  01956	4916		 ldr         r1,|$LN27@DeviceStat| ; =|??_C@_1CE@DCEBDKPO@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAD?$AAe?$AAc?$AAR?$AAe?$AAf?$AA?$AA@|
  01958	4814		 ldr         r0,|$LN26@DeviceStat| ; =|??_C@_1EE@LALFIHHK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAf?$AAc?$AAn?$AAt?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAd?$AA?$AN@|
  0195a	4622		 mov         r2,r4
  0195c	f000 f800	 bl          NKDbgPrintfW
  01960	6da3		 ldr         r3,[r4,#0x58]
  01962	4913		 ldr         r1,|$LN27@DeviceStat| ; =|??_C@_1CE@DCEBDKPO@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAD?$AAe?$AAc?$AAR?$AAe?$AAf?$AA?$AA@|
  01964	4811		 ldr         r0,|$LN26@DeviceStat| ; =|??_C@_1EE@LALFIHHK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAf?$AAc?$AAn?$AAt?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAd?$AA?$AN@|
  01966	4622		 mov         r2,r4
  01968	f000 f800	 bl          CeLogMsg
  0196c		 |$LN9@DeviceStat|

; 811  :     if(pds->dwRefCount == 0) {

  0196c	6da3		 ldr         r3,[r4,#0x58]
  0196e	b973		 cbnz        r3,|$LN2@DeviceStat|

; 812  :         DEBUGCHK(pds->pListHead == NULL && pds->pNext == NULL && pds->pPrev == NULL);

  01970	6e63		 ldr         r3,[r4,#0x64]
  01972	b91b		 cbnz        r3,|$LN11@DeviceStat|
  01974	6ea3		 ldr         r3,[r4,#0x68]
  01976	b90b		 cbnz        r3,|$LN11@DeviceStat|
  01978	6ee3		 ldr         r3,[r4,#0x6C]
  0197a	b13b		 cbz         r3,|$LN12@DeviceStat|
  0197c		 |$LN11@DeviceStat|
  0197c	4a0a		 ldr         r2,|$LN25@DeviceStat| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  0197e	4809		 ldr         r0,|$LN24@DeviceStat| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  01980	f44f 734b	 mov         r3,#0x32C
  01984	4629		 mov         r1,r5
  01986	f000 f800	 bl          NKDbgPrintfW
  0198a	defe		 __debugbreak
  0198c		 |$LN12@DeviceStat|

; 813  :         fDestroy = TRUE;

  0198c	2601		 movs        r6,#1
  0198e		 |$LN2@DeviceStat|

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  0198e	4804		 ldr         r0,|$LN23@DeviceStat| ; =|gcsPowerManager|
  01990	f000 f800	 bl          LeaveCriticalSection

; 814  :     }
; 815  :     PMUNLOCK();
; 816  : 
; 817  :     // is it time to get rid of the device?
; 818  :     if(fDestroy) {

  01994	b116		 cbz         r6,|$LN1@DeviceStat|

; 819  :         DeviceStateDestroy(pds);

  01996	4620		 mov         r0,r4
  01998	f000 f800	 bl          DeviceStateDestroy
  0199c		 |$LN1@DeviceStat|
  0199c		 |$M21|

; 820  :     }
; 821  : }

  0199c	e8bd 8878	 pop         {r3-r6,r11,pc}
  019a0		 |$LN22@DeviceStat|
  019a0		 |$LN23@DeviceStat|
  019a0	0000 0000	 DCD         |gcsPowerManager|
  019a4		 |$LN24@DeviceStat|
  019a4	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  019a8		 |$LN25@DeviceStat|
  019a8	0000 0000	 DCD         |??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  019ac		 |$LN26@DeviceStat|
  019ac	0000 0000	 DCD         |??_C@_1EE@LALFIHHK@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAf?$AAc?$AAn?$AAt?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAd?$AA?$AN@|
  019b0		 |$LN27@DeviceStat|
  019b0	0000 0000	 DCD         |??_C@_1CE@DCEBDKPO@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAD?$AAe?$AAc?$AAR?$AAe?$AAf?$AA?$AA@|
  019b4		 |$LN28@DeviceStat|
  019b4	0000 0000	 DCD         |dpCurSettings|
  019b8		 |$M19|

			 ENDP  ; |DeviceStateDecRef|

	EXPORT	|??_C@_1DE@OOEKDBLE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CI@CGAEIIBO@?$AAC?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AAT?$AAo?$AAG?$AAu?$AAi?$AAd?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DC@FIBMBACO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAg?$AAu?$AAi?$AAd?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|ConvertStringToGuid|

  00128			 AREA	 |.pdata|, PDATA
|$pdata1$ConvertStringToGuid| DCD imagerel |$LN25@ConvertStr|
	DCD	imagerel |$unwind2$ConvertStringToGuid|

  001d8			 AREA	 |.xdata|, DATA
|$unwind2$ConvertStringToGuid| DCD 0x2010003e
	DCD	0xfca8fcc7
	DCD	0xff
	DCD	imagerel |__C_specific_handler|
	DCD	0x1
	DCD	imagerel |$LN16@ConvertStr|
	DCD	imagerel |$LN17@ConvertStr|
	DCD	0x1
	DCD	imagerel |$LN13@ConvertStr|

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DC@FIBMBACO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAg?$AAu?$AAi?$AAd?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "r", 0x0, "r"
	DCB	0x0, "o", 0x0, "r", 0x0, " ", 0x0, "p", 0x0, "a", 0x0, "r"
	DCB	0x0, "s", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "g"
	DCB	0x0, "u", 0x0, "i", 0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CI@CGAEIIBO@?$AAC?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AAT?$AAo?$AAG?$AAu?$AAi?$AAd?$AA?$AA@| DCB "C"
	DCB	0x0, "o", 0x0, "n", 0x0, "v", 0x0, "e", 0x0, "r", 0x0, "t"
	DCB	0x0, "S", 0x0, "t", 0x0, "r", 0x0, "i", 0x0, "n", 0x0, "g"
	DCB	0x0, "T", 0x0, "o", 0x0, "G", 0x0, "u", 0x0, "i", 0x0, "d"
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DE@OOEKDBLE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "c", 0x0, "o", 0x0, "u"
	DCB	0x0, "l", 0x0, "d", 0x0, "n", 0x0, "'", 0x0, "t", 0x0, " "
	DCB	0x0, "p", 0x0, "a", 0x0, "r", 0x0, "s", 0x0, "e", 0x0, " "
	DCB	0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  019b8			 AREA	 |.text|, CODE, THUMB

  019b8		 |ConvertStringToGuid| PROC

; 315  : {

  019b8		 |$LN25@ConvertStr|
  019b8	e92d 48fc	 push        {r2-r7,r11,lr}
  019bc	f20d 0b18	 addw        r11,sp,#0x18
  019c0	466f		 mov         r7,sp
  019c2		 |$LN23@ConvertStr|
  019c2	460e		 mov         r6,r1
  019c4	4605		 mov         r5,r0

; 316  :     BOOL fOk = FALSE;

  019c6	2300		 movs        r3,#0
  019c8	603b		 str         r3,[r7]

; 317  :     SETFNAME(_T("ConvertStringToGuid"));
; 318  : 
; 319  :     DEBUGCHK(pGuid != NULL && pszGuid != NULL);

  019ca	b116		 cbz         r6,|$LN5@ConvertStr|
  019cc	b10d		 cbz         r5,|$LN5@ConvertStr|
  019ce	4c1b		 ldr         r4,|$LN31@ConvertStr| ; =|dpCurSettings|
  019d0	e008		 b           |$LN6@ConvertStr|
  019d2		 |$LN5@ConvertStr|
  019d2	f240 133f	 mov         r3,#0x13F
  019d6	4a1c		 ldr         r2,|$LN34@ConvertStr| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  019d8	4c18		 ldr         r4,|$LN31@ConvertStr| ; =|dpCurSettings|
  019da	481a		 ldr         r0,|$LN33@ConvertStr| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  019dc	4621		 mov         r1,r4
  019de	f000 f800	 bl          NKDbgPrintfW
  019e2	defe		 __debugbreak
  019e4		 |$LN6@ConvertStr|
  019e4		 |$LN16@ConvertStr|

; 320  :     __try {
; 321  :         if (! GUIDFromString(pszGuid, pGuid)) {

  019e4	4631		 mov         r1,r6
  019e6	4628		 mov         r0,r5
  019e8	f000 f800	 bl          |?GUIDFromString@@YAHPBGPAU_GUID@@@Z|
  019ec	b970		 cbnz        r0,|$LN7@ConvertStr|

; 322  :             PMLOGMSG(ZONE_WARN, (_T("%s: couldn't parse '%s'\r\n"), pszFname,
; 323  :                 pszGuid));

  019ee	f8d4 3440	 ldr         r3,[r4,#0x440]
  019f2	f013 0f02	 tst         r3,#2
  019f6	d009		 beq         |$LN7@ConvertStr|
  019f8	462a		 mov         r2,r5
  019fa	490f		 ldr         r1,|$LN30@ConvertStr| ; =|??_C@_1CI@CGAEIIBO@?$AAC?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AAT?$AAo?$AAG?$AAu?$AAi?$AAd?$AA?$AA@|
  019fc	4810		 ldr         r0,|$LN32@ConvertStr| ; =|??_C@_1DE@OOEKDBLE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@|
  019fe	f000 f800	 bl          NKDbgPrintfW
  01a02	462a		 mov         r2,r5
  01a04	490c		 ldr         r1,|$LN30@ConvertStr| ; =|??_C@_1CI@CGAEIIBO@?$AAC?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AAT?$AAo?$AAG?$AAu?$AAi?$AAd?$AA?$AA@|
  01a06	480e		 ldr         r0,|$LN32@ConvertStr| ; =|??_C@_1DE@OOEKDBLE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@|
  01a08	f000 f800	 bl          CeLogMsg
  01a0c		 |$LN7@ConvertStr|

; 324  :         }
; 325  :         fOk = TRUE;

  01a0c	2001		 movs        r0,#1
  01a0e	6038		 str         r0,[r7]
  01a10		 |$LN17@ConvertStr|

; 326  :     }

  01a10	e00e		 b           |$LN3@ConvertStr|
  01a12		 |$LN13@ConvertStr|
  01a12		 |$LN15@ConvertStr|

; 327  :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 328  :         PMLOGMSG(ZONE_WARN, (_T("%s: error parsing guid\r\n"), pszFname));

  01a12	4b0a		 ldr         r3,|$LN31@ConvertStr| ; =|dpCurSettings|
  01a14	f8d3 3440	 ldr         r3,[r3,#0x440]
  01a18	f013 0f02	 tst         r3,#2
  01a1c	d007		 beq         |$LN9@ConvertStr|
  01a1e	4906		 ldr         r1,|$LN30@ConvertStr| ; =|??_C@_1CI@CGAEIIBO@?$AAC?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AAT?$AAo?$AAG?$AAu?$AAi?$AAd?$AA?$AA@|
  01a20	4804		 ldr         r0,|$LN29@ConvertStr| ; =|??_C@_1DC@FIBMBACO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAg?$AAu?$AAi?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  01a22	f000 f800	 bl          NKDbgPrintfW
  01a26	4904		 ldr         r1,|$LN30@ConvertStr| ; =|??_C@_1CI@CGAEIIBO@?$AAC?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AAT?$AAo?$AAG?$AAu?$AAi?$AAd?$AA?$AA@|
  01a28	4802		 ldr         r0,|$LN29@ConvertStr| ; =|??_C@_1DC@FIBMBACO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAg?$AAu?$AAi?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  01a2a	f000 f800	 bl          CeLogMsg
  01a2e		 |$LN9@ConvertStr|
  01a2e	6838		 ldr         r0,[r7]
  01a30		 |$LN3@ConvertStr|
  01a30		 |$M27|

; 329  :     }
; 330  : 
; 331  :     return fOk;
; 332  : }

  01a30	e8bd 88fc	 pop         {r2-r7,r11,pc}
  01a34		 |$LN28@ConvertStr|
  01a34		 |$LN29@ConvertStr|
  01a34	0000 0000	 DCD         |??_C@_1DC@FIBMBACO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAg?$AAu?$AAi?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  01a38		 |$LN30@ConvertStr|
  01a38	0000 0000	 DCD         |??_C@_1CI@CGAEIIBO@?$AAC?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AAT?$AAo?$AAG?$AAu?$AAi?$AAd?$AA?$AA@|
  01a3c		 |$LN31@ConvertStr|
  01a3c	0000 0000	 DCD         |dpCurSettings|
  01a40		 |$LN32@ConvertStr|
  01a40	0000 0000	 DCD         |??_C@_1DE@OOEKDBLE@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAo?$AAu?$AAl?$AAd?$AAn?$AA?8?$AAt?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$AN?$AA?6?$AA?$AA@|
  01a44		 |$LN33@ConvertStr|
  01a44	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  01a48		 |$LN34@ConvertStr|
  01a48	0000 0000	 DCD         |??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|

			 ENDP  ; |ConvertStringToGuid|

  01a4c		 |$LN24@ConvertStr|
	EXPORT	|??_C@_1DC@DKENJKMJ@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAR?$AAe?$AAs?$AAt?$AAr?$AAi?$AAc?$AAt?$AAi?$AAo?$AAn?$AAF?$AAi?$AAn?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EK@KNCJBHEM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAw?$AAh?$AAi?$AAl?$AAe?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi@| [ DATA ] ; `string'
	EXPORT	|PowerRestrictionFindList|

  00130			 AREA	 |.pdata|, PDATA
|$pdata1$PowerRestrictionFindList| DCD imagerel |$LN33@PowerRestr|
	DCD	imagerel |$unwind2$PowerRestrictionFindList|

  001fc			 AREA	 |.xdata|, DATA
	%	4
|$unwind2$PowerRestrictionFindList| DCD 0x20100037
	DCD	0xfca8fcc7
	DCD	0xff
	DCD	imagerel |__C_specific_handler|
	DCD	0x1
	DCD	imagerel |$LN17@PowerRestr|
	DCD	imagerel |$LN18@PowerRestr|
	DCD	0x1
	DCD	imagerel |$LN14@PowerRestr|

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EK@KNCJBHEM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAw?$AAh?$AAi?$AAl?$AAe?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "x", 0x0, "c"
	DCB	0x0, "e", 0x0, "p", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, " ", 0x0, "w", 0x0, "h", 0x0, "i", 0x0, "l", 0x0, "e"
	DCB	0x0, " ", 0x0, "s", 0x0, "e", 0x0, "a", 0x0, "r", 0x0, "c"
	DCB	0x0, "h", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "l"
	DCB	0x0, "i", 0x0, "s", 0x0, "t", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DC@DKENJKMJ@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAR?$AAe?$AAs?$AAt?$AAr?$AAi?$AAc?$AAt?$AAi?$AAo?$AAn?$AAF?$AAi?$AAn?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@| DCB "P"
	DCB	0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "R", 0x0, "e"
	DCB	0x0, "s", 0x0, "t", 0x0, "r", 0x0, "i", 0x0, "c", 0x0, "t"
	DCB	0x0, "i", 0x0, "o", 0x0, "n", 0x0, "F", 0x0, "i", 0x0, "n"
	DCB	0x0, "d", 0x0, "L", 0x0, "i", 0x0, "s", 0x0, "t", 0x0, 0x0
	DCB	0x0					; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  01a4c			 AREA	 |.text|, CODE, THUMB

  01a4c		 |PowerRestrictionFindList| PROC

; 1126 : {

  01a4c		 |$LN33@PowerRestr|
  01a4c	e92d 48fc	 push        {r2-r7,r11,lr}
  01a50	f20d 0b18	 addw        r11,sp,#0x18
  01a54	466f		 mov         r7,sp
  01a56		 |$LN31@PowerRestr|
  01a56	4615		 mov         r5,r2
  01a58	460e		 mov         r6,r1
  01a5a	4604		 mov         r4,r0

; 1127 :     PDEVICE_POWER_RESTRICTION pdpr;
; 1128 :     SETFNAME(_T("PowerRestrictionFindList"));

  01a5c	4b1a		 ldr         r3,|$LN40@PowerRestr| ; =|??_C@_1DC@DKENJKMJ@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAR?$AAe?$AAs?$AAt?$AAr?$AAi?$AAc?$AAt?$AAi?$AAo?$AAn?$AAF?$AAi?$AAn?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@|
  01a5e	603b		 str         r3,[r7]

; 93   :     EnterCriticalSection(&gcsPowerManager);

  01a60	4816		 ldr         r0,|$LN37@PowerRestr| ; =|gcsPowerManager|
  01a62	f000 f800	 bl          EnterCriticalSection
  01a66		 |$LN17@PowerRestr|

; 1129 : 
; 1130 :     PMLOCK();
; 1131 : 
; 1132 :     __try {
; 1133 :         // look for a match
; 1134 :         for(pdpr = pList; pdpr != NULL; pdpr = pdpr->pNext) {

  01a66	607c		 str         r4,[r7,#4]
  01a68	b184		 cbz         r4,|$LN18@PowerRestr|

; 1135 :             if(DeviceIdsAreEqual(pdpr->pDeviceId, pDeviceId)
; 1136 :                 && (pszSystemState == NULL && pdpr->pszSystemState == NULL
; 1137 :                 || (pszSystemState != NULL && pdpr->pszSystemState != NULL 
; 1138 :                     && _tcscmp(pszSystemState, pdpr->pszSystemState) == 0))) {

  01a6a	6820		 ldr         r0,[r4]
  01a6c	4631		 mov         r1,r6
  01a6e	f000 f800	 bl          |?DeviceIdsAreEqual@@YAHPAU_DeviceId_tag@@0@Z|
  01a72	b148		 cbz         r0,|$LN3@PowerRestr|
  01a74	b915		 cbnz        r5,|$LN30@PowerRestr|
  01a76	68e3		 ldr         r3,[r4,#0xC]
  01a78	b143		 cbz         r3,|$LN18@PowerRestr|
  01a7a	b12d		 cbz         r5,|$LN3@PowerRestr|
  01a7c		 |$LN30@PowerRestr|
  01a7c	68e1		 ldr         r1,[r4,#0xC]
  01a7e	b119		 cbz         r1,|$LN3@PowerRestr|
  01a80	4628		 mov         r0,r5
  01a82	f000 f800	 bl          wcscmp
  01a86	b108		 cbz         r0,|$LN18@PowerRestr|
  01a88		 |$LN3@PowerRestr|

; 1129 : 
; 1130 :     PMLOCK();
; 1131 : 
; 1132 :     __try {
; 1133 :         // look for a match
; 1134 :         for(pdpr = pList; pdpr != NULL; pdpr = pdpr->pNext) {

  01a88	6964		 ldr         r4,[r4,#0x14]
  01a8a	e7ec		 b           |$LN17@PowerRestr|
  01a8c		 |$LN18@PowerRestr|

; 1139 :                 break;
; 1140 :             }
; 1141 :         }

  01a8c	e00f		 b           |$LN19@PowerRestr|
  01a8e		 |$LN14@PowerRestr|
  01a8e		 |$LN16@PowerRestr|

; 1142 :     }
; 1143 :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 1144 :         PMLOGMSG(ZONE_WARN, (_T("%s: exception while searching list\r\n"),
; 1145 :             pszFname));

  01a8e	4b0d		 ldr         r3,|$LN39@PowerRestr| ; =|dpCurSettings|
  01a90	f8d3 3440	 ldr         r3,[r3,#0x440]
  01a94	f013 0f02	 tst         r3,#2
  01a98	d007		 beq         |$LN10@PowerRestr|
  01a9a	6839		 ldr         r1,[r7]
  01a9c	4808		 ldr         r0,|$LN38@PowerRestr| ; =|??_C@_1EK@KNCJBHEM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAw?$AAh?$AAi?$AAl?$AAe?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi@|
  01a9e	f000 f800	 bl          NKDbgPrintfW
  01aa2	6839		 ldr         r1,[r7]
  01aa4	4806		 ldr         r0,|$LN38@PowerRestr| ; =|??_C@_1EK@KNCJBHEM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAw?$AAh?$AAi?$AAl?$AAe?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi@|
  01aa6	f000 f800	 bl          CeLogMsg
  01aaa		 |$LN10@PowerRestr|

; 1146 :         pdpr = NULL;

  01aaa	2400		 movs        r4,#0
  01aac	607c		 str         r4,[r7,#4]
  01aae		 |$LN19@PowerRestr|

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  01aae	4803		 ldr         r0,|$LN37@PowerRestr| ; =|gcsPowerManager|
  01ab0	f000 f800	 bl          LeaveCriticalSection

; 1147 :     }
; 1148 : 
; 1149 :     PMUNLOCK();
; 1150 : 
; 1151 :     return pdpr;
; 1152 : }

  01ab4	4620		 mov         r0,r4
  01ab6		 |$M35|
  01ab6	e8bd 88fc	 pop         {r2-r7,r11,pc}
  01aba		 |$LN41@PowerRestr|
  01aba		 |$M42|
  01aba	defe		 __debugbreak
  01abc		 |$LN36@PowerRestr|
  01abc		 |$LN37@PowerRestr|
  01abc	0000 0000	 DCD         |gcsPowerManager|
  01ac0		 |$LN38@PowerRestr|
  01ac0	0000 0000	 DCD         |??_C@_1EK@KNCJBHEM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAw?$AAh?$AAi?$AAl?$AAe?$AA?5?$AAs?$AAe?$AAa?$AAr?$AAc?$AAh?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAi@|
  01ac4		 |$LN39@PowerRestr|
  01ac4	0000 0000	 DCD         |dpCurSettings|
  01ac8		 |$LN40@PowerRestr|
  01ac8	0000 0000	 DCD         |??_C@_1DC@DKENJKMJ@?$AAP?$AAo?$AAw?$AAe?$AAr?$AAR?$AAe?$AAs?$AAt?$AAr?$AAi?$AAc?$AAt?$AAi?$AAo?$AAn?$AAF?$AAi?$AAn?$AAd?$AAL?$AAi?$AAs?$AAt?$AA?$AA@|

			 ENDP  ; |PowerRestrictionFindList|

  01acc		 |$LN32@PowerRestr|
	EXPORT	|??_C@_1FM@HONKCJKL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAm?$AAo?$AAv?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAf?$AAr?$AAo?$AAm?$AA?5@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CG@MJDKKDFD@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAR?$AAe?$AAm?$AAL?$AAi?$AAs?$AAt?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|DeviceStateRemList|

  00138			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceStateRemList| DCD imagerel |$LN22@DeviceStat|
	DCD	0xfd716145

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CG@MJDKKDFD@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAR?$AAe?$AAm?$AAL?$AAi?$AAs?$AAt?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "S"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "R", 0x0, "e"
	DCB	0x0, "m", 0x0, "L", 0x0, "i", 0x0, "s", 0x0, "t", 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FM@HONKCJKL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAm?$AAo?$AAv?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAf?$AAr?$AAo?$AAm?$AA?5@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "r", 0x0, "e", 0x0, "m"
	DCB	0x0, "o", 0x0, "v", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " "
	DCB	0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x"
	DCB	0x0, " ", 0x0, "(", 0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'"
	DCB	0x0, ")", 0x0, " ", 0x0, "f", 0x0, "r", 0x0, "o", 0x0, "m"
	DCB	0x0, " ", 0x0, "l", 0x0, "i", 0x0, "s", 0x0, "t", 0x0, " "
	DCB	0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  01acc			 AREA	 |.text|, CODE, THUMB

  01acc		 |DeviceStateRemList| PROC

; 865  : {

  01acc		 |$LN22@DeviceStat|
  01acc	e92d 483c	 push        {r2-r5,r11,lr}
  01ad0	f20d 0b10	 addw        r11,sp,#0x10
  01ad4		 |$M20|
  01ad4	4604		 mov         r4,r0

; 866  :     BOOL fOk = TRUE;
; 867  :     SETFNAME(_T("DeviceStateRemList"));
; 868  :     PREFAST_DEBUGCHK(pds != NULL);

  01ad6	4d2b		 ldr         r5,|$LN30@DeviceStat| ; =|dpCurSettings|
  01ad8	b93c		 cbnz        r4,|$LN10@DeviceStat|
  01ada	4a29		 ldr         r2,|$LN29@DeviceStat| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  01adc	4827		 ldr         r0,|$LN28@DeviceStat| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  01ade	f44f 7359	 mov         r3,#0x364
  01ae2	4629		 mov         r1,r5
  01ae4	f000 f800	 bl          NKDbgPrintfW
  01ae8	defe		 __debugbreak
  01aea		 |$LN10@DeviceStat|

; 869  :     PREFAST_DEBUGCHK(pds->pListHead != NULL);

  01aea	6e63		 ldr         r3,[r4,#0x64]
  01aec	b93b		 cbnz        r3,|$LN12@DeviceStat|
  01aee	4a24		 ldr         r2,|$LN29@DeviceStat| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  01af0	4822		 ldr         r0,|$LN28@DeviceStat| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  01af2	f240 3365	 mov         r3,#0x365
  01af6	4629		 mov         r1,r5
  01af8	f000 f800	 bl          NKDbgPrintfW
  01afc	defe		 __debugbreak
  01afe		 |$LN12@DeviceStat|

; 870  :     
; 871  :     PMLOGMSG(ZONE_REFCNT | ZONE_DEVICE, 
; 872  :         (_T("%s: removing 0x%08x ('%s') from list 0x%08x\r\n"),
; 873  :         pszFname, pds, pds->pszName, pds->pListHead));

  01afe	f8d5 3440	 ldr         r3,[r5,#0x440]
  01b02	f013 0f50	 tst         r3,#0x50
  01b06	d00f		 beq         |$LN13@DeviceStat|
  01b08	6e63		 ldr         r3,[r4,#0x64]
  01b0a	491b		 ldr         r1,|$LN27@DeviceStat| ; =|??_C@_1CG@MJDKKDFD@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAR?$AAe?$AAm?$AAL?$AAi?$AAs?$AAt?$AA?$AA@|
  01b0c	4819		 ldr         r0,|$LN26@DeviceStat| ; =|??_C@_1FM@HONKCJKL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAm?$AAo?$AAv?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAf?$AAr?$AAo?$AAm?$AA?5@|
  01b0e	9300		 str         r3,[sp]
  01b10	6823		 ldr         r3,[r4]
  01b12	4622		 mov         r2,r4
  01b14	f000 f800	 bl          NKDbgPrintfW
  01b18	6e63		 ldr         r3,[r4,#0x64]
  01b1a	4917		 ldr         r1,|$LN27@DeviceStat| ; =|??_C@_1CG@MJDKKDFD@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAR?$AAe?$AAm?$AAL?$AAi?$AAs?$AAt?$AA?$AA@|
  01b1c	4815		 ldr         r0,|$LN26@DeviceStat| ; =|??_C@_1FM@HONKCJKL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAm?$AAo?$AAv?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAf?$AAr?$AAo?$AAm?$AA?5@|
  01b1e	9300		 str         r3,[sp]
  01b20	6823		 ldr         r3,[r4]
  01b22	4622		 mov         r2,r4
  01b24	f000 f800	 bl          CeLogMsg
  01b28		 |$LN13@DeviceStat|

; 93   :     EnterCriticalSection(&gcsPowerManager);

  01b28	4811		 ldr         r0,|$LN25@DeviceStat| ; =|gcsPowerManager|
  01b2a	f000 f800	 bl          EnterCriticalSection

; 874  : 
; 875  :     PMLOCK();
; 876  : 
; 877  :     // are we at the head of the list?
; 878  :     if(pds->pPrev != NULL) {

  01b2e	6ee2		 ldr         r2,[r4,#0x6C]
  01b30	2100		 movs        r1,#0
  01b32	b112		 cbz         r2,|$LN6@DeviceStat|

; 879  :         pds->pPrev->pNext = pds->pNext;

  01b34	6ea3		 ldr         r3,[r4,#0x68]
  01b36	6693		 str         r3,[r2,#0x68]

; 880  :     } else {

  01b38	e005		 b           |$LN5@DeviceStat|
  01b3a		 |$LN6@DeviceStat|

; 881  :         // not that if pNext == NULL && pPrev == NULL we are the only list
; 882  :         // member and the assignment to the list head will set it to NULL (meaning
; 883  :         // empty).
; 884  :         if(pds->pNext != NULL) {

  01b3a	6ea3		 ldr         r3,[r4,#0x68]
  01b3c	b103		 cbz         r3,|$LN4@DeviceStat|

; 885  :             pds->pNext->pPrev = NULL;

  01b3e	66d9		 str         r1,[r3,#0x6C]
  01b40		 |$LN4@DeviceStat|

; 886  :         }
; 887  :         pds->pListHead->pList = pds->pNext;

  01b40	6e62		 ldr         r2,[r4,#0x64]
  01b42	6ea3		 ldr         r3,[r4,#0x68]
  01b44	6053		 str         r3,[r2,#4]
  01b46		 |$LN5@DeviceStat|

; 888  :     }
; 889  :     
; 890  :     // are we at the tail of the list?
; 891  :     if(pds->pNext != NULL) {

  01b46	6ea2		 ldr         r2,[r4,#0x68]
  01b48	b112		 cbz         r2,|$LN3@DeviceStat|

; 892  :         pds->pNext->pPrev = pds->pPrev;

  01b4a	6ee3		 ldr         r3,[r4,#0x6C]
  01b4c	66d3		 str         r3,[r2,#0x6C]

; 893  :     } else {

  01b4e	e002		 b           |$LN1@DeviceStat|
  01b50		 |$LN3@DeviceStat|

; 894  :         if(pds->pPrev != NULL) {

  01b50	6ee3		 ldr         r3,[r4,#0x6C]
  01b52	b103		 cbz         r3,|$LN1@DeviceStat|

; 895  :             pds->pPrev->pNext = NULL;

  01b54	6699		 str         r1,[r3,#0x68]
  01b56		 |$LN1@DeviceStat|

; 896  :         }
; 897  :     }
; 898  : 
; 899  :     // clear list pointers
; 900  :     pds->pNext = NULL;
; 901  :     pds->pPrev = NULL;
; 902  :     pds->pListHead = NULL;
; 903  : 
; 904  :     // decrement the reference count
; 905  :     DeviceStateDecRef(pds);

  01b56	4620		 mov         r0,r4
  01b58	66a1		 str         r1,[r4,#0x68]
  01b5a	66e1		 str         r1,[r4,#0x6C]
  01b5c	6661		 str         r1,[r4,#0x64]
  01b5e	f000 f800	 bl          DeviceStateDecRef

; 94   : }
; 95   : 
; 96   : // release synchronization objects obtained with PmLock()
; 97   : VOID
; 98   : PmUnlock(VOID)
; 99   : {
; 100  :     LeaveCriticalSection(&gcsPowerManager);

  01b62	4803		 ldr         r0,|$LN25@DeviceStat| ; =|gcsPowerManager|
  01b64	f000 f800	 bl          LeaveCriticalSection

; 906  :         
; 907  :     PMUNLOCK();
; 908  : 
; 909  :     return fOk;

  01b68	2001		 movs        r0,#1
  01b6a		 |$M23|

; 910  : }

  01b6a	e8bd 883c	 pop         {r2-r5,r11,pc}
  01b6e		 |$LN31@DeviceStat|
  01b6e		 |$M32|
  01b6e	defe		 __debugbreak
  01b70		 |$LN24@DeviceStat|
  01b70		 |$LN25@DeviceStat|
  01b70	0000 0000	 DCD         |gcsPowerManager|
  01b74		 |$LN26@DeviceStat|
  01b74	0000 0000	 DCD         |??_C@_1FM@HONKCJKL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAm?$AAo?$AAv?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAf?$AAr?$AAo?$AAm?$AA?5@|
  01b78		 |$LN27@DeviceStat|
  01b78	0000 0000	 DCD         |??_C@_1CG@MJDKKDFD@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAS?$AAt?$AAa?$AAt?$AAe?$AAR?$AAe?$AAm?$AAL?$AAi?$AAs?$AAt?$AA?$AA@|
  01b7c		 |$LN28@DeviceStat|
  01b7c	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  01b80		 |$LN29@DeviceStat|
  01b80	0000 0000	 DCD         |??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  01b84		 |$LN30@DeviceStat|
  01b84	0000 0000	 DCD         |dpCurSettings|
  01b88		 |$M21|

			 ENDP  ; |DeviceStateRemList|

	EXPORT	|??_C@_1DA@BOEDGMEE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAP?$AAa?$AAr?$AAs?$AAe?$AAN?$AAa?$AAm?$AAe?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1HG@NNHOCEOL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAo?$AAn?$AA?8?$AAt?$AA?5?$AAk?$AAn?$AAo?$AAw?$AA?5?$AAh?$AAo?$AAw?$AA?5?$AAt?$AAo?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AAn?$AAa?$AAm?$AAe@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EC@CJJOAPHD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AAT?$AAo?$AAG?$AAu?$AAi?$AAd?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$AN?$AA?6@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EO@PDOMGPAM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAM?$AAi?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AA?8?$AA?8?$AA?5?$AAa?$AAf?$AAt?$AAe?$AAr?$AA?5@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FC@IOIEGKDA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAM?$AAi?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAa?$AAf?$AAt?$AAe@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EG@IEOIOHJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAE?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAr?$AAe?$AAa?$AAd?$AAi?$AAn?$AAg?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DM@DPPAKCAI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAG?$AAe?$AAt?$AAC?$AAl?$AAa?$AAs?$AAs?$AAF?$AAr?$AAo?$AAm?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DK@KKOFKFEH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|DeviceIdParseNameString|
	IMPORT	|__GSHandlerCheck_SEH|
	IMPORT	|malloc|
	IMPORT	|free|

  00140			 AREA	 |.pdata|, PDATA
|$pdata1$DeviceIdParseNameString| DCD imagerel |$LN72@DeviceIdPa|
	DCD	imagerel |$unwind2$DeviceIdParseNameString|

  00224			 AREA	 |.xdata|, DATA
	%	4
|$unwind2$DeviceIdParseNameString| DCD 0x33b0010e
	DCD	0x1e80ec7
	DCD	0xe8ffdffc
	DCD	0xffdf01
	DCD	imagerel |__GSHandlerCheck_SEH|
	DCD	0x2
	DCD	imagerel |$LN51@DeviceIdPa|
	DCD	imagerel |$LN52@DeviceIdPa|
	DCD	0x1
	DCD	imagerel |$LN48@DeviceIdPa|
	DCD	imagerel |$LN44@DeviceIdPa|
	DCD	imagerel |$LN45@DeviceIdPa|
	DCD	0x1
	DCD	imagerel |$LN41@DeviceIdPa|
	DCD	0xffffffd9

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DK@KKOFKFEH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "x", 0x0, "c"
	DCB	0x0, "e", 0x0, "p", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, " ", 0x0, "p", 0x0, "a", 0x0, "r", 0x0, "s", 0x0, "i"
	DCB	0x0, "n", 0x0, "g", 0x0, " ", 0x0, "n", 0x0, "a", 0x0, "m"
	DCB	0x0, "e", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DM@DPPAKCAI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAG?$AAe?$AAt?$AAC?$AAl?$AAa?$AAs?$AAs?$AAF?$AAr?$AAo?$AAm?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "G", 0x0, "e", 0x0, "t"
	DCB	0x0, "C", 0x0, "l", 0x0, "a", 0x0, "s", 0x0, "s", 0x0, "F"
	DCB	0x0, "r", 0x0, "o", 0x0, "m", 0x0, "N", 0x0, "a", 0x0, "m"
	DCB	0x0, "e", 0x0, " ", 0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l"
	DCB	0x0, "e", 0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EG@IEOIOHJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAE?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAr?$AAe?$AAa?$AAd?$AAi?$AAn?$AAg?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "E", 0x0, "x", 0x0, "c"
	DCB	0x0, "e", 0x0, "p", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, " ", 0x0, "r", 0x0, "e", 0x0, "a", 0x0, "d", 0x0, "i"
	DCB	0x0, "n", 0x0, "g", 0x0, " ", 0x0, "D", 0x0, "e", 0x0, "v"
	DCB	0x0, "i", 0x0, "c", 0x0, "e", 0x0, "N", 0x0, "a", 0x0, "m"
	DCB	0x0, "e", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FC@IOIEGKDA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAM?$AAi?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAa?$AAf?$AAt?$AAe@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "D", 0x0, "e", 0x0, "v"
	DCB	0x0, "i", 0x0, "c", 0x0, "e", 0x0, "N", 0x0, "a", 0x0, "m"
	DCB	0x0, "e", 0x0, " ", 0x0, "M", 0x0, "i", 0x0, "s", 0x0, "s"
	DCB	0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "n", 0x0, "a"
	DCB	0x0, "m", 0x0, "e", 0x0, " ", 0x0, "a", 0x0, "f", 0x0, "t"
	DCB	0x0, "e", 0x0, "r", 0x0, " ", 0x0, "G", 0x0, "U", 0x0, "I"
	DCB	0x0, "D", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EO@PDOMGPAM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAM?$AAi?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AA?8?$AA?8?$AA?5?$AAa?$AAf?$AAt?$AAe?$AAr?$AA?5@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "D", 0x0, "e", 0x0, "v"
	DCB	0x0, "i", 0x0, "c", 0x0, "e", 0x0, "N", 0x0, "a", 0x0, "m"
	DCB	0x0, "e", 0x0, " ", 0x0, "M", 0x0, "i", 0x0, "s", 0x0, "s"
	DCB	0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "'", 0x0, "'"
	DCB	0x0, " ", 0x0, "a", 0x0, "f", 0x0, "t", 0x0, "e", 0x0, "r"
	DCB	0x0, " ", 0x0, "G", 0x0, "U", 0x0, "I", 0x0, "D", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EC@CJJOAPHD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AAT?$AAo?$AAG?$AAu?$AAi?$AAd?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$AN?$AA?6@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "C", 0x0, "o", 0x0, "n"
	DCB	0x0, "v", 0x0, "e", 0x0, "r", 0x0, "t", 0x0, "S", 0x0, "t"
	DCB	0x0, "r", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, "T", 0x0, "o"
	DCB	0x0, "G", 0x0, "u", 0x0, "i", 0x0, "d", 0x0, " ", 0x0, "f"
	DCB	0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HG@NNHOCEOL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAo?$AAn?$AA?8?$AAt?$AA?5?$AAk?$AAn?$AAo?$AAw?$AA?5?$AAh?$AAo?$AAw?$AA?5?$AAt?$AAo?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AAn?$AAa?$AAm?$AAe@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "d", 0x0, "o", 0x0, "n"
	DCB	0x0, "'", 0x0, "t", 0x0, " ", 0x0, "k", 0x0, "n", 0x0, "o"
	DCB	0x0, "w", 0x0, " ", 0x0, "h", 0x0, "o", 0x0, "w", 0x0, " "
	DCB	0x0, "t", 0x0, "o", 0x0, " ", 0x0, "p", 0x0, "a", 0x0, "r"
	DCB	0x0, "s", 0x0, "e", 0x0, " ", 0x0, "n", 0x0, "a", 0x0, "m"
	DCB	0x0, "e", 0x0, " ", 0x0, "w", 0x0, "i", 0x0, "t", 0x0, "h"
	DCB	0x0, "o", 0x0, "u", 0x0, "t", 0x0, " ", 0x0, "P", 0x0, "O"
	DCB	0x0, "W", 0x0, "E", 0x0, "R", 0x0, "_", 0x0, "N", 0x0, "A"
	DCB	0x0, "M", 0x0, "E", 0x0, " ", 0x0, "f", 0x0, "l", 0x0, "a"
	DCB	0x0, "g", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DA@BOEDGMEE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAP?$AAa?$AAr?$AAs?$AAe?$AAN?$AAa?$AAm?$AAe?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "I"
	DCB	0x0, "d", 0x0, "P", 0x0, "a", 0x0, "r", 0x0, "s", 0x0, "e"
	DCB	0x0, "N", 0x0, "a", 0x0, "m", 0x0, "e", 0x0, "S", 0x0, "t"
	DCB	0x0, "r", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogsp
; File c:\wince800\platform\rrm_ppc_windows\src\drivers\pm\mdd\pmutils.cpp

  01b88			 AREA	 |.text|, CODE, THUMB

  01b88		 |DeviceIdParseNameString| PROC

; 549  : {

  01b88		 |$LN72@DeviceIdPa|
  01b88	e92d 4ff0	 push        {r4-r11,lr}
  01b8c	f20d 0b1c	 addw        r11,sp,#0x1C
  01b90	f000 f800	 bl          __security_push_cookie
  01b94	b08e		 sub         sp,sp,#0x38
  01b96	466f		 mov         r7,sp
  01b98		 |$LN70@DeviceIdPa|
  01b98	4688		 mov         r8,r1
  01b9a	4606		 mov         r6,r0
  01b9c	603e		 str         r6,[r7]

; 550  :     GUID idClass;
; 551  :     BOOL fHaveGUID = FALSE;

  01b9e	2300		 movs        r3,#0
  01ba0	613b		 str         r3,[r7,#0x10]
  01ba2	617b		 str         r3,[r7,#0x14]

; 552  :     LPCTSTR pszName = pszDevName;
; 553  :     LPTSTR pszTempName = NULL;

  01ba4	f04f 0a00	 mov         r10,#0
  01ba8	f8c7 a00c	 str         r10,[r7,#0xC]

; 554  :     PDEVICEID pdi = NULL;

  01bac	f04f 0900	 mov         r9,#0
  01bb0	f8c7 9008	 str         r9,[r7,#8]

; 555  :     DEVICEID di;
; 556  :     SETFNAME(_T("DeviceIdParseNameString"));

  01bb4	4c86		 ldr         r4,|$LN88@DeviceIdPa| ; =|??_C@_1DA@BOEDGMEE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAP?$AAa?$AAr?$AAs?$AAe?$AAN?$AAa?$AAm?$AAe?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AA?$AA@|
  01bb6	607c		 str         r4,[r7,#4]

; 557  : 
; 558  :     // sanity check the parameters
; 559  :     PREFAST_DEBUGCHK(pszName != NULL);

  01bb8	4d7c		 ldr         r5,|$LN79@DeviceIdPa| ; =|dpCurSettings|
  01bba	b93e		 cbnz        r6,|$LN22@DeviceIdPa|
  01bbc	f240 232f	 mov         r3,#0x22F
  01bc0	4a82		 ldr         r2,|$LN87@DeviceIdPa| ; =|??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  01bc2	4881		 ldr         r0,|$LN86@DeviceIdPa| ; =|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  01bc4	4629		 mov         r1,r5
  01bc6	f000 f800	 bl          NKDbgPrintfW
  01bca	defe		 __debugbreak
  01bcc		 |$LN22@DeviceIdPa|

; 560  :     if((dwFlags & POWER_NAME) == 0) {

  01bcc	f018 0f01	 tst         r8,#1
  01bd0	d10f		 bne         |$LN18@DeviceIdPa|

; 561  :         PMLOGMSG(ZONE_WARN, 
; 562  :             (_T("%s: don't know how to parse name without POWER_NAME flag\r\n"),
; 563  :             pszFname));

  01bd2	f8d5 3440	 ldr         r3,[r5,#0x440]
  01bd6	f013 0f02	 tst         r3,#2
  01bda	d007		 beq         |$LN23@DeviceIdPa|
  01bdc	4621		 mov         r1,r4
  01bde	4879		 ldr         r0,|$LN85@DeviceIdPa| ; =|??_C@_1HG@NNHOCEOL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAo?$AAn?$AA?8?$AAt?$AA?5?$AAk?$AAn?$AAo?$AAw?$AA?5?$AAh?$AAo?$AAw?$AA?5?$AAt?$AAo?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AAn?$AAa?$AAm?$AAe@|
  01be0	f000 f800	 bl          NKDbgPrintfW
  01be4	4621		 mov         r1,r4
  01be6	4877		 ldr         r0,|$LN85@DeviceIdPa| ; =|??_C@_1HG@NNHOCEOL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAo?$AAn?$AA?8?$AAt?$AA?5?$AAk?$AAn?$AAo?$AAw?$AA?5?$AAh?$AAo?$AAw?$AA?5?$AAt?$AAo?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AAn?$AAa?$AAm?$AAe@|
  01be8	f000 f800	 bl          CeLogMsg
  01bec		 |$LN23@DeviceIdPa|

; 564  :         return NULL;

  01bec	f04f 0900	 mov         r9,#0
  01bf0	e0d2		 b           |$LN19@DeviceIdPa|
  01bf2		 |$LN18@DeviceIdPa|
  01bf2		 |$LN44@DeviceIdPa|

; 565  :     }
; 566  : 
; 567  :     // is the name prefixed with a guid?
; 568  :     __try {
; 569  :         BOOL fOk = TRUE;

  01bf2	f04f 0801	 mov         r8,#1

; 570  :         if(*pszName == '{') {

  01bf6	8833		 ldrh        r3,[r6]
  01bf8	2b7b		 cmp         r3,#0x7B
  01bfa	d12c		 bne         |$LN61@DeviceIdPa|

; 571  :             if(!ConvertStringToGuid(pszName, &idClass)) {

  01bfc	f117 0128	 adds        r1,r7,#0x28
  01c00	4630		 mov         r0,r6
  01c02	f000 f800	 bl          ConvertStringToGuid
  01c06	b950		 cbnz        r0,|$LN15@DeviceIdPa|

; 572  :                 // indicate an error later
; 573  :                 PMLOGMSG(ZONE_WARN, (_T("%s: ConvertStringToGuid failed\r\n"),
; 574  :                 pszFname));

  01c08	f8d5 3440	 ldr         r3,[r5,#0x440]
  01c0c	f013 0f02	 tst         r3,#2
  01c10	d018		 beq         |$LN27@DeviceIdPa|
  01c12	4621		 mov         r1,r4
  01c14	486a		 ldr         r0,|$LN84@DeviceIdPa| ; =|??_C@_1EC@CJJOAPHD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AAT?$AAo?$AAG?$AAu?$AAi?$AAd?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$AN?$AA?6@|
  01c16	f000 f800	 bl          NKDbgPrintfW
  01c1a	4869		 ldr         r0,|$LN84@DeviceIdPa| ; =|??_C@_1EC@CJJOAPHD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AAT?$AAo?$AAG?$AAu?$AAi?$AAd?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$AN?$AA?6@|

; 575  :                 fOk = FALSE;
; 576  :             } else {

  01c1c	e00f		 b           |$LN69@DeviceIdPa|
  01c1e		 |$LN15@DeviceIdPa|

; 577  :                 // skip the guid, we are guaranteed the length of the guid 
; 578  :                 // because the guid parsed ok.
; 579  :                 pszName += 38; // go to the char after the close brace

  01c1e	364c		 adds        r6,r6,#0x4C
  01c20	603e		 str         r6,[r7]
  01c22	627e		 str         r6,[r7,#0x24]

; 580  :                 if(*pszName != _T('\\')) {

  01c24	8833		 ldrh        r3,[r6]
  01c26	2b5c		 cmp         r3,#0x5C
  01c28	d00f		 beq         |$LN13@DeviceIdPa|

; 572  :                 // indicate an error later
; 573  :                 PMLOGMSG(ZONE_WARN, (_T("%s: ConvertStringToGuid failed\r\n"),
; 574  :                 pszFname));

  01c2a	f8d5 3440	 ldr         r3,[r5,#0x440]

; 581  :                     PMLOGMSG(ZONE_WARN, 
; 582  :                         (_T("%s: DeviceName Missing '\' after GUID\r\n"),
; 583  :                         pszFname));

  01c2e	f013 0f02	 tst         r3,#2
  01c32	d007		 beq         |$LN27@DeviceIdPa|
  01c34	4621		 mov         r1,r4
  01c36	4861		 ldr         r0,|$LN83@DeviceIdPa| ; =|??_C@_1EO@PDOMGPAM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAM?$AAi?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AA?8?$AA?8?$AA?5?$AAa?$AAf?$AAt?$AAe?$AAr?$AA?5@|
  01c38	f000 f800	 bl          NKDbgPrintfW
  01c3c	485f		 ldr         r0,|$LN83@DeviceIdPa| ; =|??_C@_1EO@PDOMGPAM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAM?$AAi?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AA?8?$AA?8?$AA?5?$AAa?$AAf?$AAt?$AAe?$AAr?$AA?5@|
  01c3e		 |$LN69@DeviceIdPa|
  01c3e	4621		 mov         r1,r4
  01c40	f000 f800	 bl          CeLogMsg
  01c44		 |$LN27@DeviceIdPa|

; 584  :                     fOk = FALSE;

  01c44	2600		 movs        r6,#0
  01c46	46b0		 mov         r8,r6

; 585  :                 } else {

  01c48	e006		 b           |$LN12@DeviceIdPa|
  01c4a		 |$LN13@DeviceIdPa|

; 586  :                     pszName++;

  01c4a	3602		 adds        r6,#2
  01c4c	603e		 str         r6,[r7]
  01c4e	627e		 str         r6,[r7,#0x24]

; 587  :                     fHaveGUID = TRUE;

  01c50	2301		 movs        r3,#1
  01c52	613b		 str         r3,[r7,#0x10]
  01c54	617b		 str         r3,[r7,#0x14]
  01c56		 |$LN61@DeviceIdPa|
  01c56	2600		 movs        r6,#0
  01c58		 |$LN12@DeviceIdPa|

; 588  :                 }
; 589  :             }
; 590  :         } 
; 591  : 
; 592  :         
; 593  :         // Check if we have a name
; 594  :         if( *pszName == 0 )

  01c58	683a		 ldr         r2,[r7]
  01c5a	8813		 ldrh        r3,[r2]
  01c5c	b973		 cbnz        r3,|$LN11@DeviceIdPa|

; 572  :                 // indicate an error later
; 573  :                 PMLOGMSG(ZONE_WARN, (_T("%s: ConvertStringToGuid failed\r\n"),
; 574  :                 pszFname));

  01c5e	f8d5 3440	 ldr         r3,[r5,#0x440]

; 595  :         {
; 596  :             PMLOGMSG(ZONE_WARN, (_T("%s: DeviceName Missing name after GUID\r\n"),
; 597  :                 pszFname));

  01c62	f013 0f02	 tst         r3,#2
  01c66	d008		 beq         |$LN29@DeviceIdPa|
  01c68	4621		 mov         r1,r4
  01c6a	4853		 ldr         r0,|$LN82@DeviceIdPa| ; =|??_C@_1FC@IOIEGKDA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAM?$AAi?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAa?$AAf?$AAt?$AAe@|
  01c6c	f000 f800	 bl          NKDbgPrintfW
  01c70	4621		 mov         r1,r4
  01c72	4851		 ldr         r0,|$LN82@DeviceIdPa| ; =|??_C@_1FC@IOIEGKDA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAM?$AAi?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAa?$AAf?$AAt?$AAe@|
  01c74	f000 f800	 bl          CeLogMsg
  01c78	683a		 ldr         r2,[r7]
  01c7a		 |$LN29@DeviceIdPa|

; 598  :             fOk = FALSE;

  01c7a	46b0		 mov         r8,r6
  01c7c		 |$LN11@DeviceIdPa|

; 599  :         }            
; 600  : 
; 601  :         // Convert the name to lower case
; 602  :         if( fOk ){

  01c7c	f1b8 0f00	 cmp         r8,#0
  01c80	d039		 beq         |$LN66@DeviceIdPa|

; 603  :             DWORD dwLen;
; 604  :             DWORD cchName;
; 605  : 
; 606  :             // yes, save it and convert to lower case
; 607  :             cchName = _tcslen(pszName);

  01c82	4610		 mov         r0,r2
  01c84	f000 f800	 bl          wcslen
  01c88	61b8		 str         r0,[r7,#0x18]

; 608  :             dwLen = (cchName + 1) * sizeof(*pszName);

  01c8a	1c43		 adds        r3,r0,#1
  01c8c		 |$LN51@DeviceIdPa|

; 609  :             __try {
; 610  :                 DWORD dwIndex;
; 611  :                 pszTempName = (LPTSTR) malloc(dwLen);              

  01c8c	0058		 lsls        r0,r3,#1
  01c8e	f000 f800	 bl          malloc
  01c92	4682		 mov         r10,r0
  01c94	6238		 str         r0,[r7,#0x20]
  01c96	60f8		 str         r0,[r7,#0xC]

; 612  :                 if (pszTempName) {

  01c98	b190		 cbz         r0,|$LN8@DeviceIdPa|

; 613  :                     for(dwIndex = 0; dwIndex < cchName; dwIndex++) {

  01c9a	46b2		 mov         r10,r6
  01c9c		 |$LL7@DeviceIdPa|
  01c9c	69bb		 ldr         r3,[r7,#0x18]
  01c9e	459a		 cmp         r10,r3
  01ca0	d20a		 bcs         |$LN5@DeviceIdPa|

; 614  :                         pszTempName[dwIndex] = _totlower(pszName[dwIndex]);

  01ca2	683b		 ldr         r3,[r7]
  01ca4	f833 001a	 ldrh        r0,[r3,r10,lsl #1]
  01ca8	f000 f800	 bl          towlower
  01cac	6a3b		 ldr         r3,[r7,#0x20]
  01cae	f823 001a	 strh        r0,[r3,r10,lsl #1]

; 613  :                     for(dwIndex = 0; dwIndex < cchName; dwIndex++) {

  01cb2	f10a 0a01	 add         r10,r10,#1
  01cb6	e7f1		 b           |$LL7@DeviceIdPa|
  01cb8		 |$LN5@DeviceIdPa|

; 615  :                     }
; 616  :                     pszTempName[cchName] = 0;

  01cb8	f8d7 a020	 ldr         r10,[r7,#0x20]
  01cbc	f82a 6013	 strh        r6,[r10,r3,lsl #1]
  01cc0		 |$LN8@DeviceIdPa|

; 617  :                 }
; 618  :                 di.pszName = pszTempName;

  01cc0	f8c7 a01c	 str         r10,[r7,#0x1C]
  01cc4		 |$LN52@DeviceIdPa|

; 619  :             } 

  01cc4	693b		 ldr         r3,[r7,#0x10]
  01cc6	e017		 b           |$LN53@DeviceIdPa|
  01cc8		 |$LN48@DeviceIdPa|
  01cc8		 |$LN50@DeviceIdPa|

; 620  :             __except(EXCEPTION_EXECUTE_HANDLER) {
; 621  :                 PMLOGMSG(ZONE_WARN, (_T("%s: Exception reading DeviceName\r\n"),
; 622  :                     pszFname));

  01cc8	4d38		 ldr         r5,|$LN79@DeviceIdPa| ; =|dpCurSettings|

; 572  :                 // indicate an error later
; 573  :                 PMLOGMSG(ZONE_WARN, (_T("%s: ConvertStringToGuid failed\r\n"),
; 574  :                 pszFname));

  01cca	f8d5 3440	 ldr         r3,[r5,#0x440]

; 620  :             __except(EXCEPTION_EXECUTE_HANDLER) {
; 621  :                 PMLOGMSG(ZONE_WARN, (_T("%s: Exception reading DeviceName\r\n"),
; 622  :                     pszFname));

  01cce	f013 0f02	 tst         r3,#2
  01cd2	687c		 ldr         r4,[r7,#4]
  01cd4	d007		 beq         |$LN31@DeviceIdPa|
  01cd6	4621		 mov         r1,r4
  01cd8	4836		 ldr         r0,|$LN81@DeviceIdPa| ; =|??_C@_1EG@IEOIOHJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAE?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAr?$AAe?$AAa?$AAd?$AAi?$AAn?$AAg?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe@|
  01cda	f000 f800	 bl          NKDbgPrintfW
  01cde	4621		 mov         r1,r4
  01ce0	4834		 ldr         r0,|$LN81@DeviceIdPa| ; =|??_C@_1EG@IEOIOHJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAE?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAr?$AAe?$AAa?$AAd?$AAi?$AAn?$AAg?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe@|
  01ce2	f000 f800	 bl          CeLogMsg
  01ce6		 |$LN31@DeviceIdPa|

; 623  :                 fOk = FALSE;

  01ce6	2600		 movs        r6,#0
  01ce8	46b0		 mov         r8,r6
  01cea	697b		 ldr         r3,[r7,#0x14]
  01cec	f8d7 a00c	 ldr         r10,[r7,#0xC]
  01cf0	f8d7 9008	 ldr         r9,[r7,#8]
  01cf4	e000		 b           |$LN53@DeviceIdPa|
  01cf6		 |$LN66@DeviceIdPa|
  01cf6	693b		 ldr         r3,[r7,#0x10]
  01cf8		 |$LN53@DeviceIdPa|

; 624  :             }
; 625  :         }
; 626  : 
; 627  :         // If we don't have a GUID yet, find the GUID from the lower case name
; 628  :         if( fOk && !fHaveGUID ) {

  01cf8	f1b8 0f00	 cmp         r8,#0
  01cfc	d020		 beq         |$LN45@DeviceIdPa|
  01cfe	b99b		 cbnz        r3,|$LN63@DeviceIdPa|

; 629  :             if(!GetClassFromName( pszTempName, &idClass )){

  01d00	f117 0128	 adds        r1,r7,#0x28
  01d04	4650		 mov         r0,r10
  01d06	f000 f800	 bl          |?GetClassFromName@@YAHPBGPAU_GUID@@@Z|
  01d0a	b968		 cbnz        r0,|$LN63@DeviceIdPa|

; 572  :                 // indicate an error later
; 573  :                 PMLOGMSG(ZONE_WARN, (_T("%s: ConvertStringToGuid failed\r\n"),
; 574  :                 pszFname));

  01d0c	f8d5 3440	 ldr         r3,[r5,#0x440]

; 630  :                 PMLOGMSG(ZONE_WARN, (_T("%s: GetClassFromName failed\r\n"),
; 631  :                     pszFname));

  01d10	f013 0f02	 tst         r3,#2
  01d14	d007		 beq         |$LN33@DeviceIdPa|
  01d16	4621		 mov         r1,r4
  01d18	4825		 ldr         r0,|$LN80@DeviceIdPa| ; =|??_C@_1DM@DPPAKCAI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAG?$AAe?$AAt?$AAC?$AAl?$AAa?$AAs?$AAs?$AAF?$AAr?$AAo?$AAm?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  01d1a	f000 f800	 bl          NKDbgPrintfW
  01d1e	4621		 mov         r1,r4
  01d20	4823		 ldr         r0,|$LN80@DeviceIdPa| ; =|??_C@_1DM@DPPAKCAI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAG?$AAe?$AAt?$AAC?$AAl?$AAa?$AAs?$AAs?$AAF?$AAr?$AAo?$AAm?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  01d22	f000 f800	 bl          CeLogMsg
  01d26		 |$LN33@DeviceIdPa|

; 632  :                 fOk = FALSE;

  01d26	46b0		 mov         r8,r6
  01d28		 |$LN63@DeviceIdPa|

; 633  :             }
; 634  :         }            
; 635  : 
; 636  :         // Clone the DeviceId to be returned
; 637  :         if( fOk ) {

  01d28	f1b8 0f00	 cmp         r8,#0
  01d2c	d008		 beq         |$LN45@DeviceIdPa|

; 638  :             di.pGuid = &idClass;

  01d2e	f117 0328	 adds        r3,r7,#0x28
  01d32	61bb		 str         r3,[r7,#0x18]

; 639  :             pdi = DeviceIdClone(&di);

  01d34	f117 0018	 adds        r0,r7,#0x18
  01d38	f000 f800	 bl          DeviceIdClone
  01d3c	4681		 mov         r9,r0
  01d3e	60b8		 str         r0,[r7,#8]
  01d40		 |$LN45@DeviceIdPa|

; 640  :         }
; 641  : 
; 642  :         
; 643  :     }

  01d40	e012		 b           |$LN46@DeviceIdPa|
  01d42		 |$LN41@DeviceIdPa|
  01d42		 |$LN43@DeviceIdPa|

; 644  :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 645  :         PMLOGMSG(ZONE_WARN, (_T("%s: exception parsing name\r\n"), pszFname));

  01d42	4d1a		 ldr         r5,|$LN79@DeviceIdPa| ; =|dpCurSettings|

; 572  :                 // indicate an error later
; 573  :                 PMLOGMSG(ZONE_WARN, (_T("%s: ConvertStringToGuid failed\r\n"),
; 574  :                 pszFname));

  01d44	f8d5 3440	 ldr         r3,[r5,#0x440]

; 644  :     __except(EXCEPTION_EXECUTE_HANDLER) {
; 645  :         PMLOGMSG(ZONE_WARN, (_T("%s: exception parsing name\r\n"), pszFname));

  01d48	f013 0f02	 tst         r3,#2
  01d4c	687c		 ldr         r4,[r7,#4]
  01d4e	d007		 beq         |$LN35@DeviceIdPa|
  01d50	4621		 mov         r1,r4
  01d52	4815		 ldr         r0,|$LN78@DeviceIdPa| ; =|??_C@_1DK@KKOFKFEH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?$AN?$AA?6?$AA?$AA@|
  01d54	f000 f800	 bl          NKDbgPrintfW
  01d58	4621		 mov         r1,r4
  01d5a	4813		 ldr         r0,|$LN78@DeviceIdPa| ; =|??_C@_1DK@KKOFKFEH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?$AN?$AA?6?$AA?$AA@|
  01d5c	f000 f800	 bl          CeLogMsg
  01d60		 |$LN35@DeviceIdPa|
  01d60	f8d7 a00c	 ldr         r10,[r7,#0xC]
  01d64	f8d7 9008	 ldr         r9,[r7,#8]
  01d68		 |$LN46@DeviceIdPa|

; 646  :     }
; 647  : 
; 648  :     if (pszTempName)

  01d68	f1ba 0f00	 cmp         r10,#0
  01d6c	d002		 beq         |$LN1@DeviceIdPa|

; 649  :         free(pszTempName);

  01d6e	4650		 mov         r0,r10
  01d70	f000 f800	 bl          free
  01d74		 |$LN1@DeviceIdPa|

; 650  : 
; 651  :     PMLOGMSG(pdi == NULL && ZONE_WARN, (_T("%s: returning 0x%08x\r\n"), pszFname, pdi));

  01d74	f1b9 0f00	 cmp         r9,#0
  01d78	d10e		 bne         |$LN19@DeviceIdPa|

; 572  :                 // indicate an error later
; 573  :                 PMLOGMSG(ZONE_WARN, (_T("%s: ConvertStringToGuid failed\r\n"),
; 574  :                 pszFname));

  01d7a	f8d5 3440	 ldr         r3,[r5,#0x440]

; 650  : 
; 651  :     PMLOGMSG(pdi == NULL && ZONE_WARN, (_T("%s: returning 0x%08x\r\n"), pszFname, pdi));

  01d7e	f013 0f02	 tst         r3,#2
  01d82	d009		 beq         |$LN19@DeviceIdPa|
  01d84	2200		 movs        r2,#0
  01d86	4621		 mov         r1,r4
  01d88	4806		 ldr         r0,|$LN77@DeviceIdPa| ; =|??_C@_1CO@HPJBBGLL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  01d8a	f000 f800	 bl          NKDbgPrintfW
  01d8e	2200		 movs        r2,#0
  01d90	4621		 mov         r1,r4
  01d92	4804		 ldr         r0,|$LN77@DeviceIdPa| ; =|??_C@_1CO@HPJBBGLL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  01d94	f000 f800	 bl          CeLogMsg
  01d98		 |$LN19@DeviceIdPa|

; 652  :     return pdi;
; 653  : }

  01d98	4648		 mov         r0,r9
  01d9a		 |$M75|
  01d9a	b00e		 add         sp,sp,#0x38
  01d9c	f000 f800	 bl          __security_pop_cookie
  01da0	e8bd 8ff0	 pop         {r4-r11,pc}
  01da4		 |$LN76@DeviceIdPa|
  01da4		 |$LN77@DeviceIdPa|
  01da4	0000 0000	 DCD         |??_C@_1CO@HPJBBGLL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAr?$AAe?$AAt?$AAu?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  01da8		 |$LN78@DeviceIdPa|
  01da8	0000 0000	 DCD         |??_C@_1DK@KKOFKFEH@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?$AN?$AA?6?$AA?$AA@|
  01dac		 |$LN79@DeviceIdPa|
  01dac	0000 0000	 DCD         |dpCurSettings|
  01db0		 |$LN80@DeviceIdPa|
  01db0	0000 0000	 DCD         |??_C@_1DM@DPPAKCAI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAG?$AAe?$AAt?$AAC?$AAl?$AAa?$AAs?$AAs?$AAF?$AAr?$AAo?$AAm?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  01db4		 |$LN81@DeviceIdPa|
  01db4	0000 0000	 DCD         |??_C@_1EG@IEOIOHJA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAE?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAr?$AAe?$AAa?$AAd?$AAi?$AAn?$AAg?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe@|
  01db8		 |$LN82@DeviceIdPa|
  01db8	0000 0000	 DCD         |??_C@_1FC@IOIEGKDA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAM?$AAi?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AAn?$AAa?$AAm?$AAe?$AA?5?$AAa?$AAf?$AAt?$AAe@|
  01dbc		 |$LN83@DeviceIdPa|
  01dbc	0000 0000	 DCD         |??_C@_1EO@PDOMGPAM@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAN?$AAa?$AAm?$AAe?$AA?5?$AAM?$AAi?$AAs?$AAs?$AAi?$AAn?$AAg?$AA?5?$AA?8?$AA?8?$AA?5?$AAa?$AAf?$AAt?$AAe?$AAr?$AA?5@|
  01dc0		 |$LN84@DeviceIdPa|
  01dc0	0000 0000	 DCD         |??_C@_1EC@CJJOAPHD@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAo?$AAn?$AAv?$AAe?$AAr?$AAt?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AAT?$AAo?$AAG?$AAu?$AAi?$AAd?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$AN?$AA?6@|
  01dc4		 |$LN85@DeviceIdPa|
  01dc4	0000 0000	 DCD         |??_C@_1HG@NNHOCEOL@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAd?$AAo?$AAn?$AA?8?$AAt?$AA?5?$AAk?$AAn?$AAo?$AAw?$AA?5?$AAh?$AAo?$AAw?$AA?5?$AAt?$AAo?$AA?5?$AAp?$AAa?$AAr?$AAs?$AAe?$AA?5?$AAn?$AAa?$AAm?$AAe@|
  01dc8		 |$LN86@DeviceIdPa|
  01dc8	0000 0000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  01dcc		 |$LN87@DeviceIdPa|
  01dcc	0000 0000	 DCD         |??_C@_1II@PAPGDBNL@?$AAc?$AA?3?$AA?2?$AAw?$AAi?$AAn?$AAc?$AAe?$AA8?$AA0?$AA0?$AA?2?$AAp?$AAl?$AAa?$AAt?$AAf?$AAo?$AAr?$AAm?$AA?2?$AAr?$AAr?$AAm?$AA_?$AAp?$AAp?$AAc?$AA_?$AAw?$AAi?$AAn@|
  01dd0		 |$LN88@DeviceIdPa|
  01dd0	0000 0000	 DCD         |??_C@_1DA@BOEDGMEE@?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAd?$AAP?$AAa?$AAr?$AAs?$AAe?$AAN?$AAa?$AAm?$AAe?$AAS?$AAt?$AAr?$AAi?$AAn?$AAg?$AA?$AA@|

			 ENDP  ; |DeviceIdParseNameString|

  01dd4		 |$LN71@DeviceIdPa|
	END
